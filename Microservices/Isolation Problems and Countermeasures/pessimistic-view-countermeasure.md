---
share: true
tags:
 - microservice/transaction
 - microservice/isolation/countermeasure
---
# Контрмера "пессимистическое представление"
Для этого меняем местами этапы повествования, чтобы снизить бизнес-риски, связанные с грязным чтением. [[dirty-reading-problem|В примере]] повествование `Create Order` выполняет грязное чтение доступных кредитных средств. Чтобы уменьшить вероятность этого, переставим этапы:
1. Сервис `Order` меняет состояние заказа на `CANCELLED`;
2. Сервис `Delivery` отменяет доставку.
3. Сервис `Consumer` увеличивает доступный кредит;
Видно, теперь что этап 2 - [[saga-turning-point|поворотный]], а увеличение кредита происходит в рамках [[saga-repeatable|повторяемой]] транзакции.