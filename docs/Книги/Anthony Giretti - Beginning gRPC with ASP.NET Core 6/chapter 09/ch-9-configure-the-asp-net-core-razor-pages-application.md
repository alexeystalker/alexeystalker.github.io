---
share: true
---
# Настраиваем приложение Razor Pages
Перед тем, как мы реализуем пользовательский интерфейс (в виде приложения ASP.NET Core Razor Pages), нам необходимо сделать две вещи.
1. Создать фоновую задачу (в виде hosted service), которая будет обрабатывать загруженные файлы данных, а также создать канал (отличающийся от [[ch-3-grpc-channel|канала gRPC]]), позволяющий передавать данные между фоновой задачей и приложением Razor Pages (фактически это будут два приложения, запущенные на одном хосте). Информацию о том, был ли файл синхронизирован, будем отображать при помощи глобальной переменной, хранящейся в настройках приложения.
2. Создать и сконфигурировать клиент gRPC при помощи `IHttpClientFactory`, а также зарегистрировать все зависимости в файле **Program.cs**.

#### [[ch-9-create-a-background-task-for-handling-uploaded-file-data-and-create-a-channel-to-store-data|Создадим фоновую задачу для обработки загруженного файла и канал для хранения данных]]
#### [[ch-9-create-and-configure-the-grpc-client-with-the-ihttpclientfactory-and-register-all-dependencies-in-the-program-cs-file|Создадим и сконфигурируем клиент gRPC при помощи IHttpClientFactory, а также зарегистрируем все зависимости в файле Program.cs]]
