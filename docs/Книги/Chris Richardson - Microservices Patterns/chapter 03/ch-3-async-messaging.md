---
share: true
tags: 
 - microservice/messaging
 - microservice/communication
---
# Взаимодействие с помощью асинхронного обмена сообщениями
Сервисы могут взаимодействовать путём асинхронного [[messaging-pattern|обмена сообщениями]].
#### Обзор механизмов обмена сообщениями
Рассмотрим модель обмена сообщениями, описанной в книге [Шаблоны интеграции корпоративных приложений](https://www.ozon.ru/product/shablony-integratsii-korporativnyh-prilozheniy-signature-series-151531716/). В этой модели [[microservices-message|сообщения]] передаются по [[message-channel|каналам]]. Отправитель пишет сообщение в канал, а получатель считывает его из этого канала.
#### [[ch-3-messaging-styles-realization|Реализация стилей взаимодействия]]
#### Создание спецификации для API сервиса на основе сообщений
 Спецификация такого [[api|API]] должна содержать имена каналов, а также типы и форматы сообщений, допустимые в каждом из них. 
 - *API в стиле [[request-async-response-messaging|”запрос-асихронный ответ”]]* состоит из канала команд сервиса, типов и форматов команд, которые сервис принимает, а также типов и форматов ответных сообщений.
 - *API в стиле [[notifications-messaging|однонаправленных сообщений]]* состоит из имени канала команд сервиса, а также типов и форматов команд.
 - *API в стиле [[publish-subscribe-messaging|"издатель/подписчик"]]* состоит из канала событий, а также типов и форматов публикуемых сообщений.

#### [[ch-3-message-broker-usage|Использование брокера сообщений]]
#### Возможные проблемы
Также нужно рассмотреть некоторые архитектурные проблемы, связанные с 
асинхронными сообщениями.
- [[ch-3-concurrent-recievers|Конкурирующие получатели]]
- [[ch-3-message-duplicates|Дублирование сообщений]]

#### [[ch-3-transactional-messaging|Транзакционный обмен сообщениями]]


