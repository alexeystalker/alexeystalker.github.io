---
share: true
tags:
 - microservice/data-management
---
# Проблемы традиционного сохранения данных.
Традиционный подход к сохранению данных подразумевает привязывание классов к таблицам БД, полей этих классов — к столбцам, а экземпляров — к строкам. Так хранят данные большинство промышленных приложений. Однако у него есть несколько недостатков.
## Объектно-реляционный разрыв
Эта проблема заключается в концептуальном несоответствии между табличной реляционной схемой и графовой структурой развитой доменной модели.
## Нехватка истории агрегатов
В традиционном подходе предусмотрено хранение лишь текущего состояния агрегата. После обновления агрегата его предыдущее состояние теряется. В случае, когда есть требование хранения истории агрегата, этот механизм нужно реализовывать отдельно.
## Реализация журнала аудита — хлопотный процесс, чреватый ошибками
Иногда требуется вести журнал того, какие пользователи меняли агрегат. Трудность в том, что код ведения журнала (который требуется реализовывать отдельно) может расходиться с бизнес-логикой, что может приводить к ошибкам.
## Публикация событий не является частью бизнес-логики
Традиционный подход обычно не поддерживает публикацию [[domain-event-pattern|доменных событий]]. Поэтому, как и в случае с историей и аудитом, приходится дописывать эту логику отдельно, что может привести к разъезжанию с бизнес-логикой.