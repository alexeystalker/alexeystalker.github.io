---
share: true
tags:
 - NET/SignalR
 - JavaScript
---
# Добавляем зависимости
Есть два способа добавить библиотеку SignalR к зависимостям: либо скачать её через NPM и потом добавить в HTML ссылку на файл в вашей файловой системе, либо добавить прямую ссылку на файл в сети доставки контента (CDN). Первый метод сложнее, но позволяет надёжно добавить файл к приложению. Второй метод проще, но отсутствует контроль за содержимым файла, получаемого по прямой ссылке. Начнем с более простого метода.
## Добавляем библиотеку SignalR при помощи CDN
В случае использования Razor Pages удобнее всего будет добавить ссылку на библиотеку в файл **\_Layout.cshtml**, который находится в подпапке **Shared** папки **Views**[^1]. Просто добавим в этот файл следующее.
```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/6.0.1/signalr.min.js"></script>
```
> [!important] Важно
> Ссылку на библиотеку нужно добавить до ссылки на файл, где она будет использоваться, в данном случае - файл **js/site.js**.

[^1]:О файле **\_Layout.cshtml** можно подробнее прочесть [[ch-7-using-layouts-for-shared-markup|тут]]
## Добавляем библиотеку SignalR при помощи NPM
Прежде всего, убедимся, что NPM (Node Project Manager) установлен на нашей машине. Затем нужно выполнить в консоли, находясь в папке с проектом **SignalRServer** следующую команду
```bash
npm init -y 
```
Тем самым мы инициируем проект Node.js в этой папке. При этом в папке появятся файлы **package.json** и **package.lock.json**. Теперь нам надо скачать библиотеку. Сделаем это командой
```bash
npm install @microsoft/signalr
```
Будет создана папка **node_modules**. Внутри этой папки найдем папку **@microsoft/signalr/dist/browser** и в ней найдем файлы **signalr.js** и **signalr.min.js**. Скопируем один из этих файлов в папку **wwwroot/lib** нашего проекта.
Если следовать стандартным соглашениям, необходимо создать папку **signalr** внутри папки **wwwroot/lib** и поместить файл с библиотекой туда. Однако это всего лишь вопрос следования соглашению.
Теперь добавим в **\_Layout.cshtml** следующую строчку (она должна располагаться выше строки со ссылкой на **site.js**)
```html
<script src="~/lib/signalr/signalr.js"></script>
```
Теперь можно удалить папку **node_modules**, а также файлы **package.json** и **package.lock.json**, они нам больше не понадобятся.
