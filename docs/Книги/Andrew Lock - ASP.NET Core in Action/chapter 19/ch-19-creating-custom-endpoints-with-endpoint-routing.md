---
share: true
tags:
 - NET/ASPNETCore/endpoint
---
# Создание специальных конечных точек с помощью маршрутизации конечных точек
В [[ch-19-customizing-middleware-pipeline|предыдущем разделе]] мы рассмотрели создание простых компонентов конвейера промежуточного ПО и простых ветвлений. Но что делать, если требуется более сложная логика [[ch-5-routing-in-asp-net-core|маршрутизации]] или, к примеру, использование [[ch-15-authorization|авторизации]]? В этом случае нужно от компонентов промежуточного ПО перейти к [[endpoint|конечным точкам]]. Рассмотрим, что нам понадобится для этого.
#### [[ch-19-creating-custom-endpoint-routing-component|Создание специального компонента маршрутизации конечных точек]]
#### [[ch-19-creating-simple-endpoints-with-mapget-and-writejsonasync|Создание простых конечных точек с помощью MapGet и WriteJsonAsync]]
#### [[ch-19-applying-authorization-to-endpoints|Применение авторизации к конечным точкам]]
#### Список методов для добавления функциональности к конечным точкам
Существует несколько методов расширения, добавляющих функциональность к конечным точкам:
 - `RequireAuthorization` -  применяет политики авторизации к конечной точке;
 - `AllowAnonymous()` - переопределяет глобальную политику авторизации для разрешения анонимного доступа;
 - `RequireCors(policy)` - применяет [[ch-18-calling-web-apis-from-other-domains-using-cors|политику CORS]] к конечной точке;
 - `RequireHost(hosts)` - разрешает маршрутизацию к конечной точке только в том случае, если входящий запрос соответствует одному из представленных имён хоста;
 - `WithDisplayName(name)` - задаёт понятное имя для конечной точки. Используется в основном для журналирования;
 - `WithMetadata(items)` - добавляет произвольные значения в качестве метаданных в конечную точку. Получить доступ к этим значениям из промежуточного ПО можно после того, как компонент маршрутизации выберет конечную точку.