---
share: True
tags: 
- microservice/pattern
- microservice/observability
---
# Шаблон "API проверки работоспособности"
![[Pasted image 20211101203918.png]]
Сервис открывает доступ к конечной точке наподобие `GET \health`, которая возвращает данные о работоспособности сервиса. Инфраструктура развертывания периодически обращается по соответствующему адресу, чтобы понять, в каком состоянии находится экземпляр сервиса, и, возможно, принять необходимые меры.
## Реализация конечной точки для проверки работоспособности
Код, реализующий конечную точку для проверки работоспособности должен каким-то образом определять состояние экземпляра сервиса. Например, получить соединение с БД и выполнить тестовый запрос (либо выполняет более сложную тестовую логику). Также можно добавить проверку соединения с брокером сообщений.
## Обращение к конечной точке проверки работоспособности
При развертывании сервиса инфраструктура конфигурируется так, чтобы она обращалась к его конечной точке.

## Ссылки
https://microservices.io/patterns/observability/health-check-api.html
https://docs.microsoft.com/en-us/dotnet/architecture/microservices/implement-resilient-applications/monitor-app-health