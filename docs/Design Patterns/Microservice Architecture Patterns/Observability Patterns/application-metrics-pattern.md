---
share: true
tags:
 - microservice/pattern
 - microservice/observability
---
# Шаблон “Метрики приложения”
Сервис шлет отчеты центральному серверу, который предоставляет агрегацию, визуализацию и оповещения.
![[Pasted image 20211102222914.png]]
## Сбор показателей уровня сервиса
Существуют разные библиотеки для сбора показателей, например, для Java есть библиотека Micrometer Metrics.
## Доставка собраных данных на сервер показателей
Собранные данные могут попасть от сервиса двумя способами
- *пассивный* — экземпляр сервиса сам шлет показатели серверу, вызывая его API. Пример — AWS Cloudwatch.
- *активный* — сервер или его агент, запущеный локально, обращается к API сервиса, чтобы извлечь собранную им информацию. Этот подход применяется в Prometheus.


## Ссылки
https://microservices.io/patterns/observability/application-metrics.html