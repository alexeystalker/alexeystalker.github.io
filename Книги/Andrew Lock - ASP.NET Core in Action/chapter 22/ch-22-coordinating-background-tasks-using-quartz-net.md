---
share: true
tags:
 - NET/worker-service
---
# Координация фоновых задач с помощью Quartz.NET
Иногда фоновые задачи необходимо обновлять по расписанию, которое может быть, зачастую, довольно сложным. Можно, конечно, написать планировщика самостоятельно. А можно воспользоваться готовыми библиотеками. Две наиболее известные из них — это [Hangfire](https://www.hangfire.io/) и [[library-quartz-net|Quartz.NET]]. Quartz.NET, по сути, предлагает расширенную версию функциональности класса `BackgroundService`[^1]. Помимо обширных возможностей для планирования, библиотека поддерживает работу в кластерном окружении, распределяя задания между репликами.
> [!Note] Примечание
> Quartz.NET основана на библиотеке для Java под названием Quartz Scheduler.

Quartz.NET основана на четырёх концепциях:
- *задания* — фоновые задачи с необходимой логикой;
- *триггеры* — определяют, когда задание будет запускаться по расписанию, например “каждые пять минут”, или “каждый второй вторник”. У задания может быть несколько триггеров;
- *фабрика заданий* — отвечает за создание экземпляров заданий. Интегрирована с [[di-container|контейнером зависимостей]];
- *планировщик* — отслеживает триггеры и создаёт задания, используя фабрику заданий. Обычно работает как `IHostedService`.

#### [[ch-22-installing-quartz-net-in-an-asp-net-core-application|Установка Quartz.NET в приложение ASP.NET Core]]
#### [[ch-22-configuring-a-job-to-run-on-a-schedule-with-quartz-net|Настройка запуска задания по расписанию с помощью Quartz.NET]]
#### [[ch-22-using-clustering-to-add-redundancy-to-background-tasks|Использование кластеризации для добавления избыточности в фоновые задачи]]

[^1]: Использование `BackgroundService` как базовой реализации интерфейса `IHostedService` рассмотрено [[ch-22-running-background-tasks-with-ihostedservice|в этом разделе]].