
<!DOCTYPE html>

<html class="no-js" lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Мой цифровой сад." name="description"/>
<link href="https://garden.stalker-home.xyz/tags/" rel="canonical"/>
<link href="../assets/logo/logo.png" rel="icon"/>
<meta content="mkdocs-1.3.1, mkdocs-material-8.3.9" name="generator"/>
<title>Теги - Цифровой сад и огород</title>
<link href="../assets/stylesheets/main.1d29e8d0.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<link href="../assets/css/template/blog.css" rel="stylesheet"/>
<link href="../assets/css/template/grid.css" rel="stylesheet"/>
<link href="../assets/css/template/img-grids-float.css" rel="stylesheet"/>
<link href="../assets/css/template/tooltipster.bundle.min.css" rel="stylesheet"/>
<link href="../assets/css/template/utils.css" rel="stylesheet"/>
<link href="../assets/css/admonition.css" rel="stylesheet"/>
<link href="../assets/css/custom_attributes.css" rel="stylesheet"/>
<link href="../assets/css/customization.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-34CEYP9XGS"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-34CEYP9XGS",{page_path:e.pathname})})})</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-34CEYP9XGS"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
      $('.link-tooltip').tooltipster();
    });
  </script>
<link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" referrerpolicy="no-referrer" rel="stylesheet"/>
<meta content="Теги" property="og:title"/>
<meta content="Теги" name="twitter:title"/>
<meta content="Мой цифровой сад." name="og:description"/>
<meta content="Мой цифровой сад." name="twitter:description"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="https://garden.stalker-home.xyz/" property="og:image"/>
<meta content="https://garden.stalker-home.xyz/" name="twitter:image"/>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(89583899, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
<noscript><div><img alt="" src="https://mc.yandex.ru/watch/89583899" style="position:absolute; left:-9999px;"/></div></noscript>
<!-- /Yandex.Metrika counter -->
</head>
<body data-md-color-accent="light-blue" data-md-color-primary="teal" data-md-color-scheme="default" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          Перейти к содержанию
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Верхний колонтитул" class="md-header__inner md-grid">
<a aria-label="Цифровой сад и огород" class="md-header__button md-logo" data-md-component="logo" href=".." title="Цифровой сад и огород">
<img alt="logo" src="../assets/logo/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Цифровой сад и огород
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Теги
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="teal" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Поиск" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Поиск" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Поиск" class="md-search__options">
<button aria-label="Очистить" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Инициализация поиска
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Навигация" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Цифровой сад и огород" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Цифровой сад и огород">
<img alt="logo" src="../assets/logo/logo.png"/>
</a>
    Цифровой сад и огород
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Цифровой сад (и огород)
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Теги
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Теги
      </a>
<nav aria-label="Содержание раздела" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Содержание раздела
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#api">
    API
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ddd">
    DDD
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dns">
    DNS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearch">
    Elasticsearch
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchaggs">
    Elasticsearch/aggs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchanalyze">
    Elasticsearch/analyze
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchcompound">
    Elasticsearch/compound
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchconfiguration">
    Elasticsearch/configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchfull-text">
    Elasticsearch/full-text
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchjoining">
    Elasticsearch/joining
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchmapping">
    Elasticsearch/mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchquery">
    Elasticsearch/query
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchterm-level">
    Elasticsearch/term-level
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#far">
    FAR
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gui">
    GUI
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http">
    HTTP
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux">
    Linux
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxmint">
    Linux/Mint
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxpulseaudio">
    Linux/PulseAudio
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxconsole">
    Linux/console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxgrub">
    Linux/grub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxssh">
    Linux/ssh
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#net">
    NET
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netaspnetcore">
    NET/ASPNETCore
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcancellationtoken">
    NET/CancellationToken
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcancellationtokensource">
    NET/CancellationTokenSource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcontinuewith">
    NET/ContinueWith
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcore">
    NET/Core
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netculture">
    NET/Culture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netdi">
    NET/DI
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netenum">
    NET/Enum
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netidisposable">
    NET/IDisposable
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netnet6">
    NET/NET6
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netrazor">
    NET/Razor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettaskcompletionsource">
    NET/TaskCompletionSource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettaskfactory">
    NET/TaskFactory
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netwebapi">
    NET/WebApi
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netantipatterns">
    NET/antipatterns
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netasync">
    NET/async
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netboxing">
    NET/boxing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netdotnet">
    NET/dotnet
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netencoding">
    NET/encoding
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netgenerics">
    NET/generics
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netjson">
    NET/json
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlambda">
    NET/lambda
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlibrary">
    NET/library
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlogging">
    NET/logging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmemory">
    NET/memory
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmemory-leak">
    NET/memory-leak
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmultithreading">
    NET/multithreading
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netperformance">
    NET/performance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netserialization">
    NET/serialization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netstruct">
    NET/struct
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettemplates">
    NET/templates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettesting">
    NET/testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netthreadpool">
    NET/threadpool
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ooppattern">
    OOP/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#oopprinciples">
    OOP/principles
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#obsidianpublish">
    Obsidian/publish
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#qrcode">
    QRcode
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rest">
    REST
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#webpattern">
    Web/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture">
    architecture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#console">
    console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-structure">
    data-structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#definition">
    definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#docker">
    docker
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#firmware">
    firmware
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fulltext-search">
    fulltext-search
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#grpc">
    gRPC
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#github">
    github
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internetservice">
    internet/service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lock">
    lock
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservice">
    microservice
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceanti-pattern">
    microservice/anti-pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceapi">
    microservice/api
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicearchitecture">
    microservice/architecture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicecommunication">
    microservice/communication
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceconfiguration">
    microservice/configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedata-management">
    microservice/data-management
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedecomposition">
    microservice/decomposition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedefinition">
    microservice/definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedeployment">
    microservice/deployment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceisolationcountermeasure">
    microservice/isolation/countermeasure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceisolationproblem">
    microservice/isolation/problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicemessaging">
    microservice/messaging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceobservability">
    microservice/observability
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicepattern">
    microservice/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicepatterns">
    microservice/patterns
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicerefactoring">
    microservice/refactoring
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicerequest">
    microservice/request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicesecurity">
    microservice/security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetesting">
    microservice/testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetransaction">
    microservice/transaction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetransactions">
    microservice/transactions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#numeration">
    numeration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#on-premiseservice">
    on-premise/service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#protocol">
    protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#router">
    router
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security">
    security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#transaction">
    transaction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#useful-tool">
    useful-tool
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#versioning">
    versioning
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    СУБД
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    заметка
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    книга
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    конспект
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    цитата
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Design Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Design Patterns" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Design Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/dependency-injection-pattern/">
        Шаблон "Внедрение зависимостей"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/memento-pattern/">
        Шаблон "Хранитель"
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3">
          Microservice Architecture Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Microservice Architecture Patterns" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
          Microservice Architecture Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/microservice-architecture-patterns/">
        Список шаблонов микросервисной архитектуры
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_2" id="__nav_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_2">
          Application Architecture Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Application Architecture Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_2">
<span class="md-nav__icon md-icon"></span>
          Application Architecture Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/application-architecture-patterns/">
        Шаблоны архитектуры приложения
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">
        Шаблон "Микросервисная архитектура"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">
        Шаблон "Монолитная архитектура"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_3" id="__nav_3_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3">
          Communication Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Communication Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_3">
<span class="md-nav__icon md-icon"></span>
          Communication Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">
        Шаблон "API-шлюз"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/bff-pattern/">
        Шаблон "Бэкенды для фронтендов" (BFF)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">
        Шаблон "Предохранитель"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">
        Шаблон "Обнаружение на клиентской стороне"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/communication-patterns/">
        Шаблоны взаимодействия
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">
        Шаблон "Идемпотентный потребитель"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">
        Шаблон "Обмен сообщениями"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">
        Шаблон "Опрашивающий издатель"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">
        Шаблон "Повтор"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">
        Шаблон "Удаленный вызов процедур"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">
        Шаблон "Саморегистрация"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/server-side-discovery-pattern/">
        Шаблон "Обнаружение на стороне сервера"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">
        Шаблон "Реестр сервисов"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/third-party-registration-pattern/">
        Шаблон "Сторонняя регистрация"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">
        Шаблон "Отслеживание транзакционного журнала"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">
        Шаблон "публикация событий" или Outbox
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_4" id="__nav_3_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_4">
          Cross Cutting Conserns Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Cross Cutting Conserns Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_4">
<span class="md-nav__icon md-icon"></span>
          Cross Cutting Conserns Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/cross-cutting-concerns-patterns/">
        Шаблоны для решения сквозных проблем
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">
        Шаблон "Конфигурация, вынесенная вовне"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/microservice-chassis-pattern/">
        Шаблон "Шасси микросервисов"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/service-template-pattern/">
        Шаблон "Заготовка сервиса"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/sidecar-pattern/">
        Шаблон Sidecar
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_5" id="__nav_3_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_5">
          Data Management Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Management Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_5">
<span class="md-nav__icon md-icon"></span>
          Data Management Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">
        Шаблон "Агрегат" из DDD
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/data-management-patterns/">
        Шаблоны согласованности данных
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">
        Шаблон "Своя БД у сервиса"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">
        Шаблон "Доменное событие" из DDD
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">
        Шаблон "Порождение событий"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">
        Шаблон "Повествование"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">
        Шаблон "Одна БД для сервисов"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_6" id="__nav_3_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_6">
          Decomposition Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Decomposition Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_6">
<span class="md-nav__icon md-icon"></span>
          Decomposition Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-business-capability-pattern/">
        Шаблон "Разбиение по бизнес-возможностям"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-subdomain-pattern/">
        Шаблон "декомпозиция по поддомену"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decomposition-patterns/">
        Шаблоны для разбиения приложения на микросервисы
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_7" id="__nav_3_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_7">
          Deployment Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Deployment Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_7">
<span class="md-nav__icon md-icon"></span>
          Deployment Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/deployment-patterns/">
        Шаблоны развертывания сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/language-specific-packaging-pattern/">
        Шаблон "Формат пакетов для определенного языка"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/serverless-deployment-pattern/">
        Шаблон "Бессерверное развертывание"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-deployment-platform-pattern/">
        Шаблон "Платформа развертывания"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-mesh-pattern/">
        Шаблон "Сеть сервисов"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-container-pattern/">
        Шаблон "Развертывание сервиса в виде контейнера"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-vm-pattern/">
        Шаблон "Развертывание сервиса в виде ВМ"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_8" id="__nav_3_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_8">
          Observability Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Observability Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_8">
<span class="md-nav__icon md-icon"></span>
          Observability Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/application-metrics-pattern/">
        Шаблон "Метрики приложения"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/audit-logging-pattern/">
        Шаблон "Ведение журнала аудита"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">
        Шаблон "Распределенная трассировка"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/exception-tracking-pattern/">
        Шаблон "Отслеживание исключений"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">
        Шаблон "API проверки работоспособности"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/log-aggregation-pattern/">
        Шаблон "Агрегация журналов"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/observability-patterns/">
        Шаблоны наблюдаемости
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_9" id="__nav_3_3_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_9">
          Refactoring Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Refactoring Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_9">
<span class="md-nav__icon md-icon"></span>
          Refactoring Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/anti-corruption-layer-pattern/">
        Шаблон "Предохранительный слой"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/refactoring-patterns/">
        Шаблоны перехода на микросервисы (рефакторинга)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">
        Шаблон "Удушающее приложение"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_10" id="__nav_3_3_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_10">
          Request Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Request Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_10">
<span class="md-nav__icon md-icon"></span>
          Request Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/api-composition-pattern/">
        Шаблон "Объединение API"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">
        Шаблон "Разделение ответственности команд и запросов"(CQRS)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/request-patterns/">
        Шаблоны запросов данных
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_11" id="__nav_3_3_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_11">
          Security Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Security Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_11">
<span class="md-nav__icon md-icon"></span>
          Security Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">
        Шаблон "Токен доступа"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/security-patterns/">
        Шаблоны безопасности
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3_12" id="__nav_3_3_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_12">
          Testing Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Testing Patterns" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_12">
<span class="md-nav__icon md-icon"></span>
          Testing Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-driven-contract-test-pattern/">
        Шаблон "тестирование контрактов с расчётом на потребителя"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-side-contract-test-pattern/">
        Шаблон "тестирование контрактов на стороне потребителя"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">
        Шаблон "Компонентный тест сервиса"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/testing-patterns/">
        Шаблоны автоматизированного тестирования
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" id="__nav_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4">
          Web Application Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Web Application Patterns" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
          Web Application Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Web%20Application%20Patterns/mvc-pattern/">
        Шаблон "Model-View-Controller"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Web%20Application%20Patterns/prg-pattern/">
        Шаблон "POST-REDIRECT-GET"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">
        Шаблон "Request-Endpoint-Response"
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Elasticsearch
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Elasticsearch" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Elasticsearch
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/analyze-api/">
        Analyze API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/clear-cache-api/">
        Clear Cache Api
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/elastic-clone/">
        Как склонировать индекс Elasticsearch
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/has-child-oom/">
        OutOfMemory в Эластике при has_child запросе
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5">
          Aggregations
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Aggregations" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
          Aggregations
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/bucket-aggs/">
        Bucket aggregations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/bucket-sort-agg/">
        bucket_sort agg
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/elastic-aggs/">
        Агрегации в Elasticsearch
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/filter-agg/">
        Filter Aggregation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/missing-agg/">
        Missing aggregation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/pipeline-aggs/">
        Конвеерные агрегации (pipeline aggs)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/range-agg/">
        Range aggregation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Aggregations/terms-agg/">
        Terms Aggregation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_6" id="__nav_4_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_6">
          Configuration
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Configuration" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_6">
<span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Configuration/blocks-write/">
        Закрыть на запись индекс Elasticsearch
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Configuration/heap-size/">
        Elastic heap size
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Configuration/mapping-update/">
        Меняем mapping в Elastic
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Configuration/number-of-replicas/">
        Настройка числа реплик Elasticsearch
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_7" id="__nav_4_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_7">
          Queries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Queries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_7">
<span class="md-nav__icon md-icon"></span>
          Queries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/bool-query/">
        Bool query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/compound-queries/">
        Compound queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/exists-query/">
        Exists query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/full-text-queries/">
        Full-text queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/ids-query/">
        IDs query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/inner-hits/">
        inner_hits parameter
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/joining-queries/">
        Joining queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/match-query/">
        Match query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/nested-query/">
        Nested query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/query-dsl/">
        Query DSL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/range-query/">
        Range query
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/term-level-queries/">
        Term-level queries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Elasticsearch/Queries/term-query/">
        Term query
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Linux
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Linux" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Linux
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Linux/docker-no-sudo/">
        Docker без sudo
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linux/install-docker-on-ubuntu-20-04/">
        Установка Docker на Ubuntu 20.04
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linux/pulseaudio-sink-inputs/">
        Потоки PulseAudio
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linux/remove-splash/">
        Как убрать splash в Linux Mint
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Linux/ssh-agent-autostart/">
        Автозапуск ssh-agent
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          Microservices
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Microservices" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Microservices
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/scale-cube/">
        Куб масштабирования
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/service-definition/">
        Что такое сервис
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" id="__nav_6_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_3">
          Isolation Problems and Countermeasures
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Isolation Problems and Countermeasures" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
          Isolation Problems and Countermeasures
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/by-value-countermeasure/">
        Контрмера "по значению".
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/commutative-updates-countermeasure/">
        Контрмера "коммутативные обновления"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/dirty-reading-problem/">
        "Грязное" чтение
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/fuzzy-reading-problem/">
        Нечеткое чтение
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/pessimistic-view-countermeasure/">
        Контрмера "пессимистическое представление"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/second-read-countermeasure/">
        Контрмера "повторное чтение значения"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/semantic-lock-countermeasure/">
        Контрмера "семантическая блокировка"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/update-loss-problem/">
        Потеряные обновления
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/version-file-countermeasure/">
        Контрмера "файл версий"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" id="__nav_6_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_4">
          Messages
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Messages" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_4">
<span class="md-nav__icon md-icon"></span>
          Messages
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/message-channel/">
        Канал сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/message/">
        Cообщение
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/notifications-messaging/">
        Стиль "Уведомления"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/point-to-point-channel/">
        Канал "Точка-точка"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/publish-async-response-messaging/">
        Стиль "Публикация - асинхронный ответ"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/publish-subscribe-channel/">
        Канал "издатель-подписчик"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/publish-subscribe-messaging/">
        Стиль "публикация - подписка"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/request-async-response-messaging/">
        Стиль "Запрос - асинхронный ответ"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Messages/request-response-messaging/">
        Стиль "Запрос-ответ"
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" id="__nav_6_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_5">
          Sagas
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Sagas" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_5">
<span class="md-nav__icon md-icon"></span>
          Sagas
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Sagas/saga-compensating/">
        Компенсируемые транзакции
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Sagas/saga-repeatable/">
        Повторяемые транзакции
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Sagas/saga-structure/">
        Структура повествования
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Microservices/Sagas/saga-turning-point/">
        Поворотная транзакция
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
          NET
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="NET" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          NET
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/async-void/">
        async void
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/await-continuewith/">
        await ContinueWith
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/commandlineparser-fast-start/">
        Быстрый старт с библиотекой CommandLineParser
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/csharp-antipatterns/">
        Шаблоны кода на CSharp, которых следует избегать
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/cts-memory-leak/">
        CancellationTokenSource и утечка памяти
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/cts-register-cancel/">
        Подписки (subscriptions) в CancellationTokenSource
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/encoding-net-core/">
        Encoding в NetCore
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/enumequalsboxing/">
        Enum.Equals делает boxing
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/equality-structs/">
        Сравнения структур
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/executing-before-main/">
        Выполнение кода перед Main
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/get-uninitialized-object/">
        Создание объектов без вызова конструктора
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/idisposable-change-current-culture/">
        Временно Изменяем CurrentCulture
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/lambda-vs-method-group/">
        Lambda функции предпочтительнее MethodGroup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/list-all-routes/">
        Список Всех Маршрутов в ASP.NET Core
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/many-interfaces-di/">
        Как зарегистрировать одну реализацию с несколькими интерфейсами
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/model-bind-multiple-source-to-sinigle-class/">
        Привязка модели из нескольких источников в один класс в ASP.NET Core
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/net6-date-time-types/">
        Даты и время в .NET 6
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/net6-dateonly/">
        Тип DateOnly
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/net6-json-serialization/">
        Сериализация Json с помощью Source Generators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/net6-one-file-app/">
        Однофайловые Приложения в .NET 6
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/net6-timeonly/">
        Тип TimeOnly
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/return-await/">
        Избегаем `return await`
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/structs-in-interfaces/">
        Структуры и интерфейсы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/task-factory-start-new/">
        Task.Factory.StartNew
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/tcs-runconts/">
        TaskCompletionSource и продолжения в том же потоке.
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/wait-sync/">
        Ожидание асинхронного кода может привести к Threadpool starvation
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_27" id="__nav_7_27" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_27">
          AspNetCore
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="AspNetCore" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_27">
<span class="md-nav__icon md-icon"></span>
          AspNetCore
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/AspNetCore/httpcontext/">
        Объект HttpContext
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_28" id="__nav_7_28" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_28">
          Dotnet console
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Dotnet console" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_28">
<span class="md-nav__icon md-icon"></span>
          Dotnet console
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/dotnet%20console/dotnet-net6-classic-templates/">
        Классические шаблоны для NET6
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/dotnet%20console/dotnet-templates-boxed/">
        Project templates
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_29" id="__nav_7_29" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_29">
          Libraries
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Libraries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_29">
<span class="md-nav__icon md-icon"></span>
          Libraries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-commandlineparser/">
        CommandLineParser
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-dnsclient/">
        DnsClient.NET
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-faker-net/">
        Генерация случайных данных
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-fastendpoints/">
        FastEndpoints
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-gui-cs/">
        gui.cs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-konsole/">
        konsole
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-lunr-core/">
        Lunr-core
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-polly/">
        Polly
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-qrcode-on-net/">
        Библиотека для генерации QR кодов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-razorlight/">
        RazorLight
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-recyclable-memory-stream/">
        Recyclable Memory Stream
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/libraries/library-serilog/">
        Библиотека Serilog
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_30" id="__nav_7_30" type="checkbox"/>
<label class="md-nav__link" for="__nav_7_30">
          Multithreading
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Multithreading" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_30">
<span class="md-nav__icon md-icon"></span>
          Multithreading
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/multithreading/interlocked-primitive/">
        Interlocked
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/multithreading/lock-primitive/">
        lock (Monitor.Enter / Monitor.Exit)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NET/multithreading/monitor-wait-pulse-all-primitive/">
        Monitor.Wait / Monitor.Pulse / Monitor.PulseAll
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          OOP
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="OOP" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          OOP
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_1" id="__nav_8_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_8_1">
          OOP Principles
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="OOP Principles" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_8_1">
<span class="md-nav__icon md-icon"></span>
          OOP Principles
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../OOP/OOP%20Principles/common-closure-principle/">
        Принцип согласованного изменения (Common Closure Principle, CCP)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OOP/OOP%20Principles/open-closed-principle/">
        Принцип открытости-закрытости (Open-Closed principle)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OOP/OOP%20Principles/packages-principles/">
        Принципы пакетов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OOP/OOP%20Principles/single-responsibility-principle/">
        Принцип единой ответственности (Single Responsibility Principle, SRP)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OOP/OOP%20Principles/solid-principles/">
        S.O.L.I.D
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9">
          Obsidian
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Obsidian" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          Obsidian
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Obsidian/obsidian-publisher/">
        Паблишер для Obsidian
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10">
          Router
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Router" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          Router
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Router/Asuswrt-Merlin/">
        Asuswrt-Merlin
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" id="__nav_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_11">
          Windows
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Windows" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
          Windows
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Windows/far-manager-shortcuts/">
        Шорткаты в FAR Manager
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Windows/myhomelib/">
        MyHomeLib
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" id="__nav_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_12">
          Заметки
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Заметки" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_12">
<span class="md-nav__icon md-icon"></span>
          Заметки
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%97%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8/note-on-digital-garden/">
        Цифровой сад
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%97%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8/note-on-obsidian/">
        Заметка про Obsidian
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" id="__nav_13" type="checkbox"/>
<label class="md-nav__link" for="__nav_13">
          Интернет
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Интернет" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_13">
<span class="md-nav__icon md-icon"></span>
          Интернет
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_1" id="__nav_13_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_13_1">
          REST
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="REST" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_13_1">
<span class="md-nav__icon md-icon"></span>
          REST
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-maturity-model/">
        Модель зрелости REST
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-operation-binding-difficulty/">
        Трудности с привязкой операций к HTTP-командам
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-several-resources-difficulty/">
        Трудности извлечения нескольких ресурсов за один запрос
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">
        REST (REpresentational State Transfer)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_2" id="__nav_13_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_13_2">
          Протоколы
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Протоколы" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_13_2">
<span class="md-nav__icon md-icon"></span>
          Протоколы
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">
        gRPC (Remote Procedure Call от Google)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http-2/">
        HTTP/2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http/">
        HTTP - Hypertext Transfer Protocol
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">
        OAuth 2.0
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_3" id="__nav_13_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_13_3">
          Сервисы
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Сервисы" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_13_3">
<span class="md-nav__icon md-icon"></span>
          Сервисы
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">
        Sentry
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" id="__nav_14" type="checkbox"/>
<label class="md-nav__link" for="__nav_14">
          Книги
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Книги" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_14">
<span class="md-nav__icon md-icon"></span>
          Книги
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1" id="__nav_14_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1">
          Chris Richardson   Microservices Patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chris Richardson   Microservices Patterns" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_14_1">
<span class="md-nav__icon md-icon"></span>
          Chris Richardson   Microservices Patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/book-microservices-patterns/">
        Книжка "Микросервисы. Шаблоны разработки и рефакторинга"
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_2" id="__nav_14_1_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_2">
          Chapter 01
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 01" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_2">
<span class="md-nav__icon md-icon"></span>
          Chapter 01
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-microservice-soa-compare/">
        Сравнение SOA и микросервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">
        Побег из монолитного ада
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_3" id="__nav_14_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_3">
          Chapter 02
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 02" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_3">
<span class="md-nav__icon md-icon"></span>
          Chapter 02
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">
        Модель представлений архитектуры вида 4+1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-decomposition-strategies/">
        Стратегии декомпозиции
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">
        Шестигранная архитектура
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">
        Определение микросервисной архитектуры приложения
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">
        Многоуровневая архитектура
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-api-definition/">
        Определение API сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-decomposition/">
        Разбиение на сервисы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">
        Определение системных операций
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">
        Что представляет собой микросервисная архитектура
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_4" id="__nav_14_1_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_4">
          Chapter 03
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 03" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_4">
<span class="md-nav__icon md-icon"></span>
          Chapter 03
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging-improves-availabilty/">
        Использование асинхронного обмена сообщениями для улучшения доступности
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging/">
        Взаимодействие с помощью асинхронного обмена сообщениями
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-concurrent-recievers/">
        Конкурирующие получатели и порядок следования сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">
        Межпроцессное взаимодействие в микросервисной архитектуре
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-ipc-overview/">
        Обзор IPC
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-options/">
        Факторы выбора брокера сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-usage/">
        Использование брокера сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">
        Дублирование сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-messaging-styles-realization/">
        Реализация стилей взаимодействия
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-remote-procedure-invocation/">
        Взаимодействие на основе удаленного вызова процедур (RPI)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">
        Обнаружение сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">
        Транзакционный обмен сообщениями
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_5" id="__nav_14_1_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_5">
          Chapter 04
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 04" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_5">
<span class="md-nav__icon md-icon"></span>
          Chapter 04
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-choreography-saga/">
        Повествования, основанные на хореографии.
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-lack-of-isolation/">
        Недостаточная изолированность
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-microservice-transaction-control/">
        Управление транзакциями в микросервисной архитектуре
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-orchestration-saga/">
        Повествования на основе оркестрации
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-coordination/">
        Координация повествований
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-transaction-control/">
        Управление транзакциями с помощью повествований
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_6" id="__nav_14_1_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_6">
          Chapter 05
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 05" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_6">
<span class="md-nav__icon md-icon"></span>
          Chapter 05
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-aggregate-domain-model-design/">
        Проектирование доменной модели с помощью шаблона "Агрегат" из DDD
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-business-logic-templates/">
        Шаблоны организации бизнес-логики
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">
        О предметно-ориентированном проектировании (Domain-Driven Design)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">
        Доменные события
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">
        Доменная модель
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-microservices-business-logic-design/">
        Проектирование бизнес-логики в микросервисной архитектуре
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">
        Сценарий транзакции
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_7" id="__nav_14_1_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_7">
          Chapter 06
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 06" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_7">
<span class="md-nav__icon md-icon"></span>
          Chapter 06
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-aggregate-methods-base-on-events/">
        Методы агрегата полностью полагаются на события
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-change-of-state/">
        События представляют изменения состояния
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-domain-events-evolution/">
        Развитие доменных событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-choreography-saga/">
        Реализация повествований на основе хореографии с помощью порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-publishing/">
        Порождение и публикация событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-saga/">
        Совместное использование повествований и порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-benefits/">
        Преимущества порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-business-logic/">
        Разработка бизнес-логики с порождением событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-drawbacks/">
        Недостатки порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-review/">
        Обзор порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-store-implementation/">
        Реализация хранилища событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-idempotent-events-processing/">
        Идемпотентная обработка сообщений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-creation/">
        Создание оркестратора повествования
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-implementation/">
        Реализация оркестраторов повествований с помощью порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-participant-implementation/">
        Реализация участника повествования
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saving-aggregate/">
        Сохранение агрегатов с помощью порождения событий
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-snapshots-improve-performance/">
        Улучшение производительности с помощью снимков
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-usual-data-storing-problems/">
        Проблемы традиционного сохранения данных.
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_8" id="__nav_14_1_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_8">
          Chapter 07
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 07" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_8">
<span class="md-nav__icon md-icon"></span>
          Chapter 07
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-api-composition/">
        Выполнение запросов с помощью объединения API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-benefits/">
        Достоинства CQRS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-database-selection/">
        Выбор хранилища данных
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-drawbacks/">
        Недостатки CQRS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-pattern-usage/">
        Применение шаблона CQRS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-add-and-update/">
        Добавление и обновление CQRS-представлений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-design/">
        Проектирование CQRS-представлений
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-data-access-module-structure/">
        Структура модуля доступа к данным
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-microservices-requests/">
        Реализация запросов в микросервисной архитектуре
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_9" id="__nav_14_1_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_9">
          Chapter 08
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 08" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_9">
<span class="md-nav__icon md-icon"></span>
          Chapter 08
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-architecture/">
        Архитектура API-шлюза
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-design-difficulties/">
        Трудности проектирования API-шлюза
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-implementation/">
        Реализация API-шлюза
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-ownership/">
        Модель владения в API-шлюзе
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-template/">
        Шаблон "API-шлюз"
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-patterns/">
        Шаблоны внешних API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">
        Проблемы с проектированием внешних API
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_10" id="__nav_14_1_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_10">
          Chapter 09
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 09" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_10">
<span class="md-nav__icon md-icon"></span>
          Chapter 09
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-microservice-testing-drawbacks/">
        Трудности тестирования микросервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">
        Написание модульных тестов для сервиса
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-microservices-part-1/">
        Тестирование микросервисов, часть 1
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-techniques-review/">
        Обзор методик тестирования
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_11" id="__nav_14_1_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_11">
          Chapter 10
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 10" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_11">
<span class="md-nav__icon md-icon"></span>
          Chapter 10
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">
        Разработка компонентных тестов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-end-to-end-tests-writing/">
        Написание сквозных (end to end) тестов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-integration-tests-writing/">
        Написание интеграционных тестов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-testing-microservices-part-2/">
        Тестирование микросервисов, часть 2
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_12" id="__nav_14_1_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_12">
          Chapter 11
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 11" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_12">
<span class="md-nav__icon md-icon"></span>
          Chapter 11
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">
        Проектирование конфигурируемых сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-enterprise-ready-services-implementation/">
        Разработка сервисов, готовых к промышленному использованию
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-microservice-chassis/">
        Разработка сервисов с помощью шаблона микросервисного шасси
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">
        Проектирование наблюдаемых сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">
        Разработка безопасных сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">
        Обеспечение безопасности в микросервисной архитектуре
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-use-oauth-20/">
        Использование OAuth 2.0 в микросервисной архитектуре
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_13" id="__nav_14_1_13" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_13">
          Chapter 12
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 12" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_13">
<span class="md-nav__icon md-icon"></span>
          Chapter 12
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2012/ch-12-microservices-deployment/">
        Развертывание микросервисов
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14_1_14" id="__nav_14_1_14" type="checkbox"/>
<label class="md-nav__link" for="__nav_14_1_14">
          Chapter 13
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Chapter 13" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_14_1_14">
<span class="md-nav__icon md-icon"></span>
          Chapter 13
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-authentication-and-authorization/">
        Аутентификация и авторизация
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-data-consistency/">
        Обеспечение согласованности данных между сервисом и монолитом
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-integration-layer-design/">
        Проектирование интеграционного слоя
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-microservices-monolith-interaction-design/">
        Проектирование взаимодействия между сервисом и монолитом
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">
        Реализация новых возможностей в виде сервисов
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">
        Извлечение бизнес-возможностей в сервисы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-refactoring-to-microservices/">
        Процесс перехода на микросервисы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-strategies/">
        Стратегии перехода с монолита на микросервисы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-to-microservices/">
        Переход на микросервисы
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">
        Разделение уровня представления и внутренних компонентов.
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" id="__nav_15" type="checkbox"/>
<label class="md-nav__link" for="__nav_15">
          Определения
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Определения" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_15">
<span class="md-nav__icon md-icon"></span>
          Определения
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">
        Application Programming Interface, API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authentication/">
        Аутентификация
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authorization/">
        Авторизация
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/cohesion/">
        Cohesion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/coupling/">
        Coupling
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/linked-list/">
        Связный список
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/optimistic-lock/">
        Оптимистическая блокировка
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/pessimistic-lock/">
        Пессимистическая блокировка
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/semantic-versioning/">
        Семантическая нумерация версий
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" id="__nav_16" type="checkbox"/>
<label class="md-nav__link" for="__nav_16">
          Цитаты
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Цитаты" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_16">
<span class="md-nav__icon md-icon"></span>
          Цитаты
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/cap-theorem/">
        CAP-теорема
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/conways-law/">
        Закон Конвея
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/law-of-holes/">
        Закон ямы
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Содержание раздела" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Содержание раздела
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#api">
    API
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ddd">
    DDD
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dns">
    DNS
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearch">
    Elasticsearch
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchaggs">
    Elasticsearch/aggs
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchanalyze">
    Elasticsearch/analyze
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchcompound">
    Elasticsearch/compound
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchconfiguration">
    Elasticsearch/configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchfull-text">
    Elasticsearch/full-text
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchjoining">
    Elasticsearch/joining
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchmapping">
    Elasticsearch/mapping
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchquery">
    Elasticsearch/query
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elasticsearchterm-level">
    Elasticsearch/term-level
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#far">
    FAR
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gui">
    GUI
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http">
    HTTP
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linux">
    Linux
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxmint">
    Linux/Mint
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxpulseaudio">
    Linux/PulseAudio
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxconsole">
    Linux/console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxgrub">
    Linux/grub
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#linuxssh">
    Linux/ssh
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#net">
    NET
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netaspnetcore">
    NET/ASPNETCore
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcancellationtoken">
    NET/CancellationToken
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcancellationtokensource">
    NET/CancellationTokenSource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcontinuewith">
    NET/ContinueWith
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netcore">
    NET/Core
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netculture">
    NET/Culture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netdi">
    NET/DI
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netenum">
    NET/Enum
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netidisposable">
    NET/IDisposable
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netnet6">
    NET/NET6
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netrazor">
    NET/Razor
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettaskcompletionsource">
    NET/TaskCompletionSource
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettaskfactory">
    NET/TaskFactory
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netwebapi">
    NET/WebApi
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netantipatterns">
    NET/antipatterns
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netasync">
    NET/async
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netboxing">
    NET/boxing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netdotnet">
    NET/dotnet
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netencoding">
    NET/encoding
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netgenerics">
    NET/generics
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netjson">
    NET/json
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlambda">
    NET/lambda
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlibrary">
    NET/library
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netlogging">
    NET/logging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmemory">
    NET/memory
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmemory-leak">
    NET/memory-leak
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netmultithreading">
    NET/multithreading
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netperformance">
    NET/performance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netserialization">
    NET/serialization
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netstruct">
    NET/struct
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettemplates">
    NET/templates
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nettesting">
    NET/testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#netthreadpool">
    NET/threadpool
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ooppattern">
    OOP/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#oopprinciples">
    OOP/principles
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#obsidianpublish">
    Obsidian/publish
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#qrcode">
    QRcode
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#rest">
    REST
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#webpattern">
    Web/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#architecture">
    architecture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#console">
    console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-structure">
    data-structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#definition">
    definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#docker">
    docker
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#firmware">
    firmware
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fulltext-search">
    fulltext-search
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#grpc">
    gRPC
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#github">
    github
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internetservice">
    internet/service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#lock">
    lock
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservice">
    microservice
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceanti-pattern">
    microservice/anti-pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceapi">
    microservice/api
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicearchitecture">
    microservice/architecture
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicecommunication">
    microservice/communication
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceconfiguration">
    microservice/configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedata-management">
    microservice/data-management
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedecomposition">
    microservice/decomposition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedefinition">
    microservice/definition
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicedeployment">
    microservice/deployment
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceisolationcountermeasure">
    microservice/isolation/countermeasure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceisolationproblem">
    microservice/isolation/problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicemessaging">
    microservice/messaging
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microserviceobservability">
    microservice/observability
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicepattern">
    microservice/pattern
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicepatterns">
    microservice/patterns
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicerefactoring">
    microservice/refactoring
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicerequest">
    microservice/request
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicesecurity">
    microservice/security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetesting">
    microservice/testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetransaction">
    microservice/transaction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#microservicetransactions">
    microservice/transactions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#numeration">
    numeration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#on-premiseservice">
    on-premise/service
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#protocol">
    protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#router">
    router
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security">
    security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#transaction">
    transaction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#useful-tool">
    useful-tool
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#versioning">
    versioning
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
    СУБД
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
    заметка
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
    книга
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
    конспект
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
    цитата
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="_1">Теги<a class="headerlink" href="#_1" title="Permanent link">¶</a></h1>
<h2 id="api"><span class="md-tag">API</span><a class="headerlink" href="#api" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ОпределениеAPIсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-api-definition/">Определение API сервисов</a></li>
</ul>
<h2 id="ddd"><span class="md-tag">DDD</span><a class="headerlink" href="#ddd" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонАгрегатизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Шаблон “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонДоменноесобытиеизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Шаблон “Доменное событие” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">О предметно-ориентированном проектировании (Domain-Driven Design)</a></li>
</ul>
<h2 id="dns"><span class="md-tag">DNS</span><a class="headerlink" href="#dns" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#DnsClientNET_tooltip_id" href="../NET/libraries/library-dnsclient/">DnsClient.NET</a></li>
</ul>
<h2 id="elasticsearch"><span class="md-tag">Elasticsearch</span><a class="headerlink" href="#elasticsearch" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ClearCacheApi_tooltip_id" href="../Elasticsearch/clear-cache-api/">Clear Cache Api</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КаксклонироватьиндексElasticsearch_tooltip_id" href="../Elasticsearch/elastic-clone/">Как склонировать индекс Elasticsearch</a></li>
<li><a class="link-tooltip" data-tooltip-content="#OutOfMemoryвЭластикеприhas_childзапросе_tooltip_id" href="../Elasticsearch/has-child-oom/">OutOfMemory в Эластике при has_child запросе</a></li>
</ul>
<h2 id="elasticsearchaggs"><span class="md-tag">Elasticsearch/aggs</span><a class="headerlink" href="#elasticsearchaggs" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Bucketaggregations_tooltip_id" href="../Elasticsearch/Aggregations/bucket-aggs/">Bucket aggregations</a></li>
<li><a class="link-tooltip" data-tooltip-content="#bucket_sortagg_tooltip_id" href="../Elasticsearch/Aggregations/bucket-sort-agg/">bucket_sort agg</a></li>
<li><a class="link-tooltip" data-tooltip-content="#АгрегациивElasticsearch_tooltip_id" href="../Elasticsearch/Aggregations/elastic-aggs/">Агрегации в Elasticsearch</a></li>
<li><a class="link-tooltip" data-tooltip-content="#FilterAggregation_tooltip_id" href="../Elasticsearch/Aggregations/filter-agg/">Filter Aggregation</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Missingaggregation_tooltip_id" href="../Elasticsearch/Aggregations/missing-agg/">Missing aggregation</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Конвеерныеагрегацииpipelineaggs_tooltip_id" href="../Elasticsearch/Aggregations/pipeline-aggs/">Конвеерные агрегации (pipeline aggs)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Rangeaggregation_tooltip_id" href="../Elasticsearch/Aggregations/range-agg/">Range aggregation</a></li>
<li><a class="link-tooltip" data-tooltip-content="#TermsAggregation_tooltip_id" href="../Elasticsearch/Aggregations/terms-agg/">Terms Aggregation</a></li>
</ul>
<h2 id="elasticsearchanalyze"><span class="md-tag">Elasticsearch/analyze</span><a class="headerlink" href="#elasticsearchanalyze" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#AnalyzeAPI_tooltip_id" href="../Elasticsearch/analyze-api/">Analyze API</a></li>
</ul>
<h2 id="elasticsearchcompound"><span class="md-tag">Elasticsearch/compound</span><a class="headerlink" href="#elasticsearchcompound" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Boolquery_tooltip_id" href="../Elasticsearch/Queries/bool-query/">Bool query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Compoundqueries_tooltip_id" href="../Elasticsearch/Queries/compound-queries/">Compound queries</a></li>
</ul>
<h2 id="elasticsearchconfiguration"><span class="md-tag">Elasticsearch/configuration</span><a class="headerlink" href="#elasticsearchconfiguration" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ЗакрытьназаписьиндексElasticsearch_tooltip_id" href="../Elasticsearch/Configuration/blocks-write/">Закрыть на запись индекс Elasticsearch</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Elasticheapsize_tooltip_id" href="../Elasticsearch/Configuration/heap-size/">Elastic heap size</a></li>
<li><a class="link-tooltip" data-tooltip-content="#НастройкачисларепликElasticsearch_tooltip_id" href="../Elasticsearch/Configuration/number-of-replicas/">Настройка числа реплик Elasticsearch</a></li>
</ul>
<h2 id="elasticsearchfull-text"><span class="md-tag">Elasticsearch/full-text</span><a class="headerlink" href="#elasticsearchfull-text" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Fulltextqueries_tooltip_id" href="../Elasticsearch/Queries/full-text-queries/">Full-text queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Matchquery_tooltip_id" href="../Elasticsearch/Queries/match-query/">Match query</a></li>
</ul>
<h2 id="elasticsearchjoining"><span class="md-tag">Elasticsearch/joining</span><a class="headerlink" href="#elasticsearchjoining" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#inner_hitsparameter_tooltip_id" href="../Elasticsearch/Queries/inner-hits/">inner_hits parameter</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Joiningqueries_tooltip_id" href="../Elasticsearch/Queries/joining-queries/">Joining queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Nestedquery_tooltip_id" href="../Elasticsearch/Queries/nested-query/">Nested query</a></li>
</ul>
<h2 id="elasticsearchmapping"><span class="md-tag">Elasticsearch/mapping</span><a class="headerlink" href="#elasticsearchmapping" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#МеняемmappingвElastic_tooltip_id" href="../Elasticsearch/Configuration/mapping-update/">Меняем mapping в Elastic</a></li>
</ul>
<h2 id="elasticsearchquery"><span class="md-tag">Elasticsearch/query</span><a class="headerlink" href="#elasticsearchquery" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Boolquery_tooltip_id" href="../Elasticsearch/Queries/bool-query/">Bool query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Compoundqueries_tooltip_id" href="../Elasticsearch/Queries/compound-queries/">Compound queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Existsquery_tooltip_id" href="../Elasticsearch/Queries/exists-query/">Exists query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Fulltextqueries_tooltip_id" href="../Elasticsearch/Queries/full-text-queries/">Full-text queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#IDsquery_tooltip_id" href="../Elasticsearch/Queries/ids-query/">IDs query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#inner_hitsparameter_tooltip_id" href="../Elasticsearch/Queries/inner-hits/">inner_hits parameter</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Joiningqueries_tooltip_id" href="../Elasticsearch/Queries/joining-queries/">Joining queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Matchquery_tooltip_id" href="../Elasticsearch/Queries/match-query/">Match query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Nestedquery_tooltip_id" href="../Elasticsearch/Queries/nested-query/">Nested query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#QueryDSL_tooltip_id" href="../Elasticsearch/Queries/query-dsl/">Query DSL</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Rangequery_tooltip_id" href="../Elasticsearch/Queries/range-query/">Range query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Termlevelqueries_tooltip_id" href="../Elasticsearch/Queries/term-level-queries/">Term-level queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Termquery_tooltip_id" href="../Elasticsearch/Queries/term-query/">Term query</a></li>
</ul>
<h2 id="elasticsearchterm-level"><span class="md-tag">Elasticsearch/term-level</span><a class="headerlink" href="#elasticsearchterm-level" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Existsquery_tooltip_id" href="../Elasticsearch/Queries/exists-query/">Exists query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#IDsquery_tooltip_id" href="../Elasticsearch/Queries/ids-query/">IDs query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Rangequery_tooltip_id" href="../Elasticsearch/Queries/range-query/">Range query</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Termlevelqueries_tooltip_id" href="../Elasticsearch/Queries/term-level-queries/">Term-level queries</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Termquery_tooltip_id" href="../Elasticsearch/Queries/term-query/">Term query</a></li>
</ul>
<h2 id="far"><span class="md-tag">FAR</span><a class="headerlink" href="#far" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШорткатывFARManager_tooltip_id" href="../Windows/far-manager-shortcuts/">Шорткаты в FAR Manager</a></li>
</ul>
<h2 id="gui"><span class="md-tag">GUI</span><a class="headerlink" href="#gui" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#guics_tooltip_id" href="../NET/libraries/library-gui-cs/">gui.cs</a></li>
<li><a class="link-tooltip" data-tooltip-content="#konsole_tooltip_id" href="../NET/libraries/library-konsole/">konsole</a></li>
</ul>
<h2 id="http"><span class="md-tag">HTTP</span><a class="headerlink" href="#http" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#HTTP2_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http-2/">HTTP/2</a></li>
<li><a class="link-tooltip" data-tooltip-content="#HTTPHypertextTransferProtocol_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http/">HTTP - Hypertext Transfer Protocol</a></li>
</ul>
<h2 id="linux"><span class="md-tag">Linux</span><a class="headerlink" href="#linux" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#УстановкаDockerнаUbuntu2004_tooltip_id" href="../Linux/install-docker-on-ubuntu-20-04/">Установка Docker на Ubuntu 20.04</a></li>
</ul>
<h2 id="linuxmint"><span class="md-tag">Linux/Mint</span><a class="headerlink" href="#linuxmint" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#КакубратьsplashвLinuxMint_tooltip_id" href="../Linux/remove-splash/">Как убрать splash в Linux Mint</a></li>
</ul>
<h2 id="linuxpulseaudio"><span class="md-tag">Linux/PulseAudio</span><a class="headerlink" href="#linuxpulseaudio" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ПотокиPulseAudio_tooltip_id" href="../Linux/pulseaudio-sink-inputs/">Потоки PulseAudio</a></li>
</ul>
<h2 id="linuxconsole"><span class="md-tag">Linux/console</span><a class="headerlink" href="#linuxconsole" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Dockerбезsudo_tooltip_id" href="../Linux/docker-no-sudo/">Docker без sudo</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПотокиPulseAudio_tooltip_id" href="../Linux/pulseaudio-sink-inputs/">Потоки PulseAudio</a></li>
</ul>
<h2 id="linuxgrub"><span class="md-tag">Linux/grub</span><a class="headerlink" href="#linuxgrub" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#КакубратьsplashвLinuxMint_tooltip_id" href="../Linux/remove-splash/">Как убрать splash в Linux Mint</a></li>
</ul>
<h2 id="linuxssh"><span class="md-tag">Linux/ssh</span><a class="headerlink" href="#linuxssh" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Автозапускsshagent_tooltip_id" href="../Linux/ssh-agent-autostart/">Автозапуск ssh-agent</a></li>
</ul>
<h2 id="net"><span class="md-tag">NET</span><a class="headerlink" href="#net" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#БыстрыйстартсбиблиотекойCommandLineParser_tooltip_id" href="../NET/commandlineparser-fast-start/">Быстрый старт с библиотекой CommandLineParser</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВыполнениекодапередMain_tooltip_id" href="../NET/executing-before-main/">Выполнение кода перед Main</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Созданиеобъектовбезвызоваконструктора_tooltip_id" href="../NET/get-uninitialized-object/">Создание объектов без вызова конструктора</a></li>
</ul>
<h2 id="netaspnetcore"><span class="md-tag">NET/ASPNETCore</span><a class="headerlink" href="#netaspnetcore" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#СписокВсехМаршрутоввASPNETCore_tooltip_id" href="../NET/list-all-routes/">Список Всех Маршрутов в ASP.NET Core</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОбъектHttpContext_tooltip_id" href="../NET/AspNetCore/httpcontext/">Объект HttpContext</a></li>
</ul>
<h2 id="netcancellationtoken"><span class="md-tag">NET/CancellationToken</span><a class="headerlink" href="#netcancellationtoken" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CancellationTokenSourceиутечкапамяти_tooltip_id" href="../NET/cts-memory-leak/">CancellationTokenSource и утечка памяти</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id" href="../NET/cts-register-cancel/">Подписки (subscriptions) в CancellationTokenSource</a></li>
</ul>
<h2 id="netcancellationtokensource"><span class="md-tag">NET/CancellationTokenSource</span><a class="headerlink" href="#netcancellationtokensource" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CancellationTokenSourceиутечкапамяти_tooltip_id" href="../NET/cts-memory-leak/">CancellationTokenSource и утечка памяти</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id" href="../NET/cts-register-cancel/">Подписки (subscriptions) в CancellationTokenSource</a></li>
</ul>
<h2 id="netcontinuewith"><span class="md-tag">NET/ContinueWith</span><a class="headerlink" href="#netcontinuewith" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#awaitContinueWith_tooltip_id" href="../NET/await-continuewith/">await ContinueWith</a></li>
</ul>
<h2 id="netcore"><span class="md-tag">NET/Core</span><a class="headerlink" href="#netcore" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#EncodingвNetCore_tooltip_id" href="../NET/encoding-net-core/">Encoding в NetCore</a></li>
</ul>
<h2 id="netculture"><span class="md-tag">NET/Culture</span><a class="headerlink" href="#netculture" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ВременноИзменяемCurrentCulture_tooltip_id" href="../NET/idisposable-change-current-culture/">Временно Изменяем CurrentCulture</a></li>
</ul>
<h2 id="netdi"><span class="md-tag">NET/DI</span><a class="headerlink" href="#netdi" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Какзарегистрироватьоднуреализациюснесколькимиинтерфейсами_tooltip_id" href="../NET/many-interfaces-di/">Как зарегистрировать одну реализацию с несколькими интерфейсами</a></li>
</ul>
<h2 id="netenum"><span class="md-tag">NET/Enum</span><a class="headerlink" href="#netenum" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#EnumEqualsделаетboxing_tooltip_id" href="../NET/enumequalsboxing/">Enum.Equals делает boxing</a></li>
</ul>
<h2 id="netidisposable"><span class="md-tag">NET/IDisposable</span><a class="headerlink" href="#netidisposable" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ВременноИзменяемCurrentCulture_tooltip_id" href="../NET/idisposable-change-current-culture/">Временно Изменяем CurrentCulture</a></li>
</ul>
<h2 id="netnet6"><span class="md-tag">NET/NET6</span><a class="headerlink" href="#netnet6" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ДатыивремявNET6_tooltip_id" href="../NET/net6-date-time-types/">Даты и время в .NET 6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТипDateOnly_tooltip_id" href="../NET/net6-dateonly/">Тип DateOnly</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СериализацияJsonспомощьюSourceGenerators_tooltip_id" href="../NET/net6-json-serialization/">Сериализация Json с помощью Source Generators</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОднофайловыеПриложениявNET6_tooltip_id" href="../NET/net6-one-file-app/">Однофайловые Приложения в .NET 6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТипTimeOnly_tooltip_id" href="../NET/net6-timeonly/">Тип TimeOnly</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КлассическиешаблоныдляNET6_tooltip_id" href="../NET/dotnet%20console/dotnet-net6-classic-templates/">Классические шаблоны для NET6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#FastEndpoints_tooltip_id" href="../NET/libraries/library-fastendpoints/">FastEndpoints</a></li>
</ul>
<h2 id="netrazor"><span class="md-tag">NET/Razor</span><a class="headerlink" href="#netrazor" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#RazorLight_tooltip_id" href="../NET/libraries/library-razorlight/">RazorLight</a></li>
</ul>
<h2 id="nettaskcompletionsource"><span class="md-tag">NET/TaskCompletionSource</span><a class="headerlink" href="#nettaskcompletionsource" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id" href="../NET/tcs-runconts/">TaskCompletionSource и продолжения в том же потоке.</a></li>
</ul>
<h2 id="nettaskfactory"><span class="md-tag">NET/TaskFactory</span><a class="headerlink" href="#nettaskfactory" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#TaskFactoryStartNew_tooltip_id" href="../NET/task-factory-start-new/">Task.Factory.StartNew</a></li>
</ul>
<h2 id="netwebapi"><span class="md-tag">NET/WebApi</span><a class="headerlink" href="#netwebapi" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ПривязкамоделиизнесколькихисточниковводинклассвASPNETCore_tooltip_id" href="../NET/model-bind-multiple-source-to-sinigle-class/">Привязка модели из нескольких источников в один класс в ASP.NET Core</a></li>
<li><a class="link-tooltip" data-tooltip-content="#FastEndpoints_tooltip_id" href="../NET/libraries/library-fastendpoints/">FastEndpoints</a></li>
</ul>
<h2 id="netantipatterns"><span class="md-tag">NET/antipatterns</span><a class="headerlink" href="#netantipatterns" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблоныкоданаCSharpкоторыхследуетизбегать_tooltip_id" href="../NET/csharp-antipatterns/">Шаблоны кода на CSharp, которых следует избегать</a></li>
</ul>
<h2 id="netasync"><span class="md-tag">NET/async</span><a class="headerlink" href="#netasync" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#asyncvoid_tooltip_id" href="../NET/async-void/">async void</a></li>
<li><a class="link-tooltip" data-tooltip-content="#awaitContinueWith_tooltip_id" href="../NET/await-continuewith/">await ContinueWith</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id" href="../NET/cts-register-cancel/">Подписки (subscriptions) в CancellationTokenSource</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Избегаем_tooltip_id" href="../NET/return-await/">Избегаем <code>return await</code></a></li>
<li><a class="link-tooltip" data-tooltip-content="#TaskFactoryStartNew_tooltip_id" href="../NET/task-factory-start-new/">Task.Factory.StartNew</a></li>
<li><a class="link-tooltip" data-tooltip-content="#TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id" href="../NET/tcs-runconts/">TaskCompletionSource и продолжения в том же потоке.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОжиданиеасинхронногокодаможетпривестикThreadpoolstarvation_tooltip_id" href="../NET/wait-sync/">Ожидание асинхронного кода может привести к Threadpool starvation</a></li>
</ul>
<h2 id="netboxing"><span class="md-tag">NET/boxing</span><a class="headerlink" href="#netboxing" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#EnumEqualsделаетboxing_tooltip_id" href="../NET/enumequalsboxing/">Enum.Equals делает boxing</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структурыиинтерфейсы_tooltip_id" href="../NET/structs-in-interfaces/">Структуры и интерфейсы</a></li>
</ul>
<h2 id="netdotnet"><span class="md-tag">NET/dotnet</span><a class="headerlink" href="#netdotnet" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ОднофайловыеПриложениявNET6_tooltip_id" href="../NET/net6-one-file-app/">Однофайловые Приложения в .NET 6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КлассическиешаблоныдляNET6_tooltip_id" href="../NET/dotnet%20console/dotnet-net6-classic-templates/">Классические шаблоны для NET6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Projecttemplates_tooltip_id" href="../NET/dotnet%20console/dotnet-templates-boxed/">Project templates</a></li>
</ul>
<h2 id="netencoding"><span class="md-tag">NET/encoding</span><a class="headerlink" href="#netencoding" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#EncodingвNetCore_tooltip_id" href="../NET/encoding-net-core/">Encoding в NetCore</a></li>
</ul>
<h2 id="netgenerics"><span class="md-tag">NET/generics</span><a class="headerlink" href="#netgenerics" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Структурыиинтерфейсы_tooltip_id" href="../NET/structs-in-interfaces/">Структуры и интерфейсы</a></li>
</ul>
<h2 id="netjson"><span class="md-tag">NET/json</span><a class="headerlink" href="#netjson" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#СериализацияJsonспомощьюSourceGenerators_tooltip_id" href="../NET/net6-json-serialization/">Сериализация Json с помощью Source Generators</a></li>
</ul>
<h2 id="netlambda"><span class="md-tag">NET/lambda</span><a class="headerlink" href="#netlambda" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#LambdaфункциипредпочтительнееMethodGroup_tooltip_id" href="../NET/lambda-vs-method-group/">Lambda функции предпочтительнее MethodGroup</a></li>
</ul>
<h2 id="netlibrary"><span class="md-tag">NET/library</span><a class="headerlink" href="#netlibrary" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CommandLineParser_tooltip_id" href="../NET/libraries/library-commandlineparser/">CommandLineParser</a></li>
<li><a class="link-tooltip" data-tooltip-content="#DnsClientNET_tooltip_id" href="../NET/libraries/library-dnsclient/">DnsClient.NET</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Генерацияслучайныхданных_tooltip_id" href="../NET/libraries/library-faker-net/">Генерация случайных данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#FastEndpoints_tooltip_id" href="../NET/libraries/library-fastendpoints/">FastEndpoints</a></li>
<li><a class="link-tooltip" data-tooltip-content="#guics_tooltip_id" href="../NET/libraries/library-gui-cs/">gui.cs</a></li>
<li><a class="link-tooltip" data-tooltip-content="#konsole_tooltip_id" href="../NET/libraries/library-konsole/">konsole</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Lunrcore_tooltip_id" href="../NET/libraries/library-lunr-core/">Lunr-core</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Polly_tooltip_id" href="../NET/libraries/library-polly/">Polly</a></li>
<li><a class="link-tooltip" data-tooltip-content="#БиблиотекадлягенерацииQRкодов_tooltip_id" href="../NET/libraries/library-qrcode-on-net/">Библиотека для генерации QR кодов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#RazorLight_tooltip_id" href="../NET/libraries/library-razorlight/">RazorLight</a></li>
<li><a class="link-tooltip" data-tooltip-content="#RecyclableMemoryStream_tooltip_id" href="../NET/libraries/library-recyclable-memory-stream/">Recyclable Memory Stream</a></li>
<li><a class="link-tooltip" data-tooltip-content="#БиблиотекаSerilog_tooltip_id" href="../NET/libraries/library-serilog/">Библиотека Serilog</a></li>
</ul>
<h2 id="netlogging"><span class="md-tag">NET/logging</span><a class="headerlink" href="#netlogging" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#БиблиотекаSerilog_tooltip_id" href="../NET/libraries/library-serilog/">Библиотека Serilog</a></li>
</ul>
<h2 id="netmemory"><span class="md-tag">NET/memory</span><a class="headerlink" href="#netmemory" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#RecyclableMemoryStream_tooltip_id" href="../NET/libraries/library-recyclable-memory-stream/">Recyclable Memory Stream</a></li>
</ul>
<h2 id="netmemory-leak"><span class="md-tag">NET/memory-leak</span><a class="headerlink" href="#netmemory-leak" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CancellationTokenSourceиутечкапамяти_tooltip_id" href="../NET/cts-memory-leak/">CancellationTokenSource и утечка памяти</a></li>
</ul>
<h2 id="netmultithreading"><span class="md-tag">NET/multithreading</span><a class="headerlink" href="#netmultithreading" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id" href="../NET/tcs-runconts/">TaskCompletionSource и продолжения в том же потоке.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Interlocked_tooltip_id" href="../NET/multithreading/interlocked-primitive/">Interlocked</a></li>
<li><a class="link-tooltip" data-tooltip-content="#lockMonitorEnterMonitorExit_tooltip_id" href="../NET/multithreading/lock-primitive/">lock (Monitor.Enter / Monitor.Exit)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#MonitorWaitMonitorPulseMonitorPulseAll_tooltip_id" href="../NET/multithreading/monitor-wait-pulse-all-primitive/">Monitor.Wait / Monitor.Pulse / Monitor.PulseAll</a></li>
</ul>
<h2 id="netperformance"><span class="md-tag">NET/performance</span><a class="headerlink" href="#netperformance" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблоныкоданаCSharpкоторыхследуетизбегать_tooltip_id" href="../NET/csharp-antipatterns/">Шаблоны кода на CSharp, которых следует избегать</a></li>
</ul>
<h2 id="netserialization"><span class="md-tag">NET/serialization</span><a class="headerlink" href="#netserialization" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#СериализацияJsonспомощьюSourceGenerators_tooltip_id" href="../NET/net6-json-serialization/">Сериализация Json с помощью Source Generators</a></li>
</ul>
<h2 id="netstruct"><span class="md-tag">NET/struct</span><a class="headerlink" href="#netstruct" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Сравненияструктур_tooltip_id" href="../NET/equality-structs/">Сравнения структур</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структурыиинтерфейсы_tooltip_id" href="../NET/structs-in-interfaces/">Структуры и интерфейсы</a></li>
</ul>
<h2 id="nettemplates"><span class="md-tag">NET/templates</span><a class="headerlink" href="#nettemplates" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#КлассическиешаблоныдляNET6_tooltip_id" href="../NET/dotnet%20console/dotnet-net6-classic-templates/">Классические шаблоны для NET6</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Projecttemplates_tooltip_id" href="../NET/dotnet%20console/dotnet-templates-boxed/">Project templates</a></li>
</ul>
<h2 id="nettesting"><span class="md-tag">NET/testing</span><a class="headerlink" href="#nettesting" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Генерацияслучайныхданных_tooltip_id" href="../NET/libraries/library-faker-net/">Генерация случайных данных</a></li>
</ul>
<h2 id="netthreadpool"><span class="md-tag">NET/threadpool</span><a class="headerlink" href="#netthreadpool" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ОжиданиеасинхронногокодаможетпривестикThreadpoolstarvation_tooltip_id" href="../NET/wait-sync/">Ожидание асинхронного кода может привести к Threadpool starvation</a></li>
</ul>
<h2 id="ooppattern"><span class="md-tag">OOP/pattern</span><a class="headerlink" href="#ooppattern" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонВнедрениезависимостей_tooltip_id" href="../Design%20Patterns/dependency-injection-pattern/">Шаблон “Внедрение зависимостей”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонХранитель_tooltip_id" href="../Design%20Patterns/memento-pattern/">Шаблон “Хранитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПредохранитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">Шаблон “Предохранитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПовтор_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Шаблон “Повтор”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонModelViewController_tooltip_id" href="../Design%20Patterns/Web%20Application%20Patterns/mvc-pattern/">Шаблон “Model-View-Controller”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонRequestEndpointResponse_tooltip_id" href="../Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">Шаблон “Request-Endpoint-Response”</a></li>
</ul>
<h2 id="oopprinciples"><span class="md-tag">OOP/principles</span><a class="headerlink" href="#oopprinciples" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ПринципсогласованногоизмененияCommonClosurePrincipleCCP_tooltip_id" href="../OOP/OOP%20Principles/common-closure-principle/">Принцип согласованного изменения (Common Closure Principle, CCP)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПринципоткрытостизакрытостиOpenClosedprinciple_tooltip_id" href="../OOP/OOP%20Principles/open-closed-principle/">Принцип открытости-закрытости (Open-Closed principle)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Принципыпакетов_tooltip_id" href="../OOP/OOP%20Principles/packages-principles/">Принципы пакетов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПринципединойответственностиSingleResponsibilityPrincipleSRP_tooltip_id" href="../OOP/OOP%20Principles/single-responsibility-principle/">Принцип единой ответственности (Single Responsibility Principle, SRP)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#SOLID_tooltip_id" href="../OOP/OOP%20Principles/solid-principles/">S.O.L.I.D</a></li>
</ul>
<h2 id="obsidianpublish"><span class="md-tag">Obsidian/publish</span><a class="headerlink" href="#obsidianpublish" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ПаблишердляObsidian_tooltip_id" href="../Obsidian/obsidian-publisher/">Паблишер для Obsidian</a></li>
</ul>
<h2 id="qrcode"><span class="md-tag">QRcode</span><a class="headerlink" href="#qrcode" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#БиблиотекадлягенерацииQRкодов_tooltip_id" href="../NET/libraries/library-qrcode-on-net/">Библиотека для генерации QR кодов</a></li>
</ul>
<h2 id="rest"><span class="md-tag">REST</span><a class="headerlink" href="#rest" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#МодельзрелостиREST_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-maturity-model/">Модель зрелости REST</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТрудностиспривязкойоперацийкHTTPкомандам_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-operation-binding-difficulty/">Трудности с привязкой операций к HTTP-командам</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Трудностиизвлечениянесколькихресурсовзаодинзапрос_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST-several-resources-difficulty/">Трудности извлечения нескольких ресурсов за один запрос</a></li>
<li><a class="link-tooltip" data-tooltip-content="#RESTREpresentationalStateTransfer_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST (REpresentational State Transfer)</a></li>
</ul>
<h2 id="webpattern"><span class="md-tag">Web/pattern</span><a class="headerlink" href="#webpattern" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонModelViewController_tooltip_id" href="../Design%20Patterns/Web%20Application%20Patterns/mvc-pattern/">Шаблон “Model-View-Controller”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонPOSTREDIRECTGET_tooltip_id" href="../Design%20Patterns/Web%20Application%20Patterns/prg-pattern/">Шаблон “POST-REDIRECT-GET”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонRequestEndpointResponse_tooltip_id" href="../Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">Шаблон “Request-Endpoint-Response”</a></li>
</ul>
<h2 id="architecture"><span class="md-tag">architecture</span><a class="headerlink" href="#architecture" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныархитектурыприложения_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/application-architecture-patterns/">Шаблоны архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМикросервиснаяархитектура_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">Шаблон “Микросервисная архитектура”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМонолитнаяархитектура_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Шаблон “Монолитная архитектура”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шестиграннаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">Шестигранная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениемикросервиснойархитектурыприложения_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Многоуровневаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">Многоуровневая архитектура</a></li>
</ul>
<h2 id="console"><span class="md-tag">console</span><a class="headerlink" href="#console" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CommandLineParser_tooltip_id" href="../NET/libraries/library-commandlineparser/">CommandLineParser</a></li>
<li><a class="link-tooltip" data-tooltip-content="#guics_tooltip_id" href="../NET/libraries/library-gui-cs/">gui.cs</a></li>
<li><a class="link-tooltip" data-tooltip-content="#konsole_tooltip_id" href="../NET/libraries/library-konsole/">konsole</a></li>
</ul>
<h2 id="data-structure"><span class="md-tag">data-structure</span><a class="headerlink" href="#data-structure" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Связныйсписок_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/linked-list/">Связный список</a></li>
</ul>
<h2 id="definition"><span class="md-tag">definition</span><a class="headerlink" href="#definition" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ApplicationProgrammingInterfaceAPI_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">Application Programming Interface, API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Аутентификация_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authentication/">Аутентификация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Авторизация_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authorization/">Авторизация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Cohesion_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/cohesion/">Cohesion</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Coupling_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/coupling/">Coupling</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Связныйсписок_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/linked-list/">Связный список</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Оптимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/optimistic-lock/">Оптимистическая блокировка</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Пессимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/pessimistic-lock/">Пессимистическая блокировка</a></li>
</ul>
<h2 id="docker"><span class="md-tag">docker</span><a class="headerlink" href="#docker" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Dockerбезsudo_tooltip_id" href="../Linux/docker-no-sudo/">Docker без sudo</a></li>
<li><a class="link-tooltip" data-tooltip-content="#УстановкаDockerнаUbuntu2004_tooltip_id" href="../Linux/install-docker-on-ubuntu-20-04/">Установка Docker на Ubuntu 20.04</a></li>
</ul>
<h2 id="firmware"><span class="md-tag">firmware</span><a class="headerlink" href="#firmware" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#AsuswrtMerlin_tooltip_id" href="../Router/Asuswrt-Merlin/">Asuswrt-Merlin</a></li>
</ul>
<h2 id="fulltext-search"><span class="md-tag">fulltext-search</span><a class="headerlink" href="#fulltext-search" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Lunrcore_tooltip_id" href="../NET/libraries/library-lunr-core/">Lunr-core</a></li>
</ul>
<h2 id="grpc"><span class="md-tag">gRPC</span><a class="headerlink" href="#grpc" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#gRPCRemoteProcedureCallотGoogle_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC (Remote Procedure Call от Google)</a></li>
</ul>
<h2 id="github"><span class="md-tag">github</span><a class="headerlink" href="#github" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ПаблишердляObsidian_tooltip_id" href="../Obsidian/obsidian-publisher/">Паблишер для Obsidian</a></li>
</ul>
<h2 id="internetservice"><span class="md-tag">internet/service</span><a class="headerlink" href="#internetservice" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Sentry_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">Sentry</a></li>
</ul>
<h2 id="lock"><span class="md-tag">lock</span><a class="headerlink" href="#lock" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Оптимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/optimistic-lock/">Оптимистическая блокировка</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Пессимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/pessimistic-lock/">Пессимистическая блокировка</a></li>
</ul>
<h2 id="microservice"><span class="md-tag">microservice</span><a class="headerlink" href="#microservice" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Кубмасштабирования_tooltip_id" href="../Microservices/scale-cube/">Куб масштабирования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/book-microservices-patterns/">Книжка “Микросервисы. Шаблоны разработки и рефакторинга”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СравнениеSOAимикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-microservice-soa-compare/">Сравнение SOA и микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Побегизмонолитногоада_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">Побег из монолитного ада</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Модельпредставленийархитектурывида41_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">Модель представлений архитектуры вида 4+1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиидекомпозиции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-decomposition-strategies/">Стратегии декомпозиции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шестиграннаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">Шестигранная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениемикросервиснойархитектурыприложения_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Многоуровневаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">Многоуровневая архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпределениеAPIсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-api-definition/">Определение API сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разбиениенасервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-decomposition/">Разбиение на сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениесистемныхопераций_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging-improves-availabilty/">Использование асинхронного обмена сообщениями для улучшения доступности</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging/">Взаимодействие с помощью асинхронного обмена сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-concurrent-recievers/">Конкурирующие получатели и порядок следования сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Межпроцессное взаимодействие в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОбзорIPC_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-ipc-overview/">Обзор IPC</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Факторывыбораброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-options/">Факторы выбора брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-usage/">Использование брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Дублированиесообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">Дублирование сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациястилейвзаимодействия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-messaging-styles-realization/">Реализация стилей взаимодействия</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-remote-procedure-invocation/">Взаимодействие на основе удаленного вызова процедур (RPI)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обнаружениесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">Обнаружение сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Транзакционныйобменсообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">Транзакционный обмен сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованияоснованныенахореографии_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-choreography-saga/">Повествования, основанные на хореографии.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаточнаяизолированность_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-lack-of-isolation/">Недостаточная изолированность</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-microservice-transaction-control/">Управление транзакциями в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованиянаосновеоркестрации_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-orchestration-saga/">Повествования на основе оркестрации</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Координацияповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-coordination/">Координация повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямиспомощьюповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-transaction-control/">Управление транзакциями с помощью повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-aggregate-domain-model-design/">Проектирование доменной модели с помощью шаблона “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныорганизациибизнеслогики_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-business-logic-templates/">Шаблоны организации бизнес-логики</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">О предметно-ориентированном проектировании (Domain-Driven Design)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменныесобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменные события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменнаямодель_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">Доменная модель</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-microservices-business-logic-design/">Проектирование бизнес-логики в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сценарийтранзакции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">Сценарий транзакции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Методыагрегатаполностьюполагаютсянасобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-aggregate-methods-base-on-events/">Методы агрегата полностью полагаются на события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Событияпредставляютизменениясостояния_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-change-of-state/">События представляют изменения состояния</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развитиедоменныхсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-domain-events-evolution/">Развитие доменных событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-choreography-saga/">Реализация повествований на основе хореографии с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Порождениеипубликациясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-publishing/">Порождение и публикация событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-saga/">Совместное использование повествований и порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Преимуществапорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-benefits/">Преимущества порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабизнеслогикиспорождениемсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-business-logic/">Разработка бизнес-логики с порождением событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаткипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-drawbacks/">Недостатки порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-review/">Обзор порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияхранилищасобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-store-implementation/">Реализация хранилища событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Идемпотентнаяобработкасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-idempotent-events-processing/">Идемпотентная обработка сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Созданиеоркестратораповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-creation/">Создание оркестратора повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-implementation/">Реализация оркестраторов повествований с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияучастникаповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-participant-implementation/">Реализация участника повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saving-aggregate/">Сохранение агрегатов с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Улучшениепроизводительностиспомощьюснимков_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-snapshots-improve-performance/">Улучшение производительности с помощью снимков</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проблемытрадиционногосохраненияданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-usual-data-storing-problems/">Проблемы традиционного сохранения данных.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-api-composition/">Выполнение запросов с помощью объединения API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДостоинстваCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-benefits/">Достоинства CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Выборхранилищаданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-database-selection/">Выбор хранилища данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#НедостаткиCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-drawbacks/">Недостатки CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПрименениешаблонаCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-pattern-usage/">Применение шаблона CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДобавлениеиобновлениеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-add-and-update/">Добавление и обновление CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-design/">Проектирование CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структурамодулядоступакданным_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-data-access-module-structure/">Структура модуля доступа к данным</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациязапросоввмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-microservices-requests/">Реализация запросов в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#АрхитектураAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-architecture/">Архитектура API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТрудностипроектированияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-design-difficulties/">Трудности проектирования API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#РеализацияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-implementation/">Реализация API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#МодельвладениявAPIшлюзе_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-ownership/">Модель владения в API-шлюзе</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-template/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонывнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-patterns/">Шаблоны внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроблемыспроектированиемвнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">Проблемы с проектированием внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Трудноститестированиямикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-microservice-testing-drawbacks/">Трудности тестирования микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниемодульныхтестовдлясервиса_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">Написание модульных тестов для сервиса</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть1_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-microservices-part-1/">Тестирование микросервисов, часть 1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорметодиктестирования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-techniques-review/">Обзор методик тестирования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкакомпонентныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">Разработка компонентных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниесквозныхendtoendтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-end-to-end-tests-writing/">Написание сквозных (end to end) тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниеинтеграционныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-integration-tests-writing/">Написание интеграционных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть2_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-testing-microservices-part-2/">Тестирование микросервисов, часть 2</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеконфигурируемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">Проектирование конфигурируемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-enterprise-ready-services-implementation/">Разработка сервисов, готовых к промышленному использованию</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-microservice-chassis/">Разработка сервисов с помощью шаблона микросервисного шасси</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиенаблюдаемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">Проектирование наблюдаемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабезопасныхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">Разработка безопасных сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Обеспечение безопасности в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-use-oauth-20/">Использование OAuth 2.0 в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развертываниемикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2012/ch-12-microservices-deployment/">Развертывание микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Аутентификацияиавторизация_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-authentication-and-authorization/">Аутентификация и авторизация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-data-consistency/">Обеспечение согласованности данных между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеинтеграционногослоя_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-integration-layer-design/">Проектирование интеграционного слоя</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-microservices-monolith-interaction-design/">Проектирование взаимодействия между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияновыхвозможностейввидесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Реализация новых возможностей в виде сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Извлечениебизнесвозможностейвсервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Извлечение бизнес-возможностей в сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Процесспереходанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-refactoring-to-microservices/">Процесс перехода на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиипереходасмонолитанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-strategies/">Стратегии перехода с монолита на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Переходнамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-to-microservices/">Переход на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов.</a></li>
</ul>
<h2 id="microserviceanti-pattern"><span class="md-tag">microservice/anti-pattern</span><a class="headerlink" href="#microserviceanti-pattern" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМонолитнаяархитектура_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Шаблон “Монолитная архитектура”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОднаБДдлясервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Шаблон “Одна БД для сервисов”</a></li>
</ul>
<h2 id="microserviceapi"><span class="md-tag">microservice/api</span><a class="headerlink" href="#microserviceapi" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонБэкендыдляфронтендовBFF_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/bff-pattern/">Шаблон “Бэкенды для фронтендов” (BFF)</a></li>
</ul>
<h2 id="microservicearchitecture"><span class="md-tag">microservice/architecture</span><a class="headerlink" href="#microservicearchitecture" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонШассимикросервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/microservice-chassis-pattern/">Шаблон “Шасси микросервисов”</a></li>
</ul>
<h2 id="microservicecommunication"><span class="md-tag">microservice/communication</span><a class="headerlink" href="#microservicecommunication" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонБэкендыдляфронтендовBFF_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/bff-pattern/">Шаблон “Бэкенды для фронтендов” (BFF)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПредохранитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">Шаблон “Предохранитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбнаружениенаклиентскойстороне_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">Шаблон “Обнаружение на клиентской стороне”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонывзаимодействия_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/communication-patterns/">Шаблоны взаимодействия</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонИдемпотентныйпотребитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Шаблон “Идемпотентный потребитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбменсообщениями_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Шаблон “Обмен сообщениями”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОпрашивающийиздатель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">Шаблон “Опрашивающий издатель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПовтор_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Шаблон “Повтор”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонУдаленныйвызовпроцедур_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Шаблон “Удаленный вызов процедур”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСаморегистрация_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Шаблон “Саморегистрация”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбнаружениенасторонесервера_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/server-side-discovery-pattern/">Шаблон “Обнаружение на стороне сервера”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРеестрсервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Шаблон “Реестр сервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСторонняярегистрация_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/third-party-registration-pattern/">Шаблон “Сторонняя регистрация”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниетранзакционногожурнала_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">Шаблон “Отслеживание транзакционного журнала”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонпубликациясобытийилиOutbox_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Шаблон “публикация событий” или Outbox</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Каналсообщений_tooltip_id" href="../Microservices/Messages/message-channel/">Канал сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Cообщение_tooltip_id" href="../Microservices/Messages/message/">Cообщение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильУведомления_tooltip_id" href="../Microservices/Messages/notifications-messaging/">Стиль “Уведомления”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КаналТочкаточка_tooltip_id" href="../Microservices/Messages/point-to-point-channel/">Канал “Точка-точка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильПубликацияасинхронныйответ_tooltip_id" href="../Microservices/Messages/publish-async-response-messaging/">Стиль “Публикация - асинхронный ответ”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Канализдательподписчик_tooltip_id" href="../Microservices/Messages/publish-subscribe-channel/">Канал “издатель-подписчик”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стильпубликацияподписка_tooltip_id" href="../Microservices/Messages/publish-subscribe-messaging/">Стиль “публикация - подписка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильЗапросасинхронныйответ_tooltip_id" href="../Microservices/Messages/request-async-response-messaging/">Стиль “Запрос - асинхронный ответ”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильЗапросответ_tooltip_id" href="../Microservices/Messages/request-response-messaging/">Стиль “Запрос-ответ”</a></li>
</ul>
<h2 id="microserviceconfiguration"><span class="md-tag">microservice/configuration</span><a class="headerlink" href="#microserviceconfiguration" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонКонфигурациявынесеннаявовне_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">Шаблон “Конфигурация, вынесенная вовне”</a></li>
</ul>
<h2 id="microservicedata-management"><span class="md-tag">microservice/data-management</span><a class="headerlink" href="#microservicedata-management" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонАгрегатизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Шаблон “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонысогласованностиданных_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/data-management-patterns/">Шаблоны согласованности данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСвояБДусервиса_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">Шаблон “Своя БД у сервиса”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонДоменноесобытиеизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Шаблон “Доменное событие” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПорождениесобытий_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Шаблон “Порождение событий”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОднаБДдлясервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Шаблон “Одна БД для сервисов”</a></li>
</ul>
<h2 id="microservicedecomposition"><span class="md-tag">microservice/decomposition</span><a class="headerlink" href="#microservicedecomposition" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазбиениепобизнесвозможностям_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-business-capability-pattern/">Шаблон “Разбиение по бизнес-возможностям”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблондекомпозицияпоподдомену_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-subdomain-pattern/">Шаблон “декомпозиция по поддомену”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныдляразбиенияприложениянамикросервисы_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decomposition-patterns/">Шаблоны для разбиения приложения на микросервисы</a></li>
</ul>
<h2 id="microservicedefinition"><span class="md-tag">microservice/definition</span><a class="headerlink" href="#microservicedefinition" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Чтотакоесервис_tooltip_id" href="../Microservices/service-definition/">Что такое сервис</a></li>
</ul>
<h2 id="microservicedeployment"><span class="md-tag">microservice/deployment</span><a class="headerlink" href="#microservicedeployment" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныразвертываниясервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/deployment-patterns/">Шаблоны развертывания сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонФорматпакетовдляопределенногоязыка_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/language-specific-packaging-pattern/">Шаблон “Формат пакетов для определенного языка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонБессерверноеразвертывание_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/serverless-deployment-pattern/">Шаблон “Бессерверное развертывание”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПлатформаразвертывания_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-deployment-platform-pattern/">Шаблон “Платформа развертывания”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСетьсервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-mesh-pattern/">Шаблон “Сеть сервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазвертываниесервисаввидеконтейнера_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-container-pattern/">Шаблон “Развертывание сервиса в виде контейнера”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазвертываниесервисаввидеВМ_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-vm-pattern/">Шаблон “Развертывание сервиса в виде ВМ”</a></li>
</ul>
<h2 id="microserviceisolationcountermeasure"><span class="md-tag">microservice/isolation/countermeasure</span><a class="headerlink" href="#microserviceisolationcountermeasure" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерапозначению_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/by-value-countermeasure/">Контрмера “по значению”.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмеракоммутативныеобновления_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/commutative-updates-countermeasure/">Контрмера “коммутативные обновления”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерапессимистическоепредставление_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/pessimistic-view-countermeasure/">Контрмера “пессимистическое представление”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмераповторноечтениезначения_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/second-read-countermeasure/">Контрмера “повторное чтение значения”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерасемантическаяблокировка_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/semantic-lock-countermeasure/">Контрмера “семантическая блокировка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерафайлверсий_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/version-file-countermeasure/">Контрмера “файл версий”</a></li>
</ul>
<h2 id="microserviceisolationproblem"><span class="md-tag">microservice/isolation/problem</span><a class="headerlink" href="#microserviceisolationproblem" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Грязноечтение_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/dirty-reading-problem/">“Грязное” чтение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Нечеткоечтение_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/fuzzy-reading-problem/">Нечеткое чтение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Потеряныеобновления_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/update-loss-problem/">Потеряные обновления</a></li>
</ul>
<h2 id="microservicemessaging"><span class="md-tag">microservice/messaging</span><a class="headerlink" href="#microservicemessaging" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонИдемпотентныйпотребитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Шаблон “Идемпотентный потребитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбменсообщениями_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Шаблон “Обмен сообщениями”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОпрашивающийиздатель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">Шаблон “Опрашивающий издатель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниетранзакционногожурнала_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">Шаблон “Отслеживание транзакционного журнала”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонпубликациясобытийилиOutbox_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Шаблон “публикация событий” или Outbox</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Каналсообщений_tooltip_id" href="../Microservices/Messages/message-channel/">Канал сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Cообщение_tooltip_id" href="../Microservices/Messages/message/">Cообщение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильУведомления_tooltip_id" href="../Microservices/Messages/notifications-messaging/">Стиль “Уведомления”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#КаналТочкаточка_tooltip_id" href="../Microservices/Messages/point-to-point-channel/">Канал “Точка-точка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильПубликацияасинхронныйответ_tooltip_id" href="../Microservices/Messages/publish-async-response-messaging/">Стиль “Публикация - асинхронный ответ”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Канализдательподписчик_tooltip_id" href="../Microservices/Messages/publish-subscribe-channel/">Канал “издатель-подписчик”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стильпубликацияподписка_tooltip_id" href="../Microservices/Messages/publish-subscribe-messaging/">Стиль “публикация - подписка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильЗапросасинхронныйответ_tooltip_id" href="../Microservices/Messages/request-async-response-messaging/">Стиль “Запрос - асинхронный ответ”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СтильЗапросответ_tooltip_id" href="../Microservices/Messages/request-response-messaging/">Стиль “Запрос-ответ”</a></li>
</ul>
<h2 id="microserviceobservability"><span class="md-tag">microservice/observability</span><a class="headerlink" href="#microserviceobservability" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМетрикиприложения_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/application-metrics-pattern/">Шаблон “Метрики приложения”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонВедениежурналааудита_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/audit-logging-pattern/">Шаблон “Ведение журнала аудита”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРаспределеннаятрассировка_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">Шаблон “Распределенная трассировка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниеисключений_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/exception-tracking-pattern/">Шаблон “Отслеживание исключений”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIпроверкиработоспособности_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">Шаблон “API проверки работоспособности”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонАгрегацияжурналов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/log-aggregation-pattern/">Шаблон “Агрегация журналов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонынаблюдаемости_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/observability-patterns/">Шаблоны наблюдаемости</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Sentry_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">Sentry</a></li>
</ul>
<h2 id="microservicepattern"><span class="md-tag">microservice/pattern</span><a class="headerlink" href="#microservicepattern" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМикросервиснаяархитектура_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">Шаблон “Микросервисная архитектура”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМонолитнаяархитектура_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Шаблон “Монолитная архитектура”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонБэкендыдляфронтендовBFF_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/bff-pattern/">Шаблон “Бэкенды для фронтендов” (BFF)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПредохранитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">Шаблон “Предохранитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбнаружениенаклиентскойстороне_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">Шаблон “Обнаружение на клиентской стороне”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонИдемпотентныйпотребитель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Шаблон “Идемпотентный потребитель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбменсообщениями_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Шаблон “Обмен сообщениями”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОпрашивающийиздатель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">Шаблон “Опрашивающий издатель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПовтор_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Шаблон “Повтор”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонУдаленныйвызовпроцедур_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Шаблон “Удаленный вызов процедур”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСаморегистрация_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Шаблон “Саморегистрация”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбнаружениенасторонесервера_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/server-side-discovery-pattern/">Шаблон “Обнаружение на стороне сервера”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРеестрсервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Шаблон “Реестр сервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСторонняярегистрация_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/third-party-registration-pattern/">Шаблон “Сторонняя регистрация”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниетранзакционногожурнала_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">Шаблон “Отслеживание транзакционного журнала”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонпубликациясобытийилиOutbox_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Шаблон “публикация событий” или Outbox</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонКонфигурациявынесеннаявовне_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">Шаблон “Конфигурация, вынесенная вовне”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонШассимикросервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/microservice-chassis-pattern/">Шаблон “Шасси микросервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонЗаготовкасервиса_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/service-template-pattern/">Шаблон “Заготовка сервиса”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонSidecar_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/sidecar-pattern/">Шаблон Sidecar</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонАгрегатизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Шаблон “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонДоменноесобытиеизDDD_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Шаблон “Доменное событие” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПорождениесобытий_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Шаблон “Порождение событий”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПовествование_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">Шаблон “Повествование”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОднаБДдлясервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Шаблон “Одна БД для сервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазбиениепобизнесвозможностям_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-business-capability-pattern/">Шаблон “Разбиение по бизнес-возможностям”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблондекомпозицияпоподдомену_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-subdomain-pattern/">Шаблон “декомпозиция по поддомену”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонФорматпакетовдляопределенногоязыка_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/language-specific-packaging-pattern/">Шаблон “Формат пакетов для определенного языка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонБессерверноеразвертывание_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/serverless-deployment-pattern/">Шаблон “Бессерверное развертывание”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПлатформаразвертывания_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-deployment-platform-pattern/">Шаблон “Платформа развертывания”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСетьсервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-mesh-pattern/">Шаблон “Сеть сервисов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазвертываниесервисаввидеконтейнера_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-container-pattern/">Шаблон “Развертывание сервиса в виде контейнера”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазвертываниесервисаввидеВМ_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-vm-pattern/">Шаблон “Развертывание сервиса в виде ВМ”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонМетрикиприложения_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/application-metrics-pattern/">Шаблон “Метрики приложения”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонВедениежурналааудита_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/audit-logging-pattern/">Шаблон “Ведение журнала аудита”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРаспределеннаятрассировка_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">Шаблон “Распределенная трассировка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниеисключений_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/exception-tracking-pattern/">Шаблон “Отслеживание исключений”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIпроверкиработоспособности_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">Шаблон “API проверки работоспособности”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонАгрегацияжурналов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/log-aggregation-pattern/">Шаблон “Агрегация журналов”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПредохранительныйслой_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/anti-corruption-layer-pattern/">Шаблон “Предохранительный слой”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонУдушающееприложение_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Шаблон “Удушающее приложение”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбъединениеAPI_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/api-composition-pattern/">Шаблон “Объединение API”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазделениеответственностикомандизапросовCQRS_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">Шаблон “Разделение ответственности команд и запросов”(CQRS)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонТокендоступа_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">Шаблон “Токен доступа”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонтестированиеконтрактовсрасчётомнапотребителя_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-driven-contract-test-pattern/">Шаблон “тестирование контрактов с расчётом на потребителя”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонтестированиеконтрактовнасторонепотребителя_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-side-contract-test-pattern/">Шаблон “тестирование контрактов на стороне потребителя”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонКомпонентныйтестсервиса_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Шаблон “Компонентный тест сервиса”</a></li>
</ul>
<h2 id="microservicepatterns"><span class="md-tag">microservice/patterns</span><a class="headerlink" href="#microservicepatterns" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Списокшаблоновмикросервиснойархитектуры_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/microservice-architecture-patterns/">Список шаблонов микросервисной архитектуры</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныархитектурыприложения_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/application-architecture-patterns/">Шаблоны архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонывзаимодействия_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/communication-patterns/">Шаблоны взаимодействия</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныдлярешениясквозныхпроблем_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/cross-cutting-concerns-patterns/">Шаблоны для решения сквозных проблем</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонысогласованностиданных_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/data-management-patterns/">Шаблоны согласованности данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонСвояБДусервиса_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">Шаблон “Своя БД у сервиса”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныдляразбиенияприложениянамикросервисы_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decomposition-patterns/">Шаблоны для разбиения приложения на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныразвертываниясервисов_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/deployment-patterns/">Шаблоны развертывания сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонынаблюдаемости_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/observability-patterns/">Шаблоны наблюдаемости</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныпереходанамикросервисырефакторинга_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/refactoring-patterns/">Шаблоны перехода на микросервисы (рефакторинга)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонызапросовданных_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/request-patterns/">Шаблоны запросов данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныбезопасности_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/security-patterns/">Шаблоны безопасности</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныавтоматизированноготестирования_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/testing-patterns/">Шаблоны автоматизированного тестирования</a></li>
</ul>
<h2 id="microservicerefactoring"><span class="md-tag">microservice/refactoring</span><a class="headerlink" href="#microservicerefactoring" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПредохранительныйслой_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/anti-corruption-layer-pattern/">Шаблон “Предохранительный слой”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныпереходанамикросервисырефакторинга_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/refactoring-patterns/">Шаблоны перехода на микросервисы (рефакторинга)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонУдушающееприложение_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Шаблон “Удушающее приложение”</a></li>
</ul>
<h2 id="microservicerequest"><span class="md-tag">microservice/request</span><a class="headerlink" href="#microservicerequest" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОбъединениеAPI_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/api-composition-pattern/">Шаблон “Объединение API”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонРазделениеответственностикомандизапросовCQRS_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">Шаблон “Разделение ответственности команд и запросов”(CQRS)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонызапросовданных_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/request-patterns/">Шаблоны запросов данных</a></li>
</ul>
<h2 id="microservicesecurity"><span class="md-tag">microservice/security</span><a class="headerlink" href="#microservicesecurity" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонТокендоступа_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">Шаблон “Токен доступа”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныбезопасности_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/security-patterns/">Шаблоны безопасности</a></li>
</ul>
<h2 id="microservicetesting"><span class="md-tag">microservice/testing</span><a class="headerlink" href="#microservicetesting" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонтестированиеконтрактовсрасчётомнапотребителя_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-driven-contract-test-pattern/">Шаблон “тестирование контрактов с расчётом на потребителя”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонтестированиеконтрактовнасторонепотребителя_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-side-contract-test-pattern/">Шаблон “тестирование контрактов на стороне потребителя”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонКомпонентныйтестсервиса_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Шаблон “Компонентный тест сервиса”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныавтоматизированноготестирования_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/testing-patterns/">Шаблоны автоматизированного тестирования</a></li>
</ul>
<h2 id="microservicetransaction"><span class="md-tag">microservice/transaction</span><a class="headerlink" href="#microservicetransaction" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Шаблонысогласованностиданных_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/data-management-patterns/">Шаблоны согласованности данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонПовествование_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">Шаблон “Повествование”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерапозначению_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/by-value-countermeasure/">Контрмера “по значению”.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмеракоммутативныеобновления_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/commutative-updates-countermeasure/">Контрмера “коммутативные обновления”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Грязноечтение_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/dirty-reading-problem/">“Грязное” чтение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Нечеткоечтение_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/fuzzy-reading-problem/">Нечеткое чтение</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерапессимистическоепредставление_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/pessimistic-view-countermeasure/">Контрмера “пессимистическое представление”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмераповторноечтениезначения_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/second-read-countermeasure/">Контрмера “повторное чтение значения”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерасемантическаяблокировка_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/semantic-lock-countermeasure/">Контрмера “семантическая блокировка”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Потеряныеобновления_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/update-loss-problem/">Потеряные обновления</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Контрмерафайлверсий_tooltip_id" href="../Microservices/Isolation%20Problems%20and%20Countermeasures/version-file-countermeasure/">Контрмера “файл версий”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Компенсируемыетранзакции_tooltip_id" href="../Microservices/Sagas/saga-compensating/">Компенсируемые транзакции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повторяемыетранзакции_tooltip_id" href="../Microservices/Sagas/saga-repeatable/">Повторяемые транзакции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структураповествования_tooltip_id" href="../Microservices/Sagas/saga-structure/">Структура повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Поворотнаятранзакция_tooltip_id" href="../Microservices/Sagas/saga-turning-point/">Поворотная транзакция</a></li>
</ul>
<h2 id="microservicetransactions"><span class="md-tag">microservice/transactions</span><a class="headerlink" href="#microservicetransactions" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОпрашивающийиздатель_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">Шаблон “Опрашивающий издатель”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонОтслеживаниетранзакционногожурнала_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">Шаблон “Отслеживание транзакционного журнала”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонпубликациясобытийилиOutbox_tooltip_id" href="../Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Шаблон “публикация событий” или Outbox</a></li>
</ul>
<h2 id="numeration"><span class="md-tag">numeration</span><a class="headerlink" href="#numeration" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Семантическаянумерацияверсий_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/semantic-versioning/">Семантическая нумерация версий</a></li>
</ul>
<h2 id="on-premiseservice"><span class="md-tag">on-premise/service</span><a class="headerlink" href="#on-premiseservice" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Sentry_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">Sentry</a></li>
</ul>
<h2 id="protocol"><span class="md-tag">protocol</span><a class="headerlink" href="#protocol" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#gRPCRemoteProcedureCallотGoogle_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC (Remote Procedure Call от Google)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#HTTP2_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http-2/">HTTP/2</a></li>
<li><a class="link-tooltip" data-tooltip-content="#HTTPHypertextTransferProtocol_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http/">HTTP - Hypertext Transfer Protocol</a></li>
<li><a class="link-tooltip" data-tooltip-content="#OAuth20_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">OAuth 2.0</a></li>
</ul>
<h2 id="router"><span class="md-tag">router</span><a class="headerlink" href="#router" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#AsuswrtMerlin_tooltip_id" href="../Router/Asuswrt-Merlin/">Asuswrt-Merlin</a></li>
</ul>
<h2 id="security"><span class="md-tag">security</span><a class="headerlink" href="#security" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#OAuth20_tooltip_id" href="../%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">OAuth 2.0</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Аутентификация_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authentication/">Аутентификация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Авторизация_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/authorization/">Авторизация</a></li>
</ul>
<h2 id="transaction"><span class="md-tag">transaction</span><a class="headerlink" href="#transaction" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Оптимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/optimistic-lock/">Оптимистическая блокировка</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Пессимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/pessimistic-lock/">Пессимистическая блокировка</a></li>
</ul>
<h2 id="useful-tool"><span class="md-tag">useful-tool</span><a class="headerlink" href="#useful-tool" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#MyHomeLib_tooltip_id" href="../Windows/myhomelib/">MyHomeLib</a></li>
</ul>
<h2 id="versioning"><span class="md-tag">versioning</span><a class="headerlink" href="#versioning" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Семантическаянумерацияверсий_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/semantic-versioning/">Семантическая нумерация версий</a></li>
</ul>
<h2 id="_2"><span class="md-tag">СУБД</span><a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Оптимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/optimistic-lock/">Оптимистическая блокировка</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Пессимистическаяблокировка_tooltip_id" href="../%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/pessimistic-lock/">Пессимистическая блокировка</a></li>
</ul>
<h2 id="_3"><span class="md-tag">заметка</span><a class="headerlink" href="#_3" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#Цифровойсад_tooltip_id" href="../%D0%97%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8/note-on-digital-garden/">Цифровой сад</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ЗаметкапроObsidian_tooltip_id" href="../%D0%97%D0%B0%D0%BC%D0%B5%D1%82%D0%BA%D0%B8/note-on-obsidian/">Заметка про Obsidian</a></li>
</ul>
<h2 id="_4"><span class="md-tag">книга</span><a class="headerlink" href="#_4" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/book-microservices-patterns/">Книжка “Микросервисы. Шаблоны разработки и рефакторинга”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СравнениеSOAимикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-microservice-soa-compare/">Сравнение SOA и микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Побегизмонолитногоада_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">Побег из монолитного ада</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Модельпредставленийархитектурывида41_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">Модель представлений архитектуры вида 4+1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиидекомпозиции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-decomposition-strategies/">Стратегии декомпозиции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шестиграннаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">Шестигранная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениемикросервиснойархитектурыприложения_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Многоуровневаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">Многоуровневая архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпределениеAPIсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-api-definition/">Определение API сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разбиениенасервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-decomposition/">Разбиение на сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениесистемныхопераций_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging-improves-availabilty/">Использование асинхронного обмена сообщениями для улучшения доступности</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging/">Взаимодействие с помощью асинхронного обмена сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-concurrent-recievers/">Конкурирующие получатели и порядок следования сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Межпроцессное взаимодействие в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОбзорIPC_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-ipc-overview/">Обзор IPC</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Факторывыбораброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-options/">Факторы выбора брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-usage/">Использование брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Дублированиесообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">Дублирование сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациястилейвзаимодействия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-messaging-styles-realization/">Реализация стилей взаимодействия</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-remote-procedure-invocation/">Взаимодействие на основе удаленного вызова процедур (RPI)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обнаружениесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">Обнаружение сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Транзакционныйобменсообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">Транзакционный обмен сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованияоснованныенахореографии_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-choreography-saga/">Повествования, основанные на хореографии.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаточнаяизолированность_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-lack-of-isolation/">Недостаточная изолированность</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-microservice-transaction-control/">Управление транзакциями в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованиянаосновеоркестрации_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-orchestration-saga/">Повествования на основе оркестрации</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Координацияповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-coordination/">Координация повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямиспомощьюповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-transaction-control/">Управление транзакциями с помощью повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-aggregate-domain-model-design/">Проектирование доменной модели с помощью шаблона “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныорганизациибизнеслогики_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-business-logic-templates/">Шаблоны организации бизнес-логики</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">О предметно-ориентированном проектировании (Domain-Driven Design)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменныесобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменные события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменнаямодель_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">Доменная модель</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-microservices-business-logic-design/">Проектирование бизнес-логики в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сценарийтранзакции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">Сценарий транзакции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Методыагрегатаполностьюполагаютсянасобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-aggregate-methods-base-on-events/">Методы агрегата полностью полагаются на события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Событияпредставляютизменениясостояния_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-change-of-state/">События представляют изменения состояния</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развитиедоменныхсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-domain-events-evolution/">Развитие доменных событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-choreography-saga/">Реализация повествований на основе хореографии с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Порождениеипубликациясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-publishing/">Порождение и публикация событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-saga/">Совместное использование повествований и порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Преимуществапорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-benefits/">Преимущества порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабизнеслогикиспорождениемсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-business-logic/">Разработка бизнес-логики с порождением событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаткипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-drawbacks/">Недостатки порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-review/">Обзор порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияхранилищасобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-store-implementation/">Реализация хранилища событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Идемпотентнаяобработкасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-idempotent-events-processing/">Идемпотентная обработка сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Созданиеоркестратораповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-creation/">Создание оркестратора повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-implementation/">Реализация оркестраторов повествований с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияучастникаповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-participant-implementation/">Реализация участника повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saving-aggregate/">Сохранение агрегатов с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Улучшениепроизводительностиспомощьюснимков_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-snapshots-improve-performance/">Улучшение производительности с помощью снимков</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проблемытрадиционногосохраненияданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-usual-data-storing-problems/">Проблемы традиционного сохранения данных.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-api-composition/">Выполнение запросов с помощью объединения API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДостоинстваCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-benefits/">Достоинства CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Выборхранилищаданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-database-selection/">Выбор хранилища данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#НедостаткиCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-drawbacks/">Недостатки CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПрименениешаблонаCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-pattern-usage/">Применение шаблона CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДобавлениеиобновлениеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-add-and-update/">Добавление и обновление CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-design/">Проектирование CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структурамодулядоступакданным_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-data-access-module-structure/">Структура модуля доступа к данным</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациязапросоввмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-microservices-requests/">Реализация запросов в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#АрхитектураAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-architecture/">Архитектура API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТрудностипроектированияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-design-difficulties/">Трудности проектирования API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#РеализацияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-implementation/">Реализация API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#МодельвладениявAPIшлюзе_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-ownership/">Модель владения в API-шлюзе</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-template/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонывнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-patterns/">Шаблоны внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроблемыспроектированиемвнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">Проблемы с проектированием внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Трудноститестированиямикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-microservice-testing-drawbacks/">Трудности тестирования микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниемодульныхтестовдлясервиса_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">Написание модульных тестов для сервиса</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть1_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-microservices-part-1/">Тестирование микросервисов, часть 1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорметодиктестирования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-techniques-review/">Обзор методик тестирования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкакомпонентныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">Разработка компонентных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниесквозныхendtoendтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-end-to-end-tests-writing/">Написание сквозных (end to end) тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниеинтеграционныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-integration-tests-writing/">Написание интеграционных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть2_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-testing-microservices-part-2/">Тестирование микросервисов, часть 2</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеконфигурируемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">Проектирование конфигурируемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-enterprise-ready-services-implementation/">Разработка сервисов, готовых к промышленному использованию</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-microservice-chassis/">Разработка сервисов с помощью шаблона микросервисного шасси</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиенаблюдаемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">Проектирование наблюдаемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабезопасныхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">Разработка безопасных сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Обеспечение безопасности в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-use-oauth-20/">Использование OAuth 2.0 в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развертываниемикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2012/ch-12-microservices-deployment/">Развертывание микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Аутентификацияиавторизация_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-authentication-and-authorization/">Аутентификация и авторизация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-data-consistency/">Обеспечение согласованности данных между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеинтеграционногослоя_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-integration-layer-design/">Проектирование интеграционного слоя</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-microservices-monolith-interaction-design/">Проектирование взаимодействия между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияновыхвозможностейввидесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Реализация новых возможностей в виде сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Извлечениебизнесвозможностейвсервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Извлечение бизнес-возможностей в сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Процесспереходанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-refactoring-to-microservices/">Процесс перехода на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиипереходасмонолитанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-strategies/">Стратегии перехода с монолита на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Переходнамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-to-microservices/">Переход на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов.</a></li>
</ul>
<h2 id="_5"><span class="md-tag">конспект</span><a class="headerlink" href="#_5" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/book-microservices-patterns/">Книжка “Микросервисы. Шаблоны разработки и рефакторинга”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#СравнениеSOAимикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-microservice-soa-compare/">Сравнение SOA и микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Побегизмонолитногоада_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">Побег из монолитного ада</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Модельпредставленийархитектурывида41_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">Модель представлений архитектуры вида 4+1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиидекомпозиции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-decomposition-strategies/">Стратегии декомпозиции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шестиграннаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">Шестигранная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениемикросервиснойархитектурыприложения_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Многоуровневаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">Многоуровневая архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпределениеAPIсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-api-definition/">Определение API сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разбиениенасервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-services-decomposition/">Разбиение на сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Определениесистемныхопераций_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging-improves-availabilty/">Использование асинхронного обмена сообщениями для улучшения доступности</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-async-messaging/">Взаимодействие с помощью асинхронного обмена сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-concurrent-recievers/">Конкурирующие получатели и порядок следования сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Межпроцессное взаимодействие в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОбзорIPC_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-ipc-overview/">Обзор IPC</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Факторывыбораброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-options/">Факторы выбора брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Использованиеброкерасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-broker-usage/">Использование брокера сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Дублированиесообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">Дублирование сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациястилейвзаимодействия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-messaging-styles-realization/">Реализация стилей взаимодействия</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-remote-procedure-invocation/">Взаимодействие на основе удаленного вызова процедур (RPI)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обнаружениесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">Обнаружение сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Транзакционныйобменсообщениями_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">Транзакционный обмен сообщениями</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованияоснованныенахореографии_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-choreography-saga/">Повествования, основанные на хореографии.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаточнаяизолированность_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-lack-of-isolation/">Недостаточная изолированность</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-microservice-transaction-control/">Управление транзакциями в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Повествованиянаосновеоркестрации_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-orchestration-saga/">Повествования на основе оркестрации</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Координацияповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-coordination/">Координация повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Управлениетранзакциямиспомощьюповествований_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2004/ch-4-saga-transaction-control/">Управление транзакциями с помощью повествований</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-aggregate-domain-model-design/">Проектирование доменной модели с помощью шаблона “Агрегат” из DDD</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Шаблоныорганизациибизнеслогики_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-business-logic-templates/">Шаблоны организации бизнес-логики</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">О предметно-ориентированном проектировании (Domain-Driven Design)</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменныесобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменные события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Доменнаямодель_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">Доменная модель</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-microservices-business-logic-design/">Проектирование бизнес-логики в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сценарийтранзакции_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">Сценарий транзакции</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Методыагрегатаполностьюполагаютсянасобытия_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-aggregate-methods-base-on-events/">Методы агрегата полностью полагаются на события</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Событияпредставляютизменениясостояния_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-change-of-state/">События представляют изменения состояния</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развитиедоменныхсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-domain-events-evolution/">Развитие доменных событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-choreography-saga/">Реализация повествований на основе хореографии с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Порождениеипубликациясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-publishing/">Порождение и публикация событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-and-saga/">Совместное использование повествований и порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Преимуществапорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-benefits/">Преимущества порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабизнеслогикиспорождениемсобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-business-logic/">Разработка бизнес-логики с порождением событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Недостаткипорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-drawbacks/">Недостатки порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-sourcing-review/">Обзор порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияхранилищасобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-event-store-implementation/">Реализация хранилища событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Идемпотентнаяобработкасообщений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-idempotent-events-processing/">Идемпотентная обработка сообщений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Созданиеоркестратораповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-creation/">Создание оркестратора повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-orchestrator-implementation/">Реализация оркестраторов повествований с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияучастникаповествования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saga-participant-implementation/">Реализация участника повествования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-saving-aggregate/">Сохранение агрегатов с помощью порождения событий</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Улучшениепроизводительностиспомощьюснимков_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-snapshots-improve-performance/">Улучшение производительности с помощью снимков</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проблемытрадиционногосохраненияданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2006/ch-6-usual-data-storing-problems/">Проблемы традиционного сохранения данных.</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-api-composition/">Выполнение запросов с помощью объединения API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДостоинстваCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-benefits/">Достоинства CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Выборхранилищаданных_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-database-selection/">Выбор хранилища данных</a></li>
<li><a class="link-tooltip" data-tooltip-content="#НедостаткиCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-drawbacks/">Недостатки CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПрименениешаблонаCQRS_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-pattern-usage/">Применение шаблона CQRS</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ДобавлениеиобновлениеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-add-and-update/">Добавление и обновление CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроектированиеCQRSпредставлений_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-cqrs-views-design/">Проектирование CQRS-представлений</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Структурамодулядоступакданным_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-data-access-module-structure/">Структура модуля доступа к данным</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализациязапросоввмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2007/ch-7-microservices-requests/">Реализация запросов в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#АрхитектураAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-architecture/">Архитектура API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ТрудностипроектированияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-design-difficulties/">Трудности проектирования API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#РеализацияAPIшлюза_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-implementation/">Реализация API-шлюза</a></li>
<li><a class="link-tooltip" data-tooltip-content="#МодельвладениявAPIшлюзе_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-ownership/">Модель владения в API-шлюзе</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонAPIшлюз_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-api-gateway-template/">Шаблон “API-шлюз”</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ШаблонывнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-patterns/">Шаблоны внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ПроблемыспроектированиемвнешнихAPI_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">Проблемы с проектированием внешних API</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Трудноститестированиямикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-microservice-testing-drawbacks/">Трудности тестирования микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниемодульныхтестовдлясервиса_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">Написание модульных тестов для сервиса</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть1_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-microservices-part-1/">Тестирование микросервисов, часть 1</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обзорметодиктестирования_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-testing-techniques-review/">Обзор методик тестирования</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкакомпонентныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">Разработка компонентных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниесквозныхendtoendтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-end-to-end-tests-writing/">Написание сквозных (end to end) тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Написаниеинтеграционныхтестов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-integration-tests-writing/">Написание интеграционных тестов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Тестированиемикросервисовчасть2_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-testing-microservices-part-2/">Тестирование микросервисов, часть 2</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеконфигурируемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">Проектирование конфигурируемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-enterprise-ready-services-implementation/">Разработка сервисов, готовых к промышленному использованию</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-microservice-chassis/">Разработка сервисов с помощью шаблона микросервисного шасси</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиенаблюдаемыхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">Проектирование наблюдаемых сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разработкабезопасныхсервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">Разработка безопасных сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Обеспечение безопасности в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-use-oauth-20/">Использование OAuth 2.0 в микросервисной архитектуре</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Развертываниемикросервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2012/ch-12-microservices-deployment/">Развертывание микросервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Аутентификацияиавторизация_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-authentication-and-authorization/">Аутентификация и авторизация</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-data-consistency/">Обеспечение согласованности данных между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиеинтеграционногослоя_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-integration-layer-design/">Проектирование интеграционного слоя</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-microservices-monolith-interaction-design/">Проектирование взаимодействия между сервисом и монолитом</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Реализацияновыхвозможностейввидесервисов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Реализация новых возможностей в виде сервисов</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Извлечениебизнесвозможностейвсервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Извлечение бизнес-возможностей в сервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Процесспереходанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-refactoring-to-microservices/">Процесс перехода на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Стратегиипереходасмонолитанамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-strategies/">Стратегии перехода с монолита на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Переходнамикросервисы_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-transition-to-microservices/">Переход на микросервисы</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id" href="../%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов.</a></li>
</ul>
<h2 id="_6"><span class="md-tag">цитата</span><a class="headerlink" href="#_6" title="Permanent link">¶</a></h2>
<ul>
<li><a class="link-tooltip" data-tooltip-content="#CAPтеорема_tooltip_id" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/cap-theorem/">CAP-теорема</a></li>
<li><a class="link-tooltip" data-tooltip-content="#ЗаконКонвея_tooltip_id" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/conways-law/">Закон Конвея</a></li>
<li><a class="link-tooltip" data-tooltip-content="#Законямы_tooltip_id" href="../%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/law-of-holes/">Закон ямы</a></li>
</ul>
<hr/>
<div class="md-source-file">
<small>
    
      Последнее обновление:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 23, 2022</span>
</small>
</div>
<!-- Giscus -->
<h2 id="__comments">Комментарии</h2>
<script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOHmHtlM4CQQAk" data-emit-metadata="0" data-input-position="top" data-lang="ru" data-mapping="url" data-reactions-enabled="1" data-repo="alexeystalker/alexeystalker.github.io" data-repo-id="R_kgDOHmHtlA" data-theme="dark_dimmed" src="https://giscus.app/client.js">
</script>
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark_dimmed" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark_dimmed" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            К началу
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Нижний колонтитул" class="md-footer__inner md-grid">
<a aria-label="Назад: Цифровой сад (и огород)" class="md-footer__link md-footer__link--prev" href=".." rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Назад
              </span>
              Цифровой сад (и огород)
            </div>
</div>
</a>
<a aria-label='Вперед: Шаблон "Внедрение зависимостей"' class="md-footer__link md-footer__link--next" href="../Design%20Patterns/dependency-injection-pattern/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Вперед
              </span>
              Шаблон "Внедрение зависимостей"
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
</div>
<div class="md-social">
<a class="md-social__link" href="https://t.me/AlexStalkerConnectionBot" rel="noopener" target="_blank" title="Бот для связи">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.top", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.config.lang": "ru", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "\u041f\u043e\u0438\u0441\u043a", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version.title": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}}</script>
<script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
<script src="../assets/js/mathjax.js"></script>
<script src="../assets/js/utils.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../assets/js/tooltipster.bundle.js"></script>
<div class="tooltip_templates"><div id="ОпределениеAPIсервисов_tooltip_id"><p class="admonition-title">API</p>
<p>Можно сказать, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">API</a> сервиса состоит из операций, которые клиент может вызывать, и событий, публикуемых сервисом.</p>
<p>Операция в API может существовать по одной из двух причин: она либо соответствует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">системной операции</a> и вызывается внешними клиентами (или, возможно, другими сервисами), либо поддерживает взаимодействие между сервисами и вызывается только ими. События публикуются в основном для того, чтобы …</p></div></div><div class="tooltip_templates"><div id="ШаблонАгрегатизDDD_tooltip_id"><p><em>Агрегат</em> - это кластер доменных объектов, с которыми можно обращаться как с единым целым. Он состоит из одной сущности и иногда одной или нескольких сущностей и объектов значений.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923205357.png"/><br/>
Агрегаты разбивают доменную модель на блоки, а также проясняют область применения операций, таких как загрузка, обновление и удаление. Эти операции распространяются на весь агрегат.</p>
<p>Обновление целого агрегата, а не…</p></div></div><div class="tooltip_templates"><div id="ШаблонДоменноесобытиеизDDD_tooltip_id"><p><em>Доменное событие</em> - это класс с именем на основе страдательного причастия прошедшего времени (создан, удалён и т.д.). Он содержит свойства, которые выразительно передают это событие. Например, класс события <code>OrderCreated</code> содержит <code>orderId</code>.<br/>
Также у доменного события есть метаданные, такие как идентификатор и timestamp. Также может быть id пользователя, сделавшего изменение и id агрегата, сгенерировавшего событие. Метаданные могут быть как в самом классе, так …</p></div></div><div class="tooltip_templates"><div id="ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id"><p>DDD, описанное в <a href="https://www.ozon.ru/product/predmetno-orientirovannoe-proektirovanie-ddd-strukturizatsiya-slozhnyh-programmnyh-sistem-147107976/">книге Эрика Эванса Domain-Driven Design</a> - Это более узкая разновидность ООП, предназначенная для разаботки сложной бизнес-логики.<br/>
В DDD есть <em>стратегические шаблоны</em>, например поддомены и концепция изолированного контекста.<br/>
Также в DDD есть <em>тактические шаблоны</em>, которые служат стро…</p></div></div><div class="tooltip_templates"><div id="DnsClientNET_tooltip_id"><p>Библиотека для DNS запросов.</p>
<p>https://github.com/MichaCo/DnsClient.NET</p></div></div><div class="tooltip_templates"><div id="ClearCacheApi_tooltip_id"><p>Используем для очистки кэшей эластика (нужно, например, для профилирования).<br/>
Желательно сбрасывать ПЕРЕД КАЖДЫМ замеряемым запросом.<br/>
<code>bash
curl -X POST "localhost:9200/my-index-000001/_cache/clear?pretty"</code></p>
<li><code>POST /&lt;index&gt;/_cache/clear</code></li>
<li><code>POST /_cache/clear</code> </li>
<p>По умолчанию очищает все три кэша. Однако, можно очищать и по отдельности:</p>
<li>очищает кэш полей. Можно указать отдельные поля через параметр <code>fields</code><br/>
    ```bash<br/>
    curl -X POST “localhost:9200/my-ind…</li></div></div><div class="tooltip_templates"><div id="КаксклонироватьиндексElasticsearch_tooltip_id"><p>Чтобы склонировать индекс эластика, надо сделать запрос<br/>
<code>http
POST /&lt;index&gt;/_clone/&lt;target-index&gt;</code><br/>
Перед клонированием нужно <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Configuration/blocks-write/">закрыть</a> индекс на запись. Также надо <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Configuration/number-of-replicas/">выставить</a> число реплик равным числу исходного индекса (по умолчанию ставится 1).</p>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-clone-index.html</p></div></div><div class="tooltip_templates"><div id="OutOfMemoryвЭластикеприhas_childзапросе_tooltip_id"><p>В случае использования джоинов parent-child при фильтре по условию <a class="wikilink" href="has-child-query">has_child</a> может очень сильно вырастать потребление памяти в Lucene, и даже привести к крэшу Эластика от OOM.<br/>
В логах Эластика стектрейс у ООМ начинается примерно так:<br/>
```<br/>
“java.lang.OutOfMemoryError: Java heap space”,<br/>
“at org.apache.lucene.search.join.GlobalOrdinalsWithScoreCollector$Occurrences.increment(GlobalOrdinalsWithScoreCollector.java:363) ~[lucene-join-8....</p></div></div><div class="tooltip_templates"><div id="Bucketaggregations_tooltip_id"><p>Аггрегации, котороые не делают вычислений, но создают “корзины” (buckets) для документов согласно некоему критерию. Также такие агрегации возвращают количество документов, попавших в каждую корзину.<br/>
В таких агрегациях могут быть (в отличие от метрических) подагрегации, применяемые к корзинам, созданым “родительской” агрегацией.<br/>
Могут быть “однокорзинными”, использовать заданный набор корзин или создавать их динамически.</p>
<p>Дальше будут упоминаться только те агрегации, с котор…</p></div></div><div class="tooltip_templates"><div id="bucket_sortagg_tooltip_id"><p>Сортировка бакетов исходной агрегации. Запрос выглядит примерно так:<br/>
<code>json
{
  "aggs": {
    "okveds": {
      "terms": {
        "field": "okved-all-exact",
        "size": 10000
      },
      "aggs": {
        "truncate": {
          "bucket_sort": {
            "sort": [
              {"_count": {"order": "asc"} }
            ],
            "from": 10,
            "size": 40
          }
        }
      }
    }
  }
}</code><br/>
Важно, что <code>bucket_sort</code> работает только внутри друг…</p></div></div><div class="tooltip_templates"><div id="АгрегациивElasticsearch_tooltip_id"><p>Агрегации - это запросы к Elasticsearch, которые как-либо агрегируют значения в документах. Делятся на три вида</p>
<li><a class="wikilink" href="metricaggs">Metric</a> - считают “метрики”, типа сумм или среднего значения полей</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Aggregations/bucket-aggs/">Bucket</a> - группируют документы по “корзинам” (buckets or bins) по значениям, диапазонам значений и т.п.</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Aggregations/pipeline-aggs/">Pipeline</a> - агрегации, которые обрабатывают значения других агрегаций, а не документов</li>
<p>https://www.elastic.co/guide/en/ela…</p></div></div><div class="tooltip_templates"><div id="FilterAggregation_tooltip_id"><p>“Однокорзинная” агрегация, которая собирает в корзину документы, соответствующие фильтру. Примерно так:<br/>
```json<br/>
{<br/>
    “aggs”: {<br/>
        “with_filter”: {<br/>
            “filter”: {<br/>
                “bool”: {<br/>
                    “filter”: [<br/>
                        {<br/>
                            “terms”: {<br/>
                                “status-tags”: [<br/>
                                    “Active”,<br/>
                                    “Bankruptcy”,<br/>
                                    “Reorg”,<br/>
                                    “Liquidating”,<br/>
                                    “Unknown”<br/>
                                ]<br/>
                            }<br/>
                        },<br/>
                    …</p></div></div><div class="tooltip_templates"><div id="Missingaggregation_tooltip_id"><p>“Однокорзинная” агрегация, создает корзину c документами, в которых отсуствует поле (или имеет <a class="wikilink" href="null-config">сконфигуренное</a> NULL значение).<br/>
<code>json
{
    "aggs": {
        "no_income": {
            "missing": {"field": "income"}
        }
    }
}</code><br/>
Хорошо сочетается с <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Aggregations/range-agg/">range</a> агрегацией, когда нужно выделить документы без значений в отдельную колонку:<br/>
```json<br/>
{<br/>
    “aggs”: {<br/>
        “income_ranges”: {<br/>
            “range”: {<br/>
                “field”: “income”…</p></div></div><div class="tooltip_templates"><div id="Конвеерныеагрегацииpipelineaggs_tooltip_id"><p>Агрегации, которые применяются к результатам других аггрегаций (агрегатам), а не исходным документам. Делятся на две большие группы:</p>
<li>Дочерние (почемуто в доке называется Parent) - агрегации, которые получают вывод родительской агрегации и могут вычислять новые бакеты или новые агрегации и добавлять к существующим бакетам</li>
<li>Братские (sibling) - получают вывод одноуровневой агрегации и вычисляют новый агрегат на том же уровне</li>
<li>[[bucket-sort-agg|bucket_…</li></div></div><div class="tooltip_templates"><div id="Rangeaggregation_tooltip_id"><p>Агрегация на фиксированное число корзин - заданных диапазонов. Запрос примерно такой:</p>
<p>```json<br/>
{<br/>
    “aggs”: {<br/>
        “income_ranges”: {<br/>
            “range”: {<br/>
                “field”: “income”,<br/>
                “keyed”: true,<br/>
                “ranges”: [<br/>
                    { “from”: 0, “to”: 1 },<br/>
                    { “from”: 1, “to”: 100000 },<br/>
                    { “from”: 100000, “to”: 250000 },<br/>
                    { “from”: 250000, “to”: 500000 },<br/>
                    { “f…</p></div></div><div class="tooltip_templates"><div id="TermsAggregation_tooltip_id"><p>Агрегация с динамическим количеством корзин (по числу уникальных значений)<br/>
Запрос:<br/>
<code>json
{
    "aggs": {
        "okveds": {
            "terms": {
                "field": "okved-xtr-exact",
                "size": 10000
            }
        }
    }
}</code><br/>
Параметры:</p>
<li><code>field</code> - поле, по значениям которого создаются корзины и ведется подсчет</li>
<li><code>size</code> - максимальное количество корзин. Сверху ограничено параметром кластера analyze.max_token_count (вроде бы)</li>
<li><code>include</code> - список термов, корзины с которыми должны быть в выдаче. Если…</li></div></div><div class="tooltip_templates"><div id="AnalyzeAPI_tooltip_id"><p>Анализирует текстовую строку и возвращает результирующие токены<br/>
<code>json
GET /_analyze 
{ 
    "analyzer" : "standard", 
    "text" : "Quick Brown Foxes!" 
}</code></p>
<li><code>GET /_analyze</code></li>
<li><code>POST /_analyze</code></li>
<li><code>GET /&lt;index&gt;/_analyze</code></li>
<li><code>POST /&lt;index&gt;/_analyze</code></li>
<p>Если указать <code>index</code> в path, можно использовать анализатор, определенный в этом индексе.</p>
<li><code>analyzer</code> (опционально, строка) имя анализатора, который нужно применить к тексту. Может быть встроенный анализато…</li></div></div><div class="tooltip_templates"><div id="Boolquery_tooltip_id"><p>Запрос, объединяющий другие запросы в терминах булевой алгебры. Строится из одного или более типизированных вхождений. Возможные типы вхождений:</p>
<li><code>must</code> - все запросы должны выполнятся для результирующих документов (логическое И). Участвует в скоринге;</li>
<li><code>filter</code> - все запросы должны выполняться для результирующих документов (логическое И). В отличие от <code>must</code> скоринг игнорируется. Запросы фильтра выполняются в <a class="wikilink" href="query-filter-context">контексте фильтра</a>, что ведет к игнорированию с…</li></div></div><div class="tooltip_templates"><div id="Compoundqueries_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/bool-query/">bool</a> query</li>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/compound-queries.html</p></div></div><div class="tooltip_templates"><div id="ЗакрытьназаписьиндексElasticsearch_tooltip_id"><p>Чтобы закрыть индекс Эластика на запись извне (изменение настроек остаётся), нужно сделать запрос<br/>
<code>json
PUT /my_source_index/_settings 
{
  "settings": { 
    "index.blocks.write": true
    }
}</code><br/>
Нужно, к примеру для <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/elastic-clone/">клонирования</a></p>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-clone-index.html</p></div></div><div class="tooltip_templates"><div id="Elasticheapsize_tooltip_id"><p>При запуске Эластика (особенно на проде) нужно указать размер Java Heap, который выделяется и будет использован Эластиком.<br/>
При этом память, которую использует Lucene, не входит в Java Heap</p>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/heap-size.html</p></div></div><div class="tooltip_templates"><div id="НастройкачисларепликElasticsearch_tooltip_id"><p><code>json
PUT /my_source_index/_settings 
{
  "settings": { 
    "index.number_of_replicas": %num%
    }
}</code></p></div></div><div class="tooltip_templates"><div id="Fulltextqueries_tooltip_id"><p><em>Полнотекстовые запросы</em> - запросы к <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/analyze-api/">проанализированным</a> текстовым полям. Строка запроса анализируется тем же анализатором, что и поле во время индексирования.</p>
<li><a class="wikilink" href="intervals-query">intervals</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/match-query/">match</a></li>
<li><a class="wikilink" href="match-bool-prefix-query">match_bool_prefix</a></li>
<li><a class="wikilink" href="match-phrase-query">match_phrase</a></li>
<li><a class="wikilink" href="match-phrase-prefix-query">match_phrase_prefix</a></li>
<li><a class="wikilink" href="multi-match-query">multi_match</a></li>
<li><a class="wikilink" href="common-query">common</a></li>
<li><a class="wikilink" href="query-string-query">query_string</a></li>
<li>[[simple-…</li></div></div><div class="tooltip_templates"><div id="Matchquery_tooltip_id"><p>Возвращает документы, содержащие текст, соответствующий (match) запрошенному. Запрошенный текст анализируется перед поиском.</p>
<p>Запрос <code>match</code> является стандартным запросом для полнотекстового поиска, включая нечёткий (fuzzy) поиск.<br/>
Пример:<br/>
<code>json
GET /_search
{
  "query": {
    "match": {
      "message": {
        "query": "this is a test"
      }
    }
  }
}</code><br/>
Параметр: <code>field</code> - имя поля, в котором осуществляется поиск (в примере <code>message</code>). Является объектом, содержащим парам…</p></div></div><div class="tooltip_templates"><div id="inner_hitsparameter_tooltip_id"><p>В случае использования <code>parent-child</code> и <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> связей может возникнуть необходимость получения связанных документов, удовлетворяющих запросу.<br/>
Для этого используется параметр <code>inner_hits</code> в запросе или фильтре.<br/>
<code>json
POST test/_search
{
  "query": {
    "nested": {
      "path": "comments",
      "query": {
        "match": { "comments.number": 2 }
      },
      "inner_hits": {}
    }
  }
}</code><br/>
При таком запросе будут возвращены nested документы, соответ…</p></div></div><div class="tooltip_templates"><div id="Joiningqueries_tooltip_id"><p>Аналог Join запросов в SQL. Эластиковые join-подобные запросы спроектированы масштабироваться горизонтально.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> - для поиска по <code>nested</code> документам</li>
<li><a class="wikilink" href="has-child-query">has_child</a> и <a class="wikilink" href="has-parent-query">has_parent</a> - для parent-child документов</li>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/joining-queries.html</p></div></div><div class="tooltip_templates"><div id="Nestedquery_tooltip_id"><p>Для построения запроса по nested документам нужно сделать запрос типа <code>nested</code>, nested-поле указать в параметре <code>path</code>, следующим параметрам указать query по вложенному документу, причем поля для поиска указываются в виде <code>%path%.%field%</code>. Например, <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/exists-query/">Exists</a> запрос для вложенного поля:<br/>
<code>json
{
  "query": {
    "nested": {
      "path": "leasing",
      "query": {
        "exists": {
          "field": "leasing.leasing-id"
        }
      }
    }
  }
}</code></p></div></div><div class="tooltip_templates"><div id="МеняемmappingвElastic_tooltip_id"><p>Чтобы обновить маппинг в Эластике, нужно отправить PUT запрос с измененными маппингами, примерно так:<br/>
<code>json
PUT /my-index-000001/_mapping 
{ 
    "properties": { 
        "email": { 
            "type": "keyword" 
        } 
    } 
}</code></p></div></div><div class="tooltip_templates"><div id="Boolquery_tooltip_id"><p>Запрос, объединяющий другие запросы в терминах булевой алгебры. Строится из одного или более типизированных вхождений. Возможные типы вхождений:</p>
<li><code>must</code> - все запросы должны выполнятся для результирующих документов (логическое И). Участвует в скоринге;</li>
<li><code>filter</code> - все запросы должны выполняться для результирующих документов (логическое И). В отличие от <code>must</code> скоринг игнорируется. Запросы фильтра выполняются в <a class="wikilink" href="query-filter-context">контексте фильтра</a>, что ведет к игнорированию с…</li></div></div><div class="tooltip_templates"><div id="Compoundqueries_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/bool-query/">bool</a> query</li>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/compound-queries.html</p></div></div><div class="tooltip_templates"><div id="Existsquery_tooltip_id"><p>Возвращает документы, в которых присутствует указанное поле<br/>
<code>json
GET /_search 
{ 
    "query": { 
        "exists": { 
            "field": "user" 
        } 
    } 
}</code><br/>
Считается, что поле “отсутствует” в следующих случаях</p>
<li>поле равно <code>null</code> или <code>[]</code></li>
<li>В маппинге для поля указано <code>"index": false</code> <a class="wikilink" href="-map-param">см</a></li>
<li>длина значения поля больше чем указано в маппинге в параметре <code>ignore_above</code> <a class="wikilink" href="ignore-above-map-param">см</a></li>
<li>Значение сломано (malformed) и в маппинге указан параметр `ignore_malform…</li></div></div><div class="tooltip_templates"><div id="Fulltextqueries_tooltip_id"><p><em>Полнотекстовые запросы</em> - запросы к <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/analyze-api/">проанализированным</a> текстовым полям. Строка запроса анализируется тем же анализатором, что и поле во время индексирования.</p>
<li><a class="wikilink" href="intervals-query">intervals</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/match-query/">match</a></li>
<li><a class="wikilink" href="match-bool-prefix-query">match_bool_prefix</a></li>
<li><a class="wikilink" href="match-phrase-query">match_phrase</a></li>
<li><a class="wikilink" href="match-phrase-prefix-query">match_phrase_prefix</a></li>
<li><a class="wikilink" href="multi-match-query">multi_match</a></li>
<li><a class="wikilink" href="common-query">common</a></li>
<li><a class="wikilink" href="query-string-query">query_string</a></li>
<li>[[simple-…</li></div></div><div class="tooltip_templates"><div id="IDsquery_tooltip_id"><p>Возвращает документы, соответствующие переданным Id (Id хранится в поле <code>_id</code>).<br/>
<code>json
GET /_search
{
  "query": {
    "ids" : {
      "values" : ["1", "4", "100"]
    }
  }
}</code><br/>
Я думаю, может быть особенно полезен для запросов к подчинённым документам, например, <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> с <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/inner-hits/">inner_hits</a>.<br/>
Пусть есть документы с nested документом в поле <code>nstd</code>, где <code>nstd.text</code> - анализируемое поле, а <code>nstd.id</code> - некий идентификатор. Тогда найдём не более 5 вложенных докум…</p></div></div><div class="tooltip_templates"><div id="inner_hitsparameter_tooltip_id"><p>В случае использования <code>parent-child</code> и <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> связей может возникнуть необходимость получения связанных документов, удовлетворяющих запросу.<br/>
Для этого используется параметр <code>inner_hits</code> в запросе или фильтре.<br/>
<code>json
POST test/_search
{
  "query": {
    "nested": {
      "path": "comments",
      "query": {
        "match": { "comments.number": 2 }
      },
      "inner_hits": {}
    }
  }
}</code><br/>
При таком запросе будут возвращены nested документы, соответ…</p></div></div><div class="tooltip_templates"><div id="Joiningqueries_tooltip_id"><p>Аналог Join запросов в SQL. Эластиковые join-подобные запросы спроектированы масштабироваться горизонтально.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> - для поиска по <code>nested</code> документам</li>
<li><a class="wikilink" href="has-child-query">has_child</a> и <a class="wikilink" href="has-parent-query">has_parent</a> - для parent-child документов</li>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/joining-queries.html</p></div></div><div class="tooltip_templates"><div id="Matchquery_tooltip_id"><p>Возвращает документы, содержащие текст, соответствующий (match) запрошенному. Запрошенный текст анализируется перед поиском.</p>
<p>Запрос <code>match</code> является стандартным запросом для полнотекстового поиска, включая нечёткий (fuzzy) поиск.<br/>
Пример:<br/>
<code>json
GET /_search
{
  "query": {
    "match": {
      "message": {
        "query": "this is a test"
      }
    }
  }
}</code><br/>
Параметр: <code>field</code> - имя поля, в котором осуществляется поиск (в примере <code>message</code>). Является объектом, содержащим парам…</p></div></div><div class="tooltip_templates"><div id="Nestedquery_tooltip_id"><p>Для построения запроса по nested документам нужно сделать запрос типа <code>nested</code>, nested-поле указать в параметре <code>path</code>, следующим параметрам указать query по вложенному документу, причем поля для поиска указываются в виде <code>%path%.%field%</code>. Например, <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/exists-query/">Exists</a> запрос для вложенного поля:<br/>
<code>json
{
  "query": {
    "nested": {
      "path": "leasing",
      "query": {
        "exists": {
          "field": "leasing.leasing-id"
        }
      }
    }
  }
}</code></p></div></div><div class="tooltip_templates"><div id="QueryDSL_tooltip_id"><p>Головная заметка о Elasticsearch query DSL.<br/>
Запрос к Эластику состоит из <em>выражений (clauses}</em> <br/>
Выражения могут быть двух типов:</p>
<li><em>Листовые (Leaf)</em> - выражения, касающиеся значений в полях документа, такие как <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/match-query/">match</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/term-query/">term</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/range-query/">range</a>.</li>
<li><em>Составные (Compound)</em> - выражения, оборачивающие другое листовое или составное выражение и предназначенные либо для объединения выражений в логическом смысле (такие как <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/bool-query/">bool</a> или [[dis-max-q…</li></div></div><div class="tooltip_templates"><div id="Rangequery_tooltip_id"><p>Возвращает документы, которые содержат значения в заданном диапазоне.<br/>
Пример:<br/>
<code>json
GET /_search
{
  "query": {
    "range": {
      "age": {
        "gte": 10,
        "lte": 20,
        "boost": 2.0
      }
    }
  }
}</code></p>
<p><code>field</code> (required) - поле, по которому нужно осуществить поиск. Указывается как имя поля запроса, а не как значение поля <code>field</code>. Является объектом.</p>
<p>Все -  optional</p>
<li><code>gt</code> - больше чем</li>
<li><code>gte</code> - больше или равно чем</li>
<li><code>lt</code> - …</li></div></div><div class="tooltip_templates"><div id="Termlevelqueries_tooltip_id"><p><em>Запросы уровня терма</em> - запросы к точным значениям полей. Не используют анализ термов (в отличие от <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/full-text-queries/">полнотекстовых запросов</a>).</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/exists-query/">exists</a> - возвращает документы, в поле которых есть любое проиндексированное значение</li>
<li><a class="wikilink" href="fuzzy-query">fuzzy</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/ids-query/">ids</a></li>
<li><a class="wikilink" href="prefix-query">prefix</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/range-query/">range</a></li>
<li><a class="wikilink" href="regexp-query">regexp</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/term-query/">term</a> - возвращает документы, у которых в указанном поле есть точный терм</li>
<li>[[terms-query|…</li></div></div><div class="tooltip_templates"><div id="Termquery_tooltip_id"><p>Ищет документы с точным вхождением терма. Как правило, это поля типа <code>keyword</code>.<br/>
<code>json
{
    "query": {
        "term": {
            "opf-exact": {
                "value": "50102"
            }
        }
    }
}</code><br/>
В отличие от многих других запросов, имя поля указывается не как значение параметра <code>field</code>, а как имя поля объекта.</p>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/query-dsl-term-query.html</p></div></div><div class="tooltip_templates"><div id="Existsquery_tooltip_id"><p>Возвращает документы, в которых присутствует указанное поле<br/>
<code>json
GET /_search 
{ 
    "query": { 
        "exists": { 
            "field": "user" 
        } 
    } 
}</code><br/>
Считается, что поле “отсутствует” в следующих случаях</p>
<li>поле равно <code>null</code> или <code>[]</code></li>
<li>В маппинге для поля указано <code>"index": false</code> <a class="wikilink" href="-map-param">см</a></li>
<li>длина значения поля больше чем указано в маппинге в параметре <code>ignore_above</code> <a class="wikilink" href="ignore-above-map-param">см</a></li>
<li>Значение сломано (malformed) и в маппинге указан параметр `ignore_malform…</li></div></div><div class="tooltip_templates"><div id="IDsquery_tooltip_id"><p>Возвращает документы, соответствующие переданным Id (Id хранится в поле <code>_id</code>).<br/>
<code>json
GET /_search
{
  "query": {
    "ids" : {
      "values" : ["1", "4", "100"]
    }
  }
}</code><br/>
Я думаю, может быть особенно полезен для запросов к подчинённым документам, например, <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/nested-query/">nested</a> с <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/inner-hits/">inner_hits</a>.<br/>
Пусть есть документы с nested документом в поле <code>nstd</code>, где <code>nstd.text</code> - анализируемое поле, а <code>nstd.id</code> - некий идентификатор. Тогда найдём не более 5 вложенных докум…</p></div></div><div class="tooltip_templates"><div id="Rangequery_tooltip_id"><p>Возвращает документы, которые содержат значения в заданном диапазоне.<br/>
Пример:<br/>
<code>json
GET /_search
{
  "query": {
    "range": {
      "age": {
        "gte": 10,
        "lte": 20,
        "boost": 2.0
      }
    }
  }
}</code></p>
<p><code>field</code> (required) - поле, по которому нужно осуществить поиск. Указывается как имя поля запроса, а не как значение поля <code>field</code>. Является объектом.</p>
<p>Все -  optional</p>
<li><code>gt</code> - больше чем</li>
<li><code>gte</code> - больше или равно чем</li>
<li><code>lt</code> - …</li></div></div><div class="tooltip_templates"><div id="Termlevelqueries_tooltip_id"><p><em>Запросы уровня терма</em> - запросы к точным значениям полей. Не используют анализ термов (в отличие от <a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/full-text-queries/">полнотекстовых запросов</a>).</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/exists-query/">exists</a> - возвращает документы, в поле которых есть любое проиндексированное значение</li>
<li><a class="wikilink" href="fuzzy-query">fuzzy</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/ids-query/">ids</a></li>
<li><a class="wikilink" href="prefix-query">prefix</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/range-query/">range</a></li>
<li><a class="wikilink" href="regexp-query">regexp</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Elasticsearch/Queries/term-query/">term</a> - возвращает документы, у которых в указанном поле есть точный терм</li>
<li>[[terms-query|…</li></div></div><div class="tooltip_templates"><div id="Termquery_tooltip_id"><p>Ищет документы с точным вхождением терма. Как правило, это поля типа <code>keyword</code>.<br/>
<code>json
{
    "query": {
        "term": {
            "opf-exact": {
                "value": "50102"
            }
        }
    }
}</code><br/>
В отличие от многих других запросов, имя поля указывается не как значение параметра <code>field</code>, а как имя поля объекта.</p>
<p>https://www.elastic.co/guide/en/elasticsearch/reference/7.8/query-dsl-term-query.html</p></div></div><div class="tooltip_templates"><div id="ШорткатывFARManager_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/cheatography.com_alexzaitzev_cheat-sheets_far-3_.png"/></p></div></div><div class="tooltip_templates"><div id="guics_tooltip_id"><p>Либа для консольного GUI от самого Мигеля Де Икасы</p>
<p>https://github.com/migueldeicaza/gui.cs/</p></div></div><div class="tooltip_templates"><div id="konsole_tooltip_id"><p>Либа для консольного GUI</p>
<p>https://github.com/goblinfactory/konsole/</p></div></div><div class="tooltip_templates"><div id="HTTP2_tooltip_id"><p><em>HTTP/2</em> - вторая версия протокола <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http/">HTTP</a>.</p>
<li>является бинарным;</li>
<li>сервер имеет право послать содержимое, которое не было явно запрошено клиентом;</li>
<li>мультиплексирование запросов и ответов с введением явной приоритезации запросов.</li>
<p>HTTP/2 определен как для HTTP URI (без шифрования), так и HTTPS URI (с шифрованием TLS 1.2 или выше). Интересно, что большинство клиентских реализаций поддерживают только версию с шифрованием.</p>
<p>https://ru.wikipe…</p></div></div><div class="tooltip_templates"><div id="HTTPHypertextTransferProtocol_tooltip_id"><p><em>Протокол передачи гипертекста</em> или <strong>HTTP</strong> - это протокол прикладного уровня, обеспечивающий работу в сети. Работает по схеме “запрос-ответ” без сохранения состояния. Клиент отправляет запрос на сервер, который передает ответ.<br/>
Каждый HTTP-запрос состоит из метода, указывающего “тип” запроса, и пути, указывающего ресурс, с которым нужно взаимодействовать. Также обычно содержит заголовки - пары “ключ-значение”, а в некоторых случаях - тело, например, содержим…</p></div></div><div class="tooltip_templates"><div id="УстановкаDockerнаUbuntu2004_tooltip_id"><p>Обновим пакеты<br/>
<code>bash
sudo apt update</code><br/>
Установим пакеты для использования apt через HTTPS<br/>
<code>bash
sudo apt install apt-transport-https ca-certificates curl software-properties-common</code><br/>
Добавим ключ GPG от репозитория docker<br/>
<code>bash
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code><br/>
добавим репозиторий docker в источники<br/>
<code>`bash
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"</code>…</p></div></div><div class="tooltip_templates"><div id="КакубратьsplashвLinuxMint_tooltip_id"><p>Возможно, работает во всех дебиано-подобных<br/>
<code>bash
sudo nano /etc/default/grub</code><br/>
Меняем строчку (впрочем, я сохранил исходную с закомментированием)<br/>
<code>GRUB_CMDLINE_LINUX_DEFAULT="nosplash"</code><br/>
Дальше обязательно<br/>
<code>bash
sudo update-grub</code></p>
<p>https://forums.linuxmint.com/viewtopic.php?t=70311</p></div></div><div class="tooltip_templates"><div id="ПотокиPulseAudio_tooltip_id"><p>Все параметры PulseAudio можно посмотреть  и изменить через консольную команду <code>pactl %что-то%</code>. Справка <code>pactl help</code><br/>
Посмотреть - <code>pactl list</code>.<br/>
Например, <code>pactl list sink-inputs</code> <strong>в момент воспроизведения</strong> покажет параметры активного источника</p></div></div><div class="tooltip_templates"><div id="Dockerбезsudo_tooltip_id"><p>Как сделать так, чтобы команды докера можно было запускать без <code>sudo</code>.<br/>
Вкратце, для этого нужно добавить себя в группу <code>docker</code>.<br/>
Подробнее:<br/>
Попытаемся создать группу <code>docker</code> (создастся, если ее нет)<br/>
<code>bash
sudo groupadd docker</code><br/>
Затем добавляем текущего пользователя в группу<br/>
<code>bash
sudo gpasswd -a $USER docker</code><br/>
Затем либо делаем logout/login, либо<br/>
<code>bash
newgrp docker</code><br/>
всё должно работать.</p>
<p>https://itsecforu.ru/2018/04/12/%D0%BA%D0%B0%D0%BA-%D0%B8%D1%81%D…</p></div></div><div class="tooltip_templates"><div id="ПотокиPulseAudio_tooltip_id"><p>Все параметры PulseAudio можно посмотреть  и изменить через консольную команду <code>pactl %что-то%</code>. Справка <code>pactl help</code><br/>
Посмотреть - <code>pactl list</code>.<br/>
Например, <code>pactl list sink-inputs</code> <strong>в момент воспроизведения</strong> покажет параметры активного источника</p></div></div><div class="tooltip_templates"><div id="КакубратьsplashвLinuxMint_tooltip_id"><p>Возможно, работает во всех дебиано-подобных<br/>
<code>bash
sudo nano /etc/default/grub</code><br/>
Меняем строчку (впрочем, я сохранил исходную с закомментированием)<br/>
<code>GRUB_CMDLINE_LINUX_DEFAULT="nosplash"</code><br/>
Дальше обязательно<br/>
<code>bash
sudo update-grub</code></p>
<p>https://forums.linuxmint.com/viewtopic.php?t=70311</p></div></div><div class="tooltip_templates"><div id="Автозапускsshagent_tooltip_id"><p>Если ssh-agent не запущен, как например у меня в WSL Debian, можно сделать следующее.<br/>
Добавим в <code>.profile</code> (или <code>.bash_profile</code>, если он есть)<br/>
следующий код:<br/>
```bash<br/>
SSH_ENV=”$HOME/.ssh/agent-environment”</p>
<p>function start_agent {<br/>
    echo “Initialising new SSH agent…”<br/>
    /usr/bin/ssh-agent | sed ‘s/^echo/#echo/’ &gt; “${SSH_ENV}”<br/>
    echo succeeded<br/>
    chmod 600 “${SSH_ENV}”<br/>
    . “${SSH_ENV}” &gt; /dev/null<br/>
    /usr/bin/ssh-add;<br/>
}</p>
<p>if [ -…</p></div></div><div class="tooltip_templates"><div id="БыстрыйстартсбиблиотекойCommandLineParser_tooltip_id"><p>```csharp<br/>
using CommandLine;</p>
<p>namespace GetStartedSample<br/>
{<br/>
  static class Program<br/>
  {<br/>
    static void Main(string[] args)<br/>
    {<br/>
      // (1) default options<br/>
      var result = Parser.Default.ParseArguments<options>(args);<br/>
      // or (2) build and configure instance<br/>
      var parser = new Parser(with =&gt; with.EnableDashDash = true);<br/>
      var result = parser.ParseArguments<options>(args);<br/>
      Console.WriteLine(“Hello World.”);<br/>
    }<br/>
  }<br/>
}<br/>
<code>``</code>Opt…</options></options></p></div></div><div class="tooltip_templates"><div id="ВыполнениекодапередMain_tooltip_id"><p class="admonition-title">Main</p>
<p>Метод <code>Main</code> — это точка входа в приложение C#. При запуске приложения метод <code>Main</code> вызывается первым.<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<p>На самом деле метод <code>Main</code> может быть не первым методом сборки, который будет выполняться при запуске приложения. Существуют различные методы, которые могут выполняться перед методом <code>Main</code>.</p>
<li id="fn:1">
<p><a href="https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/program-structure/main-command-line?WT.mc_id=DT-MVP-5003978">Documentation</a> <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p><a href="https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/program-structure/main-command-line?WT.mc_id=DT-MVP-5003978">Documentation</a> <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Созданиеобъектовбезвызоваконструктора_tooltip_id"><p>Рассмотрим малоизвестную функцию служб компилятора .NET, которая позволит вам создать «неинициализированный» экземпляр объекта без вызова каких-либо его конструкторов или инициализаторов свойств.</p>
<p>Во-первых, вам нужно будет сослаться на пространство имён <code>System.Runtime.CompilerServices</code>. Оно содержит класс <code>RuntimeHelpers</code> со статическим методом <code>GetUnitializedObject</code>. Посмотрим, как это работает на практике.<br/>
```csharp<br/>
using System;<br/>
using System.Runti…</p></div></div><div class="tooltip_templates"><div id="СписокВсехМаршрутоввASPNETCore_tooltip_id"><p>Когда ваше приложение ASP.NET Core станет достаточно большим, вам может понадобиться полное представление обо всех маршрутах. Существует несколько способов объявления маршрутов. Вы можете использовать минимальные API, контроллеры, Razor Pages, gRPC, HealthCheck и т. д. Но все они используют одну и ту же систему маршрутизации под капотом.</p>
<p>Коллекция маршрутов может быть указана путем извлечения коллекции <code>EndpointDataSource</code> из DI.</p>
<p>Пример для минимальных AP…</p></div></div><div class="tooltip_templates"><div id="ОбъектHttpContext_tooltip_id"><p>Объект HttpContext, создаваемый веб-сервером ASP.NET Core, используется приложением как “ящик” для хранения данных запроса. Всё, что относится к этому конкретному запросу и последующему ответу, может быть сохранено в нем, как то: свойства запроса, сервисы, связанные с запросом, загруженные данные и возникшие ошибки. Веб-сервер заполняет начальный объект <code>HttpContext</code> данными исходного запроса и другими деталями конфигурации и передает его остальной части приложения.</p>
<p>Это абс…</p></div></div><div class="tooltip_templates"><div id="CancellationTokenSourceиутечкапамяти_tooltip_id"><p>В <code>CancellationTokenSource</code> запоминаются (до вызова <code>Cancel()</code>) все объекты, которые регистрируют собственный метод отмены. Вывод - если нужно регистрировать свой метод для каждого объекта в цикле, нужно создавать свой <code>CancellationTokenSource</code>  через <code>CreateLinkedTokenSource()</code>, то есть<br/>
<code>csharp
var linkedCts = CancellationTokenSource.CreateLinkedTokenSource(parentCts.Token);</code></p>
<p>https://habr.com/ru/company/tinkoff/blog/546604/<strong>habracut</strong>{: …</p></div></div><div class="tooltip_templates"><div id="ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id"><p>Когда мы отменяем таск через CancellationTokenSource, все подписки выполняются в текущем потоке. Это может приводить к дедлокам или неожиданным задержкам.<br/>
<code>csharp
var cts = new CancellationTokenSource();
cts.Token.Register(() =&gt; Thread.Sleep(5000));
cts.Cancel(); // This call will block during 5 seconds</code><br/>
Поэтому, если мы не можем ожидать выполнения ВСЕХ подписок в текущем потоке, нужно обернуть вызов <code>cts.Cancel()</code> в <code>Task.Run</code></p>
<p>…</p></div></div><div class="tooltip_templates"><div id="CancellationTokenSourceиутечкапамяти_tooltip_id"><p>В <code>CancellationTokenSource</code> запоминаются (до вызова <code>Cancel()</code>) все объекты, которые регистрируют собственный метод отмены. Вывод - если нужно регистрировать свой метод для каждого объекта в цикле, нужно создавать свой <code>CancellationTokenSource</code>  через <code>CreateLinkedTokenSource()</code>, то есть<br/>
<code>csharp
var linkedCts = CancellationTokenSource.CreateLinkedTokenSource(parentCts.Token);</code></p>
<p>https://habr.com/ru/company/tinkoff/blog/546604/<strong>habracut</strong>{: …</p></div></div><div class="tooltip_templates"><div id="ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id"><p>Когда мы отменяем таск через CancellationTokenSource, все подписки выполняются в текущем потоке. Это может приводить к дедлокам или неожиданным задержкам.<br/>
<code>csharp
var cts = new CancellationTokenSource();
cts.Token.Register(() =&gt; Thread.Sleep(5000));
cts.Cancel(); // This call will block during 5 seconds</code><br/>
Поэтому, если мы не можем ожидать выполнения ВСЕХ подписок в текущем потоке, нужно обернуть вызов <code>cts.Cancel()</code> в <code>Task.Run</code></p>
<p>…</p></div></div><div class="tooltip_templates"><div id="awaitContinueWith_tooltip_id"><p>Зачем может быть нужна конструкция <code>await someTask.ContinueWith(_ =&gt; {})</code>?<br/>
Если <code>someTask</code> проинициализирован и запущен где-то в другом месте, но необходимо, с одной стороны, дождаться его завершения, а с другой - неважно, случилось ли в коде этого таска исключение, то такая конструкция позволит нам это сделать.</p></div></div><div class="tooltip_templates"><div id="EncodingвNetCore_tooltip_id"><p>Всё время забываю: приложения на .NET Core на старте не готовы работать с разными кодировками (в особенности с Windows-related, типа cp1251). Чтобы всё взлетело, нужно в момент старта приложения зарегистрировать провайдер кодировок (стандартный или свой).<br/>
<code>csharp
Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);</code></p>
<p>https://stackoverflow.com/questions/3967716/how-to-find-encoding-for-1251-codepage</p></div></div><div class="tooltip_templates"><div id="ВременноИзменяемCurrentCulture_tooltip_id"><p>Иногда для тестирования некоторых функций вам требуется изменить культуру потока, в котором работает приложение. Текущая культура определяется в глобальном свойстве <code>Thread.CurrentThread.CurrentCulture</code>.</p>
<p>Создадим класс, который реализует интерфейс IDisposable, чтобы иметь ограниченный блок кода, в котором будет использоваться новая культура:<br/>
```csharp<br/>
public class TempCulture : IDisposable<br/>
{<br/>
  CultureInfo _old;</p>
<p>public TempCulture(CultureInfo culture)<br/>
  {<br/>
  …</p></div></div><div class="tooltip_templates"><div id="Какзарегистрироватьоднуреализациюснесколькимиинтерфейсами_tooltip_id"><p>В стандартном ASP.NET Core DI  ситуация, когда нужно зарегистрировать одну реализацию нескольких разных интерфейсов, решается, на мой взгляд, не слишком тривиально.<br/>
Пусть есть класс <code>SomeService</code>, реализующий интерфейсы <code>ISomeService</code> и <code>ISomeOtherService</code>, то есть<br/>
<code>csharp
public class SomeService : ISomeService, IsomeOtherService 
{
...
}</code><br/>
И нам нужно зарегистрировать реализации этих интерфейсов отдельно. <br/>
Вот что нам нужно …</p></div></div><div class="tooltip_templates"><div id="EnumEqualsделаетboxing_tooltip_id"><p><code>Enum.Equals</code> следует избегать, так как он делает boxing переменных. Оператор <code>==</code> - не делает.<br/>
Что делать, когда нельзя использовать <code>==</code>, например в дженериках?<br/>
Использовать <br/>
<code>csharp
EqualityComparer&lt;T&gt;.Default.Equals(enum1, enum2);</code></p>
<p>https://habr.com/ru/company/pvs-studio/blog/568928/</p></div></div><div class="tooltip_templates"><div id="ВременноИзменяемCurrentCulture_tooltip_id"><p>Иногда для тестирования некоторых функций вам требуется изменить культуру потока, в котором работает приложение. Текущая культура определяется в глобальном свойстве <code>Thread.CurrentThread.CurrentCulture</code>.</p>
<p>Создадим класс, который реализует интерфейс IDisposable, чтобы иметь ограниченный блок кода, в котором будет использоваться новая культура:<br/>
```csharp<br/>
public class TempCulture : IDisposable<br/>
{<br/>
  CultureInfo _old;</p>
<p>public TempCulture(CultureInfo culture)<br/>
  {<br/>
  …</p></div></div><div class="tooltip_templates"><div id="ДатыивремявNET6_tooltip_id"><p>В .NET6 вводятся новые типы для временн<strong>ы</strong>х данных:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/net6-dateonly/">DateOnly</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/net6-timeonly/">TimeOnly</a></li>
<p>https://habr.com/ru/company/otus/blog/567338/<strong class="hash" id="habracut">habracut</strong></p></div></div><div class="tooltip_templates"><div id="ТипDateOnly_tooltip_id"><p><code>DateOnly</code> - это новая структура в .NET6, представляющая собой <em>только</em> дату: год, месяц и день. <br/>
Конструктор:  <code>new DateOnly(2021, 5, 31)</code><br/>
Также есть свойства <br/>
<code>DayOfWeek</code> - день недели.<br/>
<code>DateNumber</code> - по-видимому, день от начала эпохи, используется для вычисления разницы между двумя датами</p>
<p>Можно сочетать с <a class="wikilink" href="https://garden.stalker-home.xyz/NET/net6-timeonly/">TimeOnly</a> для получения <code>DateTime</code>: <code>dt.ToDateTime(new TimeOnly(0,0)</code></p>
<p>Можно получить из <a class="wikilink" href="datetime">DateTime</a>:<br/>
<code>DateOnly.FromDateTime(DateTime.Today)</code></p>
<p>Не у…</p></div></div><div class="tooltip_templates"><div id="СериализацияJsonспомощьюSourceGenerators_tooltip_id"><p>В NET6 для ускорения сериализации в Json можно воспользоваться генератором кода, который сгенерирует код для сериализации/десериализации конкретного класса, что позволяет избавится от использования рефлексии. Выигрыш, пишут, от 30-40 до 300 процентов.</p>
<p><a href="https://www.youtube.com/watch?v=HhyBaJ7uisU">Видео</a><br/>
https://www.stevejgordon.co.uk/playing-with-system-text-json-source-generators<br/>
https://docs.microsoft.com/en-us/dotnet/standard/serializ…</p></div></div><div class="tooltip_templates"><div id="ОднофайловыеПриложениявNET6_tooltip_id"><p>В .NET Core 3.0 мы познакомились с концепцией публикации приложения в виде одного exe-файла. Но в этом релизе было несколько вещей, которые не понравились людям. Основными проблемами были:</p>
<li>Единственный файл exe на самом деле был самораспаковывающимся zip-архивом, который распаковывался во временное место и затем запускался. Иногда это создавало проблемы с точки зрения безопасности.</li>
<li>Размер файла был астрономическим (70Мб для «Hello World»), хотя надо сказать…</li></div></div><div class="tooltip_templates"><div id="ТипTimeOnly_tooltip_id"><p>Тип <code>TimeOnly</code> - это структура, которая хранит <em>только</em> время.<br/>
Примерно так:<br/>
<code>csharp
TimeOnly t1 = new TimeOnly(16, 30);
Console.WriteLine(t1.Hour);      // 16
Console.WriteLine(t1.Minute);    // 30
Console.WriteLine(t1.Second);    // 0</code><br/>
Можно прибавлять часы, минуты или <a class="wikilink" href="timespan">TimeSpan</a> (с отрицательным знаком для вычитания).<br/>
Часы циклические, то есть при переходе через сутки час станет <em>меньше</em>. Однако, есть способ узнать, сколько суток прошло при сложении:<br/>
```csharp<br/>
T…</p></div></div><div class="tooltip_templates"><div id="КлассическиешаблоныдляNET6_tooltip_id"><p>Классические шаблоны БЕЗ глобальных юзингов и top-level statements.</p>
<p>https://github.com/jpobst/classic-dotnet-templates</p></div></div><div class="tooltip_templates"><div id="FastEndpoints_tooltip_id"><p>Библиотека, реализующая паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">REPR</a> для NET6.</p>
<p>https://fast-endpoints.com/</p></div></div><div class="tooltip_templates"><div id="RazorLight_tooltip_id"><p>Библиотека для генерации html из шаблонов Razor</p>
<p>https://github.com/toddams/RazorLight</p></div></div><div class="tooltip_templates"><div id="TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id"><p>Рассмотрим код<br/>
```csharp<br/>
class Program<br/>
{<br/>
    private static ManualResetEventSlim _mutex = new ManualResetEventSlim();</p></div></div><div class="tooltip_templates"><div id="TaskFactoryStartNew_tooltip_id"><p>Рассмотрим код<br/>
```csharp<br/>
class Program<br/>
{<br/>
    public static async Task ProcessAsync()<br/>
    {<br/>
        await Task.Delay(2000);<br/>
        Console.WriteLine(“Processing done”);<br/>
    }</p>
<p>}<br/>
<code>``
В этом коде</code>End of program<code>будет напечатано раньше, чем</code>Processing done<code>, потому что</code>Task.Factory.StartNew` …</p></div></div><div class="tooltip_templates"><div id="ПривязкамоделиизнесколькихисточниковводинклассвASPNETCore_tooltip_id"><p>Допустим, у нас есть следующий метод действия в ASP.NET API:<br/>
<code>csharp
public IActionResult Post(
 [FromBody] 
 RequestBody body,
 [FromHeader(Name = "Accept")]
 string accept,
 [FromHeader(Name = "X-Correlation-Id")]
 string correlationId,
 [FromQuery(Name = "filter")]
 string filter)
{
  // какая-то обработка
  return Ok();
}</code></p>
<p>Мы хотели бы объединить все параметры в один класс, <code>PostRequest</code>, вместо того чтобы использов…</p></div></div><div class="tooltip_templates"><div id="FastEndpoints_tooltip_id"><p>Библиотека, реализующая паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">REPR</a> для NET6.</p>
<p>https://fast-endpoints.com/</p></div></div><div class="tooltip_templates"><div id="ШаблоныкоданаCSharpкоторыхследуетизбегать_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/wait-sync/">Синхронно ждать асинхронный код</a>;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/async-void/">async void</a>;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/return-await/">Ненужный return await</a>;</li>
<li>Использование <code>ConcurrentBag&lt;T&gt;</code> - тормозит; стараемся использовать <code>ConcurrentQueue&lt;T&gt;</code>;</li>
<li>Использование <code>ReaderWriterLock&lt;T&gt;</code> или <code>ReaderWriterLockSlim&lt;T&gt;</code> - тормозит. Лучше использовать <code>Monitor</code> под lock-ом;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/lambda-vs-method-group/">Избегать MethodGroup для статических методов</a>;</li>
<li>[[enumequalsboxing|Делать Enum....</li></div></div><div class="tooltip_templates"><div id="asyncvoid_tooltip_id"><p>Не должен использоваться где-либо, кроме (если очень нужно) обработчика события (event).<br/>
Основная причина - неловленное в этом методе исключение распространится на весь контекст синхронизации, что обычно приводит к падению всего приложения (если обернуть вызов метода в try/catch, исключение НЕ ПОЙМАЕТСЯ).<br/>
Если в методе нельзя возвратить Task (например, при реализации чужого интерфейса), необходимо перенести асинхронный код в другой метод и вызвать его оттуда, например<br/>
```csharp<br/>
inte…</p></div></div><div class="tooltip_templates"><div id="awaitContinueWith_tooltip_id"><p>Зачем может быть нужна конструкция <code>await someTask.ContinueWith(_ =&gt; {})</code>?<br/>
Если <code>someTask</code> проинициализирован и запущен где-то в другом месте, но необходимо, с одной стороны, дождаться его завершения, а с другой - неважно, случилось ли в коде этого таска исключение, то такая конструкция позволит нам это сделать.</p></div></div><div class="tooltip_templates"><div id="ПодпискиsubscriptionsвCancellationTokenSource_tooltip_id"><p>Когда мы отменяем таск через CancellationTokenSource, все подписки выполняются в текущем потоке. Это может приводить к дедлокам или неожиданным задержкам.<br/>
<code>csharp
var cts = new CancellationTokenSource();
cts.Token.Register(() =&gt; Thread.Sleep(5000));
cts.Cancel(); // This call will block during 5 seconds</code><br/>
Поэтому, если мы не можем ожидать выполнения ВСЕХ подписок в текущем потоке, нужно обернуть вызов <code>cts.Cancel()</code> в <code>Task.Run</code></p>
<p>…</p></div></div><div class="tooltip_templates"><div id="Избегаем_tooltip_id"><p>Рассмотрим код<br/>
<code>csharp
public async Task CallAsync()
{
    var client = new Client();
    return await client.GetAsync();
}</code><br/>
Код семантически корректен, однако нет необходимости делать <code>return await</code> - это приведет к ненужному оверхеду при компиляции.</p>
<p>Если в методе только один вызов асинхронного метода, и нет необходимости в дополнительных действиях после вызова метода - лучше убрать <code>async/await</code> и ограничиться следующим:<br/>
```csharp<br/>
public Task CallAsync()<br/>
{<br/>
    var client…</p></div></div><div class="tooltip_templates"><div id="TaskFactoryStartNew_tooltip_id"><p>Рассмотрим код<br/>
```csharp<br/>
class Program<br/>
{<br/>
    public static async Task ProcessAsync()<br/>
    {<br/>
        await Task.Delay(2000);<br/>
        Console.WriteLine(“Processing done”);<br/>
    }</p>
<p>}<br/>
<code>``
В этом коде</code>End of program<code>будет напечатано раньше, чем</code>Processing done<code>, потому что</code>Task.Factory.StartNew` …</p></div></div><div class="tooltip_templates"><div id="TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id"><p>Рассмотрим код<br/>
```csharp<br/>
class Program<br/>
{<br/>
    private static ManualResetEventSlim _mutex = new ManualResetEventSlim();</p></div></div><div class="tooltip_templates"><div id="ОжиданиеасинхронногокодаможетпривестикThreadpoolstarvation_tooltip_id"><p>Если злоупотреблять ожиданием асинхронного кода, можно выбрать весь тредпул и получить ситуацию голодания (Threadpool starvation). Это касается всех ожидателей, как-то <code>Task.Wait</code>, <code>Task.Result</code>, <code>Task.GetAwaiter().GetResult()</code>, <code>Task.WaitAny</code>, <code>Task.WaitAll</code> (последние не путать с <code>Task.WhenAny</code> и <code>Task.WhenAll</code>!!)</p>
<p>https://medium.com/criteo-engineering/net-threadpool-starvation-and-how-queuing-makes-it-worse-512c8d570…</p></div></div><div class="tooltip_templates"><div id="EnumEqualsделаетboxing_tooltip_id"><p><code>Enum.Equals</code> следует избегать, так как он делает boxing переменных. Оператор <code>==</code> - не делает.<br/>
Что делать, когда нельзя использовать <code>==</code>, например в дженериках?<br/>
Использовать <br/>
<code>csharp
EqualityComparer&lt;T&gt;.Default.Equals(enum1, enum2);</code></p>
<p>https://habr.com/ru/company/pvs-studio/blog/568928/</p></div></div><div class="tooltip_templates"><div id="Структурыиинтерфейсы_tooltip_id"><p>Рассмотрим код:<br/>
```csharp<br/>
public class IntValue : IValue<br/>
{<br/>
}</p>
<p>public void DoStuff()<br/>
{<br/>
    var value = new IntValue();</p>
<p>}</p>
<p>public void SendValue(IValue value)<br/>
{<br/>
    // …<br/>
}</p>
<p>public void LogValue(IValue value)<br/>
{<br/>
    // …<br/>
}<br/>
<code>``
Кажется, что было бы разумным сделать IntValue структурой, чтобы избежать ненужных выделений кучи. Однако, так как методы</code>SendValue<code>и</code>LogValue` ожидают реализацию интерфейса (!), при каждой передаче в …</p></div></div><div class="tooltip_templates"><div id="ОднофайловыеПриложениявNET6_tooltip_id"><p>В .NET Core 3.0 мы познакомились с концепцией публикации приложения в виде одного exe-файла. Но в этом релизе было несколько вещей, которые не понравились людям. Основными проблемами были:</p>
<li>Единственный файл exe на самом деле был самораспаковывающимся zip-архивом, который распаковывался во временное место и затем запускался. Иногда это создавало проблемы с точки зрения безопасности.</li>
<li>Размер файла был астрономическим (70Мб для «Hello World»), хотя надо сказать…</li></div></div><div class="tooltip_templates"><div id="КлассическиешаблоныдляNET6_tooltip_id"><p>Классические шаблоны БЕЗ глобальных юзингов и top-level statements.</p>
<p>https://github.com/jpobst/classic-dotnet-templates</p></div></div><div class="tooltip_templates"><div id="Projecttemplates_tooltip_id"><p>Несколько темплейтов для dotnet new с кучей добавленных фич.</p>
<li>ASP.NET Core API</li>
<li>ASP.NET Core GraphQL</li>
<li>Microsoft Orleans</li>
<li>NuGet Package</li>
<p>https://github.com/Dotnet-Boxed/Templates</p></div></div><div class="tooltip_templates"><div id="EncodingвNetCore_tooltip_id"><p>Всё время забываю: приложения на .NET Core на старте не готовы работать с разными кодировками (в особенности с Windows-related, типа cp1251). Чтобы всё взлетело, нужно в момент старта приложения зарегистрировать провайдер кодировок (стандартный или свой).<br/>
<code>csharp
Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);</code></p>
<p>https://stackoverflow.com/questions/3967716/how-to-find-encoding-for-1251-codepage</p></div></div><div class="tooltip_templates"><div id="Структурыиинтерфейсы_tooltip_id"><p>Рассмотрим код:<br/>
```csharp<br/>
public class IntValue : IValue<br/>
{<br/>
}</p>
<p>public void DoStuff()<br/>
{<br/>
    var value = new IntValue();</p>
<p>}</p>
<p>public void SendValue(IValue value)<br/>
{<br/>
    // …<br/>
}</p>
<p>public void LogValue(IValue value)<br/>
{<br/>
    // …<br/>
}<br/>
<code>``
Кажется, что было бы разумным сделать IntValue структурой, чтобы избежать ненужных выделений кучи. Однако, так как методы</code>SendValue<code>и</code>LogValue` ожидают реализацию интерфейса (!), при каждой передаче в …</p></div></div><div class="tooltip_templates"><div id="СериализацияJsonспомощьюSourceGenerators_tooltip_id"><p>В NET6 для ускорения сериализации в Json можно воспользоваться генератором кода, который сгенерирует код для сериализации/десериализации конкретного класса, что позволяет избавится от использования рефлексии. Выигрыш, пишут, от 30-40 до 300 процентов.</p>
<p><a href="https://www.youtube.com/watch?v=HhyBaJ7uisU">Видео</a><br/>
https://www.stevejgordon.co.uk/playing-with-system-text-json-source-generators<br/>
https://docs.microsoft.com/en-us/dotnet/standard/serializ…</p></div></div><div class="tooltip_templates"><div id="LambdaфункциипредпочтительнееMethodGroup_tooltip_id"><p>Рассмотрим вот такой код:<br/>
```csharp<br/>
public IEnumerable<int> GetItems()<br/>
{<br/>
    return _list.Where(i =&gt; Filter(i));<br/>
}</int></p>
<p>private static bool Filter(int element)<br/>
{<br/>
    return i % 2 == 0;<br/>
}<br/>
<code>Resharper обычно предлагает заменить лямбду на MethodGroup (то есть на `return _list.Where(Filter);`). Однако, MethodGroup - это синтаксический сахар, за которым скрывается следующее:</code>csharp<br/>
public IEnumerable<int> GetItems()<br/>
{<br/>
    return _list.Where(new Predicate<int>(…</int></int></p></div></div><div class="tooltip_templates"><div id="CommandLineParser_tooltip_id"><p>Библиотека для реализации UNIX-подобного стиля параметров командной строки. Очень крутая.</p>
<p>https://github.com/commandlineparser/commandline</p></div></div><div class="tooltip_templates"><div id="DnsClientNET_tooltip_id"><p>Библиотека для DNS запросов.</p>
<p>https://github.com/MichaCo/DnsClient.NET</p></div></div><div class="tooltip_templates"><div id="Генерацияслучайныхданных_tooltip_id"><p>Библиотека для генерации случайных данных для тестирования Faker.Net.</p>
<p>Пакет .NET изначально был портом библиотеки Ruby от 2009 года, но во многом разошлась с ней. Библиотека Ruby сама по себе была портом библиотеки Perl Data::Faker от 2007 года. .NET библиотека продолжает использоваться и постоянно обновляется. Причина её популярности, вероятно, связана со множеством вариантов использования и очень простой структурой.</p>
<p>Сначала нужно установить пакет <em>Faker.Net</em>. Мы …</p></div></div><div class="tooltip_templates"><div id="FastEndpoints_tooltip_id"><p>Библиотека, реализующая паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Web%20Application%20Patterns/repr-pattern/">REPR</a> для NET6.</p>
<p>https://fast-endpoints.com/</p></div></div><div class="tooltip_templates"><div id="guics_tooltip_id"><p>Либа для консольного GUI от самого Мигеля Де Икасы</p>
<p>https://github.com/migueldeicaza/gui.cs/</p></div></div><div class="tooltip_templates"><div id="konsole_tooltip_id"><p>Либа для консольного GUI</p>
<p>https://github.com/goblinfactory/konsole/</p></div></div><div class="tooltip_templates"><div id="Lunrcore_tooltip_id"><p>Порт JS-движка полнотекстового поиска Lunr.<br/>
Как я понял, основной подводный камень - иммутабельность индекса после построения.</p>
<p>https://khalidabuhakmeh.com/build-dotnet-search-experiences-with-lunr-core</p></div></div><div class="tooltip_templates"><div id="Polly_tooltip_id"><p>Библиотека, реализующая паттерны <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Retry</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">Circute Breaker</a>,  <a class="wikilink" href="timeout-pattern">Timeout</a>, <a class="wikilink" href="bulkhead-isolation-pattern">Bulkhead Isolation</a>, и <a class="wikilink" href="fallback-pattern">Fallback</a></p>
<p><a href="http://www.thepollyproject.org/">Сайт</a><br/>
<a href="https://github.com/App-vNext/Polly">GitHub и документация</a></p></div></div><div class="tooltip_templates"><div id="БиблиотекадлягенерацииQRкодов_tooltip_id"><p><code>Net.Codecrete.QrCodeGenerator</code></p>
<li>Поддерживает кодирование всех 40 версий (размеров) и всех 4 уровней коррекции ошибок в соответствии со стандартом QR Code Model 2.</li>
<li>Форматы вывода: чистые пиксели QR символа, строка SVG XML, растровое изображение.</li>
<li>Вы можете указать минимальный и максимальный разрешённый номер версии, и библиотека автоматически выберет наименьшую версию в диапазоне, который соответствует данным.</li>
<li>Вы м…</li></div></div><div class="tooltip_templates"><div id="RazorLight_tooltip_id"><p>Библиотека для генерации html из шаблонов Razor</p>
<p>https://github.com/toddams/RazorLight</p></div></div><div class="tooltip_templates"><div id="RecyclableMemoryStream_tooltip_id"><p>Библиотека, использующая пулинг (pooling) массивов памяти для сокращения работы GC. Может заменить <code>MemoryStream</code>.</p>
<p>https://github.com/microsoft/Microsoft.IO.RecyclableMemoryStream</p></div></div><div class="tooltip_templates"><div id="БиблиотекаSerilog_tooltip_id"><p>Serilog - библиотека для логирования с открытым исходным кодом.<br/>
Может записывать (помимо обычных файла, консоли и т.п.) в Elasticsearch или БД. </p>
<p>https://serilog.net/<br/>
<a href="https://github.com/serilog/serilog">GitHub project</a><br/>
<a href="https://github.com/serilog/serilog/wiki/Provided-Sinks">Полный список поддерживаемых получателей данных</a> (и это только известные команде).</p></div></div><div class="tooltip_templates"><div id="БиблиотекаSerilog_tooltip_id"><p>Serilog - библиотека для логирования с открытым исходным кодом.<br/>
Может записывать (помимо обычных файла, консоли и т.п.) в Elasticsearch или БД. </p>
<p>https://serilog.net/<br/>
<a href="https://github.com/serilog/serilog">GitHub project</a><br/>
<a href="https://github.com/serilog/serilog/wiki/Provided-Sinks">Полный список поддерживаемых получателей данных</a> (и это только известные команде).</p></div></div><div class="tooltip_templates"><div id="RecyclableMemoryStream_tooltip_id"><p>Библиотека, использующая пулинг (pooling) массивов памяти для сокращения работы GC. Может заменить <code>MemoryStream</code>.</p>
<p>https://github.com/microsoft/Microsoft.IO.RecyclableMemoryStream</p></div></div><div class="tooltip_templates"><div id="CancellationTokenSourceиутечкапамяти_tooltip_id"><p>В <code>CancellationTokenSource</code> запоминаются (до вызова <code>Cancel()</code>) все объекты, которые регистрируют собственный метод отмены. Вывод - если нужно регистрировать свой метод для каждого объекта в цикле, нужно создавать свой <code>CancellationTokenSource</code>  через <code>CreateLinkedTokenSource()</code>, то есть<br/>
<code>csharp
var linkedCts = CancellationTokenSource.CreateLinkedTokenSource(parentCts.Token);</code></p>
<p>https://habr.com/ru/company/tinkoff/blog/546604/<strong>habracut</strong>{: …</p></div></div><div class="tooltip_templates"><div id="TaskCompletionSourceипродолжениявтомжепотоке_tooltip_id"><p>Рассмотрим код<br/>
```csharp<br/>
class Program<br/>
{<br/>
    private static ManualResetEventSlim _mutex = new ManualResetEventSlim();</p></div></div><div class="tooltip_templates"><div id="Interlocked_tooltip_id"><p>Статический класс с набором методов, представляющих атомарные операции.<br/>
Применять для обеспечения атомарности операции, не являющейся атомарной “обычным способом”.<br/>
Является наиболее легковесным примитивом синхронизации.</p>
<p>Все методы являются атомарными операциями</p>
<p><code>csharp
public static int Add(ref int location1, int value);</code><br/>
складывает 2 целых числа и заменяет первое число (<code>location1</code>) на сумму. Возвращает сумму. Есть перегрузки для <code>int</code>, <code>long</code>, <code>uint</code>, `ulon…</p></div></div><div class="tooltip_templates"><div id="lockMonitorEnterMonitorExit_tooltip_id"><p>Ключевое слово <code>lock</code> используется для реализации идеи критической секции.<br/>
Использует ссылочный объект в качестве объекта синхронизации.<br/>
Критическая секция оформляется следующим образом:<br/>
<code>csharp
lock(syncObj)
{
    /*код критической секции*/
}</code><br/>
Является синтаксическим сахаром над следующей конструкцией:<br/>
<code>csharp
Monitor.Enter(syncObj);
try
{
    /*код критической секции*/
}
finally
{
    Monitor.Exit(syncObj);
}</code><br/>
Желательно не использовать внутри такой крити…</p></div></div><div class="tooltip_templates"><div id="MonitorWaitMonitorPulseMonitorPulseAll_tooltip_id"><p>Пара методов (Pulse / PulseAll считаем за один метод), предназначенных для временного отпускания блокировки с последующим взятием обратно. Все нижеперечисленные методы должны вызываться из <a class="wikilink" href="https://garden.stalker-home.xyz/NET/multithreading/lock-primitive/">синхронизированного кода</a>.<br/>
Заметим, что ссылки на текущий блокирующий поток, <em>очередь готовности</em> и <em>очередь ожидания</em> хранятся в объекте блокировки.</p>
<p>```csharp<br/>
[System.Runtime.Versioning.UnsupportedOSPlatform(“browser”)]<br/>
public…</p></div></div><div class="tooltip_templates"><div id="ШаблоныкоданаCSharpкоторыхследуетизбегать_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/wait-sync/">Синхронно ждать асинхронный код</a>;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/async-void/">async void</a>;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/return-await/">Ненужный return await</a>;</li>
<li>Использование <code>ConcurrentBag&lt;T&gt;</code> - тормозит; стараемся использовать <code>ConcurrentQueue&lt;T&gt;</code>;</li>
<li>Использование <code>ReaderWriterLock&lt;T&gt;</code> или <code>ReaderWriterLockSlim&lt;T&gt;</code> - тормозит. Лучше использовать <code>Monitor</code> под lock-ом;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/NET/lambda-vs-method-group/">Избегать MethodGroup для статических методов</a>;</li>
<li>[[enumequalsboxing|Делать Enum....</li></div></div><div class="tooltip_templates"><div id="СериализацияJsonспомощьюSourceGenerators_tooltip_id"><p>В NET6 для ускорения сериализации в Json можно воспользоваться генератором кода, который сгенерирует код для сериализации/десериализации конкретного класса, что позволяет избавится от использования рефлексии. Выигрыш, пишут, от 30-40 до 300 процентов.</p>
<p><a href="https://www.youtube.com/watch?v=HhyBaJ7uisU">Видео</a><br/>
https://www.stevejgordon.co.uk/playing-with-system-text-json-source-generators<br/>
https://docs.microsoft.com/en-us/dotnet/standard/serializ…</p></div></div><div class="tooltip_templates"><div id="Сравненияструктур_tooltip_id"><p>Если структура используется в сравнениях на равенство, нужно обязательно переопределять ее методы <code>Equals</code> и <code>GetHashCode</code>, потому что дефолтная реализация для структур использует рефлексию. Resharper напоминает нам это сделать, и сгенерированный им код достаточно хорош.<br/>
Для информации см. вторую ссылку</p>
<p>https://kevingosse.medium.com/performance-best-practices-in-c-b85a47bdd93a<br/>
https://devblogs.microsoft.com/premier-developer/performance-implications-of-default-stru…</p></div></div><div class="tooltip_templates"><div id="Структурыиинтерфейсы_tooltip_id"><p>Рассмотрим код:<br/>
```csharp<br/>
public class IntValue : IValue<br/>
{<br/>
}</p>
<p>public void DoStuff()<br/>
{<br/>
    var value = new IntValue();</p>
<p>}</p>
<p>public void SendValue(IValue value)<br/>
{<br/>
    // …<br/>
}</p>
<p>public void LogValue(IValue value)<br/>
{<br/>
    // …<br/>
}<br/>
<code>``
Кажется, что было бы разумным сделать IntValue структурой, чтобы избежать ненужных выделений кучи. Однако, так как методы</code>SendValue<code>и</code>LogValue` ожидают реализацию интерфейса (!), при каждой передаче в …</p></div></div><div class="tooltip_templates"><div id="КлассическиешаблоныдляNET6_tooltip_id"><p>Классические шаблоны БЕЗ глобальных юзингов и top-level statements.</p>
<p>https://github.com/jpobst/classic-dotnet-templates</p></div></div><div class="tooltip_templates"><div id="Projecttemplates_tooltip_id"><p>Несколько темплейтов для dotnet new с кучей добавленных фич.</p>
<li>ASP.NET Core API</li>
<li>ASP.NET Core GraphQL</li>
<li>Microsoft Orleans</li>
<li>NuGet Package</li>
<p>https://github.com/Dotnet-Boxed/Templates</p></div></div><div class="tooltip_templates"><div id="Генерацияслучайныхданных_tooltip_id"><p>Библиотека для генерации случайных данных для тестирования Faker.Net.</p>
<p>Пакет .NET изначально был портом библиотеки Ruby от 2009 года, но во многом разошлась с ней. Библиотека Ruby сама по себе была портом библиотеки Perl Data::Faker от 2007 года. .NET библиотека продолжает использоваться и постоянно обновляется. Причина её популярности, вероятно, связана со множеством вариантов использования и очень простой структурой.</p>
<p>Сначала нужно установить пакет <em>Faker.Net</em>. Мы …</p></div></div><div class="tooltip_templates"><div id="ОжиданиеасинхронногокодаможетпривестикThreadpoolstarvation_tooltip_id"><p>Если злоупотреблять ожиданием асинхронного кода, можно выбрать весь тредпул и получить ситуацию голодания (Threadpool starvation). Это касается всех ожидателей, как-то <code>Task.Wait</code>, <code>Task.Result</code>, <code>Task.GetAwaiter().GetResult()</code>, <code>Task.WaitAny</code>, <code>Task.WaitAll</code> (последние не путать с <code>Task.WhenAny</code> и <code>Task.WhenAll</code>!!)</p>
<p>https://medium.com/criteo-engineering/net-threadpool-starvation-and-how-queuing-makes-it-worse-512c8d570…</p></div></div><div class="tooltip_templates"><div id="ШаблонВнедрениезависимостей_tooltip_id"><p><strong>Внедрение зависимостей (Dependency Injection, DI)</strong> - шаблон, при котором зависимости (то есть классы, от которых зависит код класса) не создаются кодом класса, а передаются в него извне. Часть реализации <a class="wikilink" href="https://garden.stalker-home.xyz/OOP/OOP%20Principles/single-responsibility-principle/">принципа единой ответственности</a>.<br/>
Также так называют и архитектурный подход, когда приложение проектируется с преимущественным использованием этого шаблона. Обычно для эффективной реализации подхода применяют специальный фре…</p></div></div><div class="tooltip_templates"><div id="ШаблонХранитель_tooltip_id"><p><strong>Хранитель</strong> (Memento) — поведенческий шаблон проектирования, позволяющий, не нарушая инкапсуляцию, зафиксировать и сохранить внутреннее состояние объекта так, чтобы позднее восстановить его в это состояние.</p>
<p>https://ru.wikipedia.org/wiki/%D0%A5%D1%80%D0%B0%D0%BD%D0%B8%D1%82%D0%B5%D0%BB%D1%8C_(%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)<br/>
https://en.wikipedia.org/wiki/Memento_pattern</p></div></div><div class="tooltip_templates"><div id="ШаблонПредохранитель_tooltip_id"><p>Данный паттерн рассчитан на ошибки, исправление которых требует много времени. Например, обрыв соединения, отказ оборудования. В данном случае отправка повторных запросов (паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Retry</a>), скорее всего, будет бессмысленна. А если к тому же представить, что к какому-то сервису обращается много клиентов и этот сервис становится недоступным, каждый клиент начинает делать повторные попытки своих запросов к неработающему сервису - существенно увеличивается и…</p></div></div><div class="tooltip_templates"><div id="ШаблонПовтор_tooltip_id"><p><strong>Повтор (Retry)</strong> - это архитектурный паттерн, который позволяет определять стратегию по восстановлению после временных ошибок.<br/>
Вот несколько примеров таких ошибок:<br/>
⦁ проблемы с интернет соединением;<br/>
⦁ повышенная нагрузка на внешний компонент/систему.</p>
<p>Как видно, все эти ошибки являются восстанавливаемыми. И в случае их возникновения есть смысл повторить запрос немедленно или через некоторую задержку вместо логирования ошибки и возвращения ошибочного результата.</p></div></div><div class="tooltip_templates"><div id="ШаблонModelViewController_tooltip_id"><p><em>MVC</em> - шаблон проектирования, применяемый для проектирования приложений с пользовательским интерфейсом. При реализации данного шаблона данные приложения и его управляющая логика разделяются на три компонента:</p>
<li><em>модель (Model)</em> представляет данные и реагирует на команды контроллера, изменяя своё состояние;</li>
<li><em>Представление (View)</em> отвечает за отображение данных модели пользователю, реагируя на изменение модели;</li>
<li><em>Контроллер (Controller)</em> реагирует на действия п…</li></div></div><div class="tooltip_templates"><div id="ШаблонRequestEndpointResponse_tooltip_id"><p><em>REPR</em> (reaper) - шаблон проектирования, предназначенный для приложений с API.<br/>
При реализации паттерна логика разделяется на три компонента:</p>
<li><em>Запрос (request)</em> - данные, передаваемые конечной точке;</li>
<li><em>Конечная точка (endpoint)</em> - логика, выполняемая при получении запроса;</li>
<li><em>Ответ (response)</em> - данные, возвращаемые вызывающему.</li>
<p>Предложен, по видимому, <a href="https://github.com/ardalis">Стивом “Ардалисом” Смитом</a> <br/>
Для реализации шаблона он же предлагает [фреймво…</p></div></div><div class="tooltip_templates"><div id="ПринципсогласованногоизмененияCommonClosurePrincipleCCP_tooltip_id"><p class="admonition-title">Common Closure Principle</p>
<p>Причины изменения классов, входящих в один пакет, должны быть одинаковыми. Изменение пакета должно затрагивать все его классы</p></div></div><div class="tooltip_templates"><div id="ПринципоткрытостизакрытостиOpenClosedprinciple_tooltip_id"><p class="admonition-title">Open-closed principle</p>
<p>Программные сущности должны быть открыты для расширения, но закрыты для изменения</p>
<p>Интересно, что этот принцип имеет две трактовки:</p>
<li><em>Принцип открытости-закрытости Мейера</em> - трактует принцип в терминах наследования реализации. Однажды разработанный класс требует только исправления ошибок, но для изменения или расширения поведения требуется использовать производные классы;</li>
<li>*Полиморфный принцип открыт…</li></div></div><div class="tooltip_templates"><div id="Принципыпакетов_tooltip_id"><p>6 принципов объектно-ориентированного проектирования, введенных Робертом Мартином, относящиеся к правильной организации пакетов (модулей, сборок etc)</p>
<li>принципы связности (<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/cohesion/">Cohesion</a>) пакетов, они говорят о содержимом пакетов:<ul>
<li><a class="wikilink" href="release-reuse-equivalency-principle">Release Reuse Equivalency Principle</a> - принцип эквивалентности релиза и переиспользования;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/OOP/OOP%20Principles/common-closure-principle/">Common Closure Principle</a> - принцип согласованного изменения;</li>
<li>[[common-reuse-principl…</li>
</ul>
</li>
<li><a class="wikilink" href="release-reuse-equivalency-principle">Release Reuse Equivalency Principle</a> - принцип эквивалентности релиза и переиспользования;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/OOP/OOP%20Principles/common-closure-principle/">Common Closure Principle</a> - принцип согласованного изменения;</li>
<li>[[common-reuse-principl…</li></div></div><div class="tooltip_templates"><div id="ПринципединойответственностиSingleResponsibilityPrincipleSRP_tooltip_id"><p class="admonition-title">Single Responsibility Prinicple</p>
<p>У класса должна быть только одна причина для изменения.</p>
<p>https://en.wikipedia.org/wiki/Single-responsibility_principle<br/>
https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF_%D0%B5%D0%B4%D0%B8%D0%BD%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9_%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8</p></div></div><div class="tooltip_templates"><div id="SOLID_tooltip_id"><p>Мнемонический акроним для первых 5 принципов объектно-ориентированного проектирования, введенных Робертом Мартином:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/OOP/OOP%20Principles/single-responsibility-principle/">Single Responsibility Principle</a> - принцип единой ответственности;</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/OOP/OOP%20Principles/open-closed-principle/">Open-Closed Principle</a> - принцип открытости/закрытости;</li>
<li><a class="wikilink" href="liskov-substitution-principle">Liskov Substitution Principle</a> - принцип подстановки Лисков;</li>
<li><a class="wikilink" href="interface-segregation-principle">Interface Segregation Principle</a> - принцип разделени…</li></div></div><div class="tooltip_templates"><div id="ПаблишердляObsidian_tooltip_id"><p>Опенсорсный паблишер для Обсидиана. Заточен для работы с Github Pages.<br/>
Состоит из двух основных частей:</p>
<li>Плагина для Obsidian;</li>
<li>Шаблона для репозитория на GitHub с настроенными Actions для генерации статического сайта из .md файлов;</li>
<li>Генератора статических сайтов из Markdown MkDocs.</li>
<p>В теории, плагин для Obsidian можно использовать независимо от шаблона, с любым другим репозиторием. Полезно, если есть желание использовать другой Markdown генератор.</p>
<p>К…</p></div></div><div class="tooltip_templates"><div id="БиблиотекадлягенерацииQRкодов_tooltip_id"><p><code>Net.Codecrete.QrCodeGenerator</code></p>
<li>Поддерживает кодирование всех 40 версий (размеров) и всех 4 уровней коррекции ошибок в соответствии со стандартом QR Code Model 2.</li>
<li>Форматы вывода: чистые пиксели QR символа, строка SVG XML, растровое изображение.</li>
<li>Вы можете указать минимальный и максимальный разрешённый номер версии, и библиотека автоматически выберет наименьшую версию в диапазоне, который соответствует данным.</li>
<li>Вы м…</li></div></div><div class="tooltip_templates"><div id="МодельзрелостиREST_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211123103606.png"/><br/>
Леонард Ричардсон (Leonard Richardson) предлагает модель зрелости для <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a>, которая состоит из следующих уровней</p>
<li><em>Уровень 0.</em> Клиенты обращаются к сервису этого уровня путём выполнения POST-запроса к единственному endpoint. В каждом запросе указывается выполняемое действие, цель действия и параметры;</li>
<li><em>Уровень 1.</em> Сервисы этого уровня поддерживают концепцию ресурса.Чтобы выполнить какое-то действие с ресурсом, клиент выполняет PO…</li></div></div><div class="tooltip_templates"><div id="ТрудностиспривязкойоперацийкHTTPкомандам_tooltip_id"><p>Далеко не всегда можно однозначно привязать операцию над ресурсом к HTTP-команде. Например, для ресурса <code>Order</code>(заказ) может быть несколько сценариев изменения, например “отмена”, “редактирование” и т.д. Также не всегда ясно, какой глагол выбрать - PUT, POST или PATCH.</p></div></div><div class="tooltip_templates"><div id="Трудностиизвлечениянесколькихресурсовзаодинзапрос_tooltip_id"><p>REST-ресурсы обычно ориентируются на бизнес-объекты. Следовательно, при проектировании API часто возникает проблема - как извлечь несколько родственных объектов за один запрос.<br/>
Чтобы решить эту проблему, можно позволить клиенту извлекать не только сам ресурс, но и объекты, которые с ним связаны, примерно так (предположим, есть объект заказа <code>Order</code> и объект его заказчика <code>Consumer</code>): <code>GET /orders/12345?expand=consumer</code>. Этот подход хорош …</p></div></div><div class="tooltip_templates"><div id="RESTREpresentationalStateTransfer_tooltip_id"><p class="admonition-title">REST</p>
<p>REST предоставляет набор архитектурных ограничений, которые, если их применять как единое целое, делают акцент на масштабируемости взаимодействия между компонентами, обобщенности интерфейсов, независимом развертывании компонентов и промежуточных компонентах, чтобы снизить латентность взаимодействия, обеспечить безопасность и инкапсулировать устаревшие системы. <br/>
<em>Рой Филдинг (Roy Fielding).</em></p>
<p>Ключевая концепция REST - <em>ресурс</em>. Ресурс - …</p></div></div><div class="tooltip_templates"><div id="ШаблонModelViewController_tooltip_id"><p><em>MVC</em> - шаблон проектирования, применяемый для проектирования приложений с пользовательским интерфейсом. При реализации данного шаблона данные приложения и его управляющая логика разделяются на три компонента:</p>
<li><em>модель (Model)</em> представляет данные и реагирует на команды контроллера, изменяя своё состояние;</li>
<li><em>Представление (View)</em> отвечает за отображение данных модели пользователю, реагируя на изменение модели;</li>
<li><em>Контроллер (Controller)</em> реагирует на действия п…</li></div></div><div class="tooltip_templates"><div id="ШаблонPOSTREDIRECTGET_tooltip_id"><p><em>POST-REDIRECT-GET (PRG)</em> - шаблон веб-разработки, который не дает пользователю случайно отправить одни и те же данные несколько раз.<br/>
Если сервер использует простой подход, и в ответ выдает сообщение с кодом 200 (201) и некий HTML-код, пользователь будет использовать тот же URL-адрес, и в случае, если пользователь обновит страницу, он сможет отправить форму вторично.<br/>
Шаблон определяет, в ответ на успешный запрос POST нужно вернуть ответ REDIRECT на новый адрес, на ко…</p></div></div><div class="tooltip_templates"><div id="ШаблонRequestEndpointResponse_tooltip_id"><p><em>REPR</em> (reaper) - шаблон проектирования, предназначенный для приложений с API.<br/>
При реализации паттерна логика разделяется на три компонента:</p>
<li><em>Запрос (request)</em> - данные, передаваемые конечной точке;</li>
<li><em>Конечная точка (endpoint)</em> - логика, выполняемая при получении запроса;</li>
<li><em>Ответ (response)</em> - данные, возвращаемые вызывающему.</li>
<p>Предложен, по видимому, <a href="https://github.com/ardalis">Стивом “Ардалисом” Смитом</a> <br/>
Для реализации шаблона он же предлагает [фреймво…</p></div></div><div class="tooltip_templates"><div id="Шаблоныархитектурыприложения_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Монолитная архитектура</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">Микросервисная архитектура</a></li></div></div><div class="tooltip_templates"><div id="ШаблонМикросервиснаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829152253.png"/><br/>
Микросервисная архитектура - это архитектурный стиль, при котором <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представление реализации</a> структурируется в виде набора компонентов - исполняемых или WAR файлов. Компоненты - это <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/service-definition/">сервисы</a>, коннекторы - коммуникационные протоколы. Каждый сервис имеет свою архитектуру <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логического представления</a> (например, [[ch-2-h…</p></div></div><div class="tooltip_templates"><div id="ШаблонМонолитнаяархитектура_tooltip_id"><li>Простота разработки - IDe и другие инструменты заточены на единое приложение</li>
<li>Легкость внесения радикальных изменений - так как солюшен один, IDE помогает консистентно вносить изменения</li>
<li>Простота тестирования - можно написать сквозные тесты или юнит для любой части, запуск из IDE</li>
<li>Простота развертывания - тут понятно</li>
<li>Легкость масштабирования - просто несколько экземпляров за балансировщиком</li>
<p>Вытекают из масштабов роста кодо…</p></div></div><div class="tooltip_templates"><div id="Шестиграннаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210828185920.png"/><br/>
<strong>Шестигранная архитектура</strong> - альтернатива <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">многоуровневой</a>. Организует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логическое представление</a> таким образом, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">бизнес-логика</a> оказывается в центре. Вместо уровня представления есть один или несколько <em>входящих адаптеров</em>, которые обрабатывают внешние запросы путём вызова бизнес-логики. Вместо уровня хранения данных испол…</p></div></div><div class="tooltip_templates"><div id="Определениемикросервиснойархитектурыприложения_tooltip_id"><p>Как определить микросервисную архитектуру?<br/>
Здесь мы опишем процесс в виде трёх шагов, однако, нужно понимать, что это не инструкция, и ее не следует выполнять буквально.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829164601.png"/></p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a>. <em>Системная операция</em> - запрос, который приложение должно обработать. Поведение каждой команды определяется в виде абстрактной доменной модели, которая тоже извлекается и…</li></div></div><div class="tooltip_templates"><div id="Многоуровневаяархитектура_tooltip_id"><p>Классический пример архитектурного стиля. Характерна разделением элементов по уровням. Каждый уровень имеет чёткий набор обязанностей. Также ограничиваются зависимости между уровнями. Уровень может зависеть либо от уровня, лежащего непосредственно под ним (чёткое разбиение), либо от любого нижележащего уровня.<br/>
Многоуровневую архитектуру можно применить к любому из <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представлений</a>.<br/>
Классический пример - трёхуровневая архитект…</p></div></div><div class="tooltip_templates"><div id="CommandLineParser_tooltip_id"><p>Библиотека для реализации UNIX-подобного стиля параметров командной строки. Очень крутая.</p>
<p>https://github.com/commandlineparser/commandline</p></div></div><div class="tooltip_templates"><div id="guics_tooltip_id"><p>Либа для консольного GUI от самого Мигеля Де Икасы</p>
<p>https://github.com/migueldeicaza/gui.cs/</p></div></div><div class="tooltip_templates"><div id="konsole_tooltip_id"><p>Либа для консольного GUI</p>
<p>https://github.com/goblinfactory/konsole/</p></div></div><div class="tooltip_templates"><div id="Связныйсписок_tooltip_id"><p><em>Связный список (linked list)</em> - базовая динамическая структура данных, состоящая из узлов, содержащих, помимо данных, одну, две или более ссылок на другие узлы списка. Пример односвязного списка:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211223135019.png"/><br/>
Принципиальным преимуществом перед <a class="wikilink" href="array">массивом</a> является структурная гибкость: порядок элементов связного списка может не совпадать с порядком расположения элементов в памяти, а порядок обхода списка всегда явно задается его внутреннеми связям…</p></div></div><div class="tooltip_templates"><div id="ApplicationProgrammingInterfaceAPI_tooltip_id"><p>Анализирует текстовую строку и возвращает результирующие токены<br/>
<code>json
GET /_analyze 
{ 
    "analyzer" : "standard", 
    "text" : "Quick Brown Foxes!" 
}</code></p>
<li><code>GET /_analyze</code></li>
<li><code>POST /_analyze</code></li>
<li><code>GET /&lt;index&gt;/_analyze</code></li>
<li><code>POST /&lt;index&gt;/_analyze</code></li>
<p>Если указать <code>index</code> в path, можно использовать анализатор, определенный в этом индексе.</p>
<li><code>analyzer</code> (опционально, строка) имя анализатора, который нужно применить к тексту. Может быть встроенный анализато…</li></div></div><div class="tooltip_templates"><div id="Аутентификация_tooltip_id"><p><em>Аутентификация</em> - процедура проверки подлинности. Например:</p>
<li>проверка подлинности пользователя путём сравнения введённого им пароля (для указанного логина) с паролем, сохранённым в базе данных пользовательских логинов;</li>
<li>подтверждение подлинности электронного письма путём проверки цифровой подписи письма по открытому ключу отправителя;</li>
<li>проверка контрольной суммы файла на соответствие сумме, заявленной автором этого файла.</li>
<p>В русском языке термин применяется, в основном…</p></div></div><div class="tooltip_templates"><div id="Авторизация_tooltip_id"><p>Еще одна проблема, которую нужно решить при переводе монолитного приложения на микросервисы - адаптация существующего механизма безопасности. <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Реализация</a> безопасности для микросервисов основывается на токенах типа JWT. Это довольно сильно отличается от монолитного подхода, предусматривающего хранение сеанса в памяти. Трудность состоит в том, что необходимо одновременно поддерживать оба механизма.<br/>
Существует простой способ решения …</p></div></div><div class="tooltip_templates"><div id="Cohesion_tooltip_id"><p><em>Cohesion (связность)</em> - мера силы взаимосвязанности элементов внутри модуля; способ и степень, в которой задачи, выполняемые некоторым программным модулем, связаны друг с другом.</p>
<p>Макконнелл объясняет понятие связности на примере класса (как частного случая модуля): «связность характеризует то, насколько хорошо все методы класса или все фрагменты метода соответствуют главной цели, — иначе говоря, насколько сфокусирован класс».</p>
<p>Связность обычно противопоставляется [[coupling|зацеплен…</p></div></div><div class="tooltip_templates"><div id="Coupling_tooltip_id"><p><em>Coupling (зацепление, связанность)</em> - способ и степень взаимозависимости между программными модулями; сила взаимосвязей между модулями; мера того, насколько взаимозависимы разные подпрограммы или модули.</p>
<p>Сильное зацепление рассматривается как серьёзный недостаток, поскольку затрудняет понимание логики модулей, их модификацию, автономное тестирование, а также переиспользование по отдельности. <a href="https://en.wikipedia.org/wiki/Loose_coupling">Слабое зацепление</a>, напротив, является призна…</p></div></div><div class="tooltip_templates"><div id="Связныйсписок_tooltip_id"><p><em>Связный список (linked list)</em> - базовая динамическая структура данных, состоящая из узлов, содержащих, помимо данных, одну, две или более ссылок на другие узлы списка. Пример односвязного списка:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211223135019.png"/><br/>
Принципиальным преимуществом перед <a class="wikilink" href="array">массивом</a> является структурная гибкость: порядок элементов связного списка может не совпадать с порядком расположения элементов в памяти, а порядок обхода списка всегда явно задается его внутреннеми связям…</p></div></div><div class="tooltip_templates"><div id="Оптимистическаяблокировка_tooltip_id"><p>Перед началом предполагаемой модификации запрашивает значение некоторого выделенного атрибута каждой из строк данных (обычно используется наименование <code>VERSION</code> и целочисленный тип с начальным значением 0). Перед записью модификаций в базу данных перепроверяется значение выделенного атрибута, и если оно изменилось, то транзакция откатывается или применяются различные схемы разрешения коллизий. Если значение выделенного атрибута не изменилось — производится фиксация м…</p></div></div><div class="tooltip_templates"><div id="Пессимистическаяблокировка_tooltip_id"><p><strong>Пессимистическая блокировка</strong> накладывается перед предполагаемой модификацией данных на все строки, которые такая модификация предположительно затрагивает. Во время действия такой блокировки исключена модификация данных из сторонних сессий, данные из блокированных строк доступны согласно уровню изолированности транзакции. По завершению предполагаемой модификации гарантируется непротиворечивая запись результатов.</p>
<p>https://ru.wikipedia.org/wiki/%D0%91%D0%BB…</p></div></div><div class="tooltip_templates"><div id="Dockerбезsudo_tooltip_id"><p>Как сделать так, чтобы команды докера можно было запускать без <code>sudo</code>.<br/>
Вкратце, для этого нужно добавить себя в группу <code>docker</code>.<br/>
Подробнее:<br/>
Попытаемся создать группу <code>docker</code> (создастся, если ее нет)<br/>
<code>bash
sudo groupadd docker</code><br/>
Затем добавляем текущего пользователя в группу<br/>
<code>bash
sudo gpasswd -a $USER docker</code><br/>
Затем либо делаем logout/login, либо<br/>
<code>bash
newgrp docker</code><br/>
всё должно работать.</p>
<p>https://itsecforu.ru/2018/04/12/%D0%BA%D0%B0%D0%BA-%D0%B8%D1%81%D…</p></div></div><div class="tooltip_templates"><div id="УстановкаDockerнаUbuntu2004_tooltip_id"><p>Обновим пакеты<br/>
<code>bash
sudo apt update</code><br/>
Установим пакеты для использования apt через HTTPS<br/>
<code>bash
sudo apt install apt-transport-https ca-certificates curl software-properties-common</code><br/>
Добавим ключ GPG от репозитория docker<br/>
<code>bash
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code><br/>
добавим репозиторий docker в источники<br/>
<code>`bash
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"</code>…</p></div></div><div class="tooltip_templates"><div id="AsuswrtMerlin_tooltip_id"><p>Это альтернативная прошивка для роутеров Asus, поддерживается в основном чуваком с ником <strong>Merlin</strong>. Основана на родной прошивке от Асус, что позволяет, в случае чего, откатиться на нее просто через штатный механизм обновления прошивки, а также использовать фишки интеграции с другими устройствами от Asus, в частности, их mesh протоколы.</p>
<p>https://www.asuswrt-merlin.net/</p></div></div><div class="tooltip_templates"><div id="Lunrcore_tooltip_id"><p>Порт JS-движка полнотекстового поиска Lunr.<br/>
Как я понял, основной подводный камень - иммутабельность индекса после построения.</p>
<p>https://khalidabuhakmeh.com/build-dotnet-search-experiences-with-lunr-core</p></div></div><div class="tooltip_templates"><div id="gRPCRemoteProcedureCallотGoogle_tooltip_id"><p>gRPC - фреймворк для написания многоязычных клиентов и серверов <br/>
Представляет собой двоичный протокол на основе сообщений.<br/>
В gRPC API описывается с помощью IDL на основе Protocol Buffers - многоязычного механизма сериализации структурированных данных от Google. Компилятор Protocol Buffer генерирует клиентские заглушки и серверные каркасы. Клиент и сервер обмениваются сообщениями в формате Protocol Buffers, используя HTTP/2.<br/>
gRPC API состоит из одного или …</p></div></div><div class="tooltip_templates"><div id="ПаблишердляObsidian_tooltip_id"><p>Опенсорсный паблишер для Обсидиана. Заточен для работы с Github Pages.<br/>
Состоит из двух основных частей:</p>
<li>Плагина для Obsidian;</li>
<li>Шаблона для репозитория на GitHub с настроенными Actions для генерации статического сайта из .md файлов;</li>
<li>Генератора статических сайтов из Markdown MkDocs.</li>
<p>В теории, плагин для Obsidian можно использовать независимо от шаблона, с любым другим репозиторием. Полезно, если есть желание использовать другой Markdown генератор.</p>
<p>К…</p></div></div><div class="tooltip_templates"><div id="Sentry_tooltip_id"><p>Sentry - сервис для мониторинга и агрегирования ошибок. Можно либо использовать облачный вариант сервиса (sentry.io), либо развернуть on-prermise на собственном сервере.</p>
<p>Основная идея Sentry заключается в агрегировании каждой отдельной ошибки (в Sentry такая ошибка называется event) в группы (issue). <br/>
Группировка осуществляется самим сервисом либо на основе некоторой внутренней эвристики, либо кодом приложения - при отправке ивента нужно заполнить специальное поле <code>fingerprint</code>, либо (…</p></div></div><div class="tooltip_templates"><div id="Оптимистическаяблокировка_tooltip_id"><p>Перед началом предполагаемой модификации запрашивает значение некоторого выделенного атрибута каждой из строк данных (обычно используется наименование <code>VERSION</code> и целочисленный тип с начальным значением 0). Перед записью модификаций в базу данных перепроверяется значение выделенного атрибута, и если оно изменилось, то транзакция откатывается или применяются различные схемы разрешения коллизий. Если значение выделенного атрибута не изменилось — производится фиксация м…</p></div></div><div class="tooltip_templates"><div id="Пессимистическаяблокировка_tooltip_id"><p><strong>Пессимистическая блокировка</strong> накладывается перед предполагаемой модификацией данных на все строки, которые такая модификация предположительно затрагивает. Во время действия такой блокировки исключена модификация данных из сторонних сессий, данные из блокированных строк доступны согласно уровню изолированности транзакции. По завершению предполагаемой модификации гарантируется непротиворечивая запись результатов.</p>
<p>https://ru.wikipedia.org/wiki/%D0%91%D0%BB…</p></div></div><div class="tooltip_templates"><div id="Кубмасштабирования_tooltip_id"><p>Масштабировать (scale) приложение можно тремя способами, по <strong>трём осям куба</strong>.</p>
<p>Часто применяют в монолитах. Масштабируя по X - просто увеличивают число экземпляров (реплик)</p>
<p>код разбивается на сервисы по выполняемым функциям / зонам ответственности</p>
<p>Каждая реплика обрабатывает свою часть данных. Деление по некоему предикату, например, по первому символу в userId. Реплики при этом и…</p></div></div><div class="tooltip_templates"><div id="КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id"></div></div><div class="tooltip_templates"><div id="СравнениеSOAимикросервисов_tooltip_id"><p>(<strong>SOA</strong> - service-oriented architecture)<br/>
На высоком уровне - и SOA, и микросервисы - стили проектирования, которые структурируют систему как набор сервисов.</p>
<p>Однако:</p></div></div><div class="tooltip_templates"><div id="Побегизмонолитногоада_tooltip_id"><p>Приложение представляет собой монолит <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">гексагональной архитектуры</a>. Состоит из бизнес-логики, окруженной адаптерами, направленными извне (API, веб-интерфейс), так и вовне (БД, внешние сервисы).</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Преимущества</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Недостатки</a></li>
<p>Недостатки влияют не на <em>функциональные требования</em> (можно реализовать бизнес-требования любым способом). Однако есть *требо…</p></div></div><div class="tooltip_templates"><div id="Модельпредставленийархитектурывида41_tooltip_id"><p>Модель 4+1 определяет 4 разных представления архитектуры ПО. Каждое описывает определенный аспект архитектуры и состоит из конкретного набора элементов и связей между ними.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210827202316.png"/></p>
<li><em>Логическое представление</em> - программные элементы, создаваемые разработчиками. Связи - отношения между классами и пакетами, включая наследование, взаимосвязи и зависимости</li>
<li><em>Представление реализации</em> - результат работы системы сборки. Связи - …</li></div></div><div class="tooltip_templates"><div id="Стратегиидекомпозиции_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li></div></div><div class="tooltip_templates"><div id="Шестиграннаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210828185920.png"/><br/>
<strong>Шестигранная архитектура</strong> - альтернатива <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">многоуровневой</a>. Организует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логическое представление</a> таким образом, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">бизнес-логика</a> оказывается в центре. Вместо уровня представления есть один или несколько <em>входящих адаптеров</em>, которые обрабатывают внешние запросы путём вызова бизнес-логики. Вместо уровня хранения данных испол…</p></div></div><div class="tooltip_templates"><div id="Определениемикросервиснойархитектурыприложения_tooltip_id"><p>Как определить микросервисную архитектуру?<br/>
Здесь мы опишем процесс в виде трёх шагов, однако, нужно понимать, что это не инструкция, и ее не следует выполнять буквально.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829164601.png"/></p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a>. <em>Системная операция</em> - запрос, который приложение должно обработать. Поведение каждой команды определяется в виде абстрактной доменной модели, которая тоже извлекается и…</li></div></div><div class="tooltip_templates"><div id="Многоуровневаяархитектура_tooltip_id"><p>Классический пример архитектурного стиля. Характерна разделением элементов по уровням. Каждый уровень имеет чёткий набор обязанностей. Также ограничиваются зависимости между уровнями. Уровень может зависеть либо от уровня, лежащего непосредственно под ним (чёткое разбиение), либо от любого нижележащего уровня.<br/>
Многоуровневую архитектуру можно применить к любому из <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представлений</a>.<br/>
Классический пример - трёхуровневая архитект…</p></div></div><div class="tooltip_templates"><div id="ОпределениеAPIсервисов_tooltip_id"><p class="admonition-title">API</p>
<p>Можно сказать, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">API</a> сервиса состоит из операций, которые клиент может вызывать, и событий, публикуемых сервисом.</p>
<p>Операция в API может существовать по одной из двух причин: она либо соответствует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">системной операции</a> и вызывается внешними клиентами (или, возможно, другими сервисами), либо поддерживает взаимодействие между сервисами и вызывается только ими. События публикуются в основном для того, чтобы …</p></div></div><div class="tooltip_templates"><div id="Разбиениенасервисы_tooltip_id"><p>Важно понимать: не существует чётких инструкций, как разбивать приложение на сервисы. Однако, существует несколько стратегий декомпозиции, каждая из которых подходит к проблеме с определенной стороны и использует собственную терминологию. Однако, результатом во всех случаях будет архитектура, состоящая из сервисов, которые в основном организованы вокруг бизнес-процессов, а не технических концепций.</p>
<li>[[decompose-by-business-capability-pattern|Разбиение по бизнес-возможност…</li></div></div><div class="tooltip_templates"><div id="Определениесистемныхопераций_tooltip_id"><p>Это первый шаг в проектировании архитектуры приложения. За отправную точку берутся требования к приложению, включая пользовательские истории (user stories) и связанные с ними сценарии использования. <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210830192414.png"/><br/>
Процесс состоит из двух шагов.</p>
<li>Создаем обобщенную (или абстрактную) доменную модель, состоящую из ключевых классов, которые представляют словарь для описания системных операций. Используем, в основном, имена существительные, вз…</li></div></div><div class="tooltip_templates"><div id="Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">В главе 1</a> говорилось, что ключевой идеей <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной архитектуры</a> является идея функциональной декомпозиции. Какое отношение этот подход имеет к понятию архитектуры ПО в целом? Что такое сервис и насколько важен его размер?</p>
<p class="admonition-title">Архитектура ПО</p>
<p>Программная архитектура вычислительной системы - это набор структур, необходимых для ее обсуждения и состоящих из программных элементов, …</p></div></div><div class="tooltip_templates"><div id="Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id"><p>Каждый раз, когда сервисы общаются между собой по синхронному протоколу, снижается доступность всего приложения. С математической точки зрения доступность системной операции является произведением доступности сервисов, которые в нее вовлечены.<br/>
Пусть у нас есть сервис, который вызывает два других сервиса. Если каждый из них имеет доступность 99.5%, то все вместе они будут имет…</p></div></div><div class="tooltip_templates"><div id="Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id"><p>Сервисы могут взаимодействовать путём асинхронного <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">обмена сообщениями</a>.</p>
<p>Рассмотрим модель обмена сообщениями, описанной в книге <a href="https://www.ozon.ru/product/shablony-integratsii-korporativnyh-prilozheniy-signature-series-151531716/">Шаблоны интеграции корпоративных приложений</a>. В этой модели <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message/">сообщения</a> передаются по <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message-channel/">каналам</a>. Отправитель пишет сообщ…</p></div></div><div class="tooltip_templates"><div id="Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id"><p>В случае ситуации нескольких одинаковых получателей возможна ситуация, когда несколько последовательных сообщений будут доставлены в некорректном порядке разным экземплярам получателей.<br/>
Одно из решений - использование <em>сегментированных каналов</em>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210915203724.png"/></p>
<li>Сегментированный канал включает в себя два и более сегмента, каждый из которых ведет себя как канал.</li>
<li>Отправитель указывает в заголовке ключ сегмента. Бро…</li></div></div><div class="tooltip_templates"><div id="Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id"><p>Далее - <strong>IPC (interprocess communication)</strong><br/>
В приложениях микросервисной архитектуры IPC играет более важную роль, чем в монолитных приложениях. Экземпляры сервисов чаще всего являются процессами, запущеными на разных компьютерах, следовательно, должны общаться друг с другом при помощи IPC. Выбор механизма IPC  - важное архитектурное решение, он может повлиять на уровень доступности приложения.</p></div></div><div class="tooltip_templates"><div id="ОбзорIPC_tooltip_id"><p>Существует множество разных технологий IPC. Сервисы могут использовать коммуникационные механизмы на основе запросов/ответов, такие как <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a>, или механизмы коммуникации на основе сообщений, такие как <a class="wikilink" href="amqp-comm-model">AMQP</a> или <a class="wikilink" href="stomp-comm-model">STOMP</a>. Также существует множество форматов сообщений, как текстовые форматы, понятные человеку (JSON или XML), так более эффективные двоичные - Avro или Protocol Buffers.</p>
<p>Стили вз…</p></div></div><div class="tooltip_templates"><div id="Факторывыбораброкерасообщений_tooltip_id"><li><em>Поддерживаемые языки программирования</em>. Больше - лучше. Ну или нужен тот, на котором мы пишем.</li>
<li><em>Поддерживаемые стандарты обмена сообщениями</em>. Поддерживаются ли стандарты вроде <strong>AMQP</strong> или <strong>STOMP</strong>? Используется ли закрытый протокол?</li>
<li><em>Порядок следования сообщений</em>. Сохраняет ли брокер порядок следования сообщений?</li>
<li><em>Гарантии доставки</em>. Какие гарантии доставки даёт брокер?</li>
<li><em>Постоянное хранение</em>. Сохраняются ли сообщения на диск? Могут ли сообщения пер…</li></div></div><div class="tooltip_templates"><div id="Использованиеброкерасообщений_tooltip_id"><p>Приложения, основанные на сообщениях, обычно применяют <em>брокер сообщений</em> - инфраструктурный компонент, через который сервисы общаются друг с другом. Однако, архитектура обмена сообщений может и не иметь брокера, и сервисы взаимодействуют напрямую.</p>
<p>В архитектуре без брокера сервисы общаются напрямую. Одна из реализаций такого подхода - проект <a href="https://zeromq.org/">ZeroMQ</a></p>
<li>Более легковесный сетево…</li></div></div><div class="tooltip_templates"><div id="Дублированиесообщений_tooltip_id"><p>В идеале брокер должен доставлять сообщение ровно один раз. Однако обеспечение этого обычно сильно затратно. Вместо этого большинство брокеров обеспечивает  доставку <em>минимум один раз (at least once)</em>.<br/>
Если логика, обрабатывающая сообщения, является идемпотентной, то это не проблема. В случае, когда логика не является идемпотентной, можно воспользоваться шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a></p></div></div><div class="tooltip_templates"><div id="Реализациястилейвзаимодействия_tooltip_id"><p>Механизмы обмена сообщениями достаточно гибки, чтобы реализовать все <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">стили взаимодействия</a>. Вот как реализуется каждый.</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210911183223.png"/><br/>
Клиент и сервис могут взаимодействовать, отправляя запросы и принимая ответы. Если это происходит синхронно, клиент ожидает немедленного ответа от сервиса, если асинхронно - не ждёт. Обмен сообщениями по природе асинхронен, но клие…</p></div></div><div class="tooltip_templates"><div id="ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id"><p>Рассмотрим шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">удаленный вызов процедур</a>. Существует много протоколов RPI. Рассмотрим REST и gRPC.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a></li>
<p>Оба представляют собой синхронные коммуникационные механизмы и, как следствие, страдают из-за проблем с частичным отказом. Например, сервис может быть недоступен вследствие сбоя, или находиться в процессе обслуживания. Кроме того, сервис может быть перегруженным и отвечать медленно, …</p></div></div><div class="tooltip_templates"><div id="Обнаружениесервисов_tooltip_id"><p>В микросервисной архитектуре, когда большинство сервисов получает адреса динамически, и набор экземпляров может постоянно изменяться, важно использовать механзм обнаружения сервисов. Ядром такого механизма становится <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестр сервисов</a>. Когда экземпляры сервисов запускаются или останавливаются, механизм обнаружения обновляет реестр. Когда клиент хочет обратиться к сервису, он обращается к реестру за списком доступных экземпляров сервиса, и запраши…</p></div></div><div class="tooltip_templates"><div id="Транзакционныйобменсообщениями_tooltip_id"><p>Сервисы часто нужно публиковать сообщения в рамках транзакции, обновляющей базу данных. Если не отправить сообщение одновременно с записью в БД, система может остаться в несогласованном состоянии.<br/>
Предлагается следующий механизм для надёжной отправки сообщений:</p>
<li>Первый шаг - воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Публикация событий (Outbox)</a> для временного сохранения сообщений.</li>
<li>Второй шаг - передаем сообщения, сохраненные на первом шаге, бр…</li></div></div><div class="tooltip_templates"><div id="Повествованияоснованныенахореографии_tooltip_id"><p>Хореография -  способ реализации повествований, когда участники подписываются на события друг друга и реагируют соответствующим образом.<br/>
Сперва рассмотрим пример - повествование createOrder().</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210919120040.png"/></p>
<li>Сервиc <code>Order</code> создает заказ с состоянием <code>APPROVAL_PENDING</code> и публикует событие <code>OrderCreated</code>.</li>
<li>Сервис <code>Consumer</code> потребляет событие <code>OrderCreated</code>, проверяет, может ли заказчик размещать заказы …</li></div></div><div class="tooltip_templates"><div id="Недостаточнаяизолированность_tooltip_id"><p>Изолированность (isolation в аббревиатуре ACID) гарантирует, что результат параллельного выполнения нескольких ACID транзакций будет таким же, как при некоем последовательном выполнении. База Данных дает иллюзию того, что каждая ACID транзакция имеет эксклюзивный доступ к информации.<br/>
В случае с повествованиями мы имеем дело с ситуацией, когда каждая локальная транзакция сразу же фиксируется и обновления становятся доступными другим повествованиям, следовательно, л…</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id"><p>Почти любой запрос, обрабатываемый промышленным приложением, выполняется в рамках транзакции базы данных. Существует императивный (а некоторые фреймворки предоставляют декларативный) API для выполнения кода в рамках транзакции. Таким образом, в монолитных приложениях с единой БД просто управлять транзакциями. Однако, если приложение использует несколько БД и брокеров сообщений, процесс затрудняется. А в микросервисной архитектуре транзакции …</p></div></div><div class="tooltip_templates"><div id="Повествованиянаосновеоркестрации_tooltip_id"><p>Оркестрация как способ реализации повествований предполагает выделение <em>оркестратора</em>, единственной задачей которого является рассылка инструкций участникам. Оркестратор взаимодействует с участниками в стиле <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">“команда/асинхронный ответ”</a>. Чтобы выполнить этап повествования, он шлет участнику командное сообщение, указывая, какую операцию нужно выполнить. После выполнения операции участник возвращает оркестратору сообщение с …</p></div></div><div class="tooltip_templates"><div id="Координацияповествований_tooltip_id"><p>Реализация повествования состоит из логики, которая координирует его этапы. Она отвечает за выбор первого участника при инициализации повестования системной командой, затем выполнение им отведенного ему этапа и т.д. до тех пор, пока не будут выполнены все этапы. Если какой-либо этап завершится неудачно, логика выполняет компенсирующие шаги в нужном порядке.<br/>
Вот возможные способы реализации координирующей логики: <em>Хореография</em> и <em>Оркестрация</em>.</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямиспомощьюповествований_tooltip_id"><p>Транзакции типа <strong>ACID</strong> (Atomicity, Consistency, Isolation, Durability) значительно упрощают жизнь разработчиков. В микросервисной архитектуре ACID транзакии могут использовать даже запросы, выполняемые в рамках одного сервиса. Однако основная трудность состоит в реализации операций, которые обновляют данные, принадлежащие к разным сервисам.</p>
<p>…</p></div></div><div class="tooltip_templates"><div id="ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id"><p>В традиционном ООП доменная модель описывает набор классов и отношения между ними, например <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923193554.png"/><br/>
Этот пример содержит несколько классов, соотносящихся с бизнес-объектами: <code>Consumer</code>, <code>Order</code>, <code>Restaurant</code> и <code>Courier</code>. Как видно, в модели не хватает чётких границ между разными бизнес-объектами. Например, не видно, какие классы входят в бизнес-объект <code>Order</code>.<br/>
Расплывчатые границы могут привести к п…</p></div></div><div class="tooltip_templates"><div id="Шаблоныорганизациибизнеслогики_tooltip_id"><p>Вот <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">шестигранная архитектура</a> типичного сервиса. Ее ядром является <em>бизнес-логика</em>, и чаще всего это самая сложная часть сервиса.<br/>
Существует два основных шаблона организации бизнес-логики:</p>
<li>процедурный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">“Сценарий транзакции”</a></li>
<li>объектно-ориентированный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">“Доменная модель”</a></li>
<p>У шаблона “доменная модель” есть ряд проблем в контексте микросервисной архитектуры. Чтобы разобраться с ними, н…</p></div></div><div class="tooltip_templates"><div id="ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id"><p>DDD, описанное в <a href="https://www.ozon.ru/product/predmetno-orientirovannoe-proektirovanie-ddd-strukturizatsiya-slozhnyh-programmnyh-sistem-147107976/">книге Эрика Эванса Domain-Driven Design</a> - Это более узкая разновидность ООП, предназначенная для разаботки сложной бизнес-логики.<br/>
В DDD есть <em>стратегические шаблоны</em>, например поддомены и концепция изолированного контекста.<br/>
Также в DDD есть <em>тактические шаблоны</em>, которые служат стро…</p></div></div><div class="tooltip_templates"><div id="Доменныесобытия_tooltip_id"><p>В контексте <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">DDD</a> <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">доменное событие</a> - это нечто, произошедшее с <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">агрегатом</a>. Обычно представляет изменение состояния.</p>
<p>Полезность публикации доменных событий в том, что другие стороны взаимодействия (пользователи, внешние приложения или другие компоненты приложения) заинтересованы в информации об изменениях в состоянии агрегата. Например:</p>
<li>Обеспечение согласованности между серв…</li></div></div><div class="tooltip_templates"><div id="Доменнаямодель_tooltip_id"><p>Организует бизнес-логику в виде объектной модели - сети относительно небольших классов. Эти классы обычно напрямую соотносятся с концепциями из проблемной области.<br/>
В этой концепции существенная часть логики из сервисов переносится в доменные объекты</p></div></div><div class="tooltip_templates"><div id="Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id"><p>Сердцем промышленных приложений является бизнес-логика, которая реализует бизнес-правила. Разработка сложной бизнес-логики сопряжена с определенными трудностями.<br/>
В микросервисной архитектуре разрабатывать сложную бизнес-логику сложнее, чем в монолитной, так как она распределена между разными микросервисами. Ключевыми являются две проблемы. Первая - нужно сократить число ссылок в доменной модели, избавившись от тех, которые будут пересек…</p></div></div><div class="tooltip_templates"><div id="Сценарийтранзакции_tooltip_id"><p>Шаблон бизнес-логики, при котором бизнес-логика организуется в виде набора процедурных сценариев, по одному для каждого типа запросов. Другими словами, существуют отдельные классы с  поведением (сценариями), и отдельные классы с данными, совсем или практически совсем без поведения.</p></div></div><div class="tooltip_templates"><div id="Методыагрегатаполностьюполагаютсянасобытия_tooltip_id"><p>Чтобы обработать запрос и обновить агрегат, бизнес-логика вызывает командный метод из его корня. В традиционном подходе такой метод проверяет свои аргументы и обновляет одно или несколько полей агрегата. При порождении событий командные методы должны генерировать события. Результатом вызова командного метода агрегата является последовательность событий, описывающих изменения, которые нужно применить к агрегату, чтобы перевести его в новое состоян…</p></div></div><div class="tooltip_templates"><div id="Событияпредставляютизменениясостояния_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменное событие</a> - это механизм уведомления подписчиков об изменениях, вносимых в агрегаты. События могут содержать минимальную информацию, такую как ID агрегата, или могут быть расширены с помощью данных, нужных потребителю. Факт публикации события и его содержимое определяются тем, что именно нужно потребителю. Но в случае с порождением событий эта ответственность ложится на сам агрегат.<br/>
Каждое изменение состояния агрегата (вклю…</p></div></div><div class="tooltip_templates"><div id="Развитиедоменныхсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Шаблон “порождение событий”</a>, предполагает сохранение событий навсегда. Однако, в этом случае может возникнуть проблема, так как структура событий может меняться со временем. Существует вероятность, что приложению придётся иметь дело с несколькими версиями событий</p>
<p>На концептуальном уровне приложение, основанное на порождении событий, имеет трёхуровневую структуру:</p>
<li>Состоит из одного или нескольких агрегатов</li>
<li>Оп…</li></div></div><div class="tooltip_templates"><div id="Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id"><p>Событийная природа <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">шаблона “порождение событий”</a> делает реализацию повествований на основе географии довольно прямолинейной. При обновлении агрегат генерирует событие.  У другого агрегата может быть обработчик, который обновляет его в результате получения события. Фреймворк для порождения событий делает все обработчики идемпотентными.<br/>
Проблема использования событий для хореографии повествовани…</p></div></div><div class="tooltip_templates"><div id="Порождениеипубликациясобытий_tooltip_id"><p>Шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">порождение событий</a> сохраняет агрегат в виде событий, из которых заетм восстанавливает текущее состояние. Этот подход можно использовать в качестве механизма надежной публикации событий.<br/>
В <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">главе 3</a> описаны механизмы для публикации сообщений в рамках транзакции: <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">опрашивание</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">отслеживание транзакционного жургала</a>. При использовании пор…</p></div></div><div class="tooltip_templates"><div id="Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id"><p>Пусть мы реализовали один или несколько сервисов на основе порождения событий. Однако, чтобы корректно работать друг с другам, им необходимо инициировать <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a> - последовательности локальных транзакций, которые обеспечивают согласованность данных между сервисами, и участвовать в них. Следовательно, нам нужно интегрировать повествования и бизнес-логику на основе порождения событий.</p></div></div><div class="tooltip_templates"><div id="Преимуществапорождениясобытий_tooltip_id"><p>Основное преимущество порождения событий - надежная публикация уведомлений о каждом изменении состояния агрегата. Также событие может хранить ID пользователя, что позволяет вести журнал аудита. Поток событий можно использовать для других задач: уведомление пользователей, аналитика, мониторинг, уведомление других приложений</p>
<p>Можно легко определять состояние агрегата в любой прошлый мо…</p></div></div><div class="tooltip_templates"><div id="Разработкабизнеслогикиспорождениемсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a> - еще один способ структурирования бизнес-логики и сохранения агрегатов.<br/>
Имеет несколько важных преимуществ, например сохраняет историю агрегатов. Также обеспечивается надёжность публикации доменных событий. Есть и недостатки, например, сложность в изучении. Также обращение к хранилищу событий требует использования <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">шаблона CQRS</a>.</p></div></div><div class="tooltip_templates"><div id="Недостаткипорождениясобытий_tooltip_id"><p>Из-за своей необычности модель программирования, основанная на порождении событий, имеет высокий порог вхождения. Также для интеграции порождения событий в приложение потребуется переписать бизнес-логику.</p>
<p>Так как брокер сообщений обычно гарантирует доставку <em>не менее одного раза</em>, необходимо отслеживать и отклонять дубликаты.</p></div></div><div class="tooltip_templates"><div id="Обзорпорождениясобытий_tooltip_id"><p>Порождение событий - это событийный подход к реализации бизнес-логики и сохранению агрегатов. Агрегат хранится в БД в виде цепочки событий. Каждое событие предстваляет изменение его состояния. Бизнес-логика агрегата структурирована вокруг требования о генерации и потреблении этих событий.</p></div></div><div class="tooltip_templates"><div id="Реализацияхранилищасобытий_tooltip_id"><p><em>Хранилище событий</em> - это гибрид базы данных и брокера сообщений. БД - потому что у него еcть API для вставки и извлечения событий агрегата по первичному ключу. Брокер сообщений - потому что у него есть API для подписки на события.</p>
<p>Существует несколько способов реализации хранилища событий. Можно написать всё с нуля. Хранить записи в реляционной БД. Подписчики могут опрашивать таблицу <code>EVENTS</code> на предмет новый событий, однако необходимо гарантировать, что подписчи…</p></div></div><div class="tooltip_templates"><div id="Идемпотентнаяобработкасообщений_tooltip_id"><p>Сервисы часто потребляют сообщения из других приложений или сервисов. Как описывалось <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">в главе 3</a>, при разработке потребителя сообщений важно убедиться в его идемпотентности, поскольку брокер может доставить сообщение более чем один раз.<br/>
Потребитель является идемпотентным, если его можно безопасно вызывать по нескольку раз с одним и тем же сообщением.</p>
<p>М…</p></div></div><div class="tooltip_templates"><div id="Созданиеоркестратораповествования_tooltip_id"><p>Методы, такие как OrderService.CreateOrder() делают две вещи: создают или обновляют агрегат <em>и</em> создают оркестратор повествований. Сервис должен выполнять эти действия так, чтобы второе гарантированно завершалось в случае успешного выполнения первого. Реализация этого зависит от используемого типа хранилища.</p>
<p>Если сервис использует хранилище событий на основе реляционн…</p></div></div><div class="tooltip_templates"><div id="Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id"><p>Порожедние событий можно использовать и для реализации оркестраторов.<br/>
При разработке оркестратора повествований нужно решить три ключевые проблемы:</p>
<li>Как будет храниться оркестратор?</li>
<li>Как атомарно изменять состояние оркестратора и слать командные сообщения?</li>
<li>Как убедиться в том, что оркестратор обрабатывает ответы один раз?</li>
<p>Жизненный цикл оркестратора: сначала созда…</p></div></div><div class="tooltip_templates"><div id="Реализацияучастникаповествования_tooltip_id"><p>Нужно решить две проблемы, а именно: обеспечить идемпотентность обработки команд и атомарную отправку ответного сообщения.</p>
<p>Воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a>. Участник повествования записывает ID сообщения в события, которые генерируются при его обработке. Прежде чем обновлять агрегат, участник сверяет ID сообщения в событиях и убеждается в том, что он его еще не обра…</p></div></div><div class="tooltip_templates"><div id="Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id"><p>При порождении событий агрегат сохраняется в <em>хранилище событий</em> в виде последовательности событий.<br/>
Вот пример агрегата <code>Order</code>: порождение событий поещает каждый агрегат <code>Order</code> в таблицу <code>EVENTS</code>, используя одну или несколько строк. Каждая строка - это доменное событие.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210927192345.png"/><br/>
Создавая или обновляя агрегат, приложение вставляет в таблицу <code>EVENTS</code> событие, которое тот сгенерировал. Приложение загружает агрегат из …</p></div></div><div class="tooltip_templates"><div id="Улучшениепроизводительностиспомощьюснимков_tooltip_id"><p>В случае, когда агрегат достаточно долговечен, и его состояние часто меняется, со временем у него накапливается довольно много событий, что приводит к замедлению его загрузки и свёртки.<br/>
Эту проблему решают периодическим сохранением снимков состояния агрегата.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210929203331.png"/><br/>
Приложение восстанавливает состояние агрегата, загружая его последний снимок и только те события, которые произошли с момента его создания.<br/>
Если у агрегат…</p></div></div><div class="tooltip_templates"><div id="Проблемытрадиционногосохраненияданных_tooltip_id"><p>Традиционный подход к сохранению данных подразумевает привязывание классов к таблицам БД, полей этих классов - к столбцам, а экземпляров - к строкам. Так хранят данные большинство промышленных приложений. Однако у него есть несколько недостатков.</p>
<p>Эта проблема заключается в концептуальном несоответствии между табличной реляционной схемой и графовой структурой развитой доменной модели.</p>
<p>В традиц…</p></div></div><div class="tooltip_templates"><div id="ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id"><p>Рассмотрим в качестве примера запрос <code>findOrder()</code>. Он принимает <code>orderId</code> в качестве параметра и возвращает объект <code>orderDetails</code> с информацией о заказе. К примеру, операция вызывается неким клиентским модулем для представления <code>Order Status</code> - это основная информация о состоянии заказа, включая статус платежа, статус выполнения заявки с т.з. ресторана, а также местоположении и предполагаемым временем доставки, если заказ уже в пути.<br/>
![[Pasted ima…</p></div></div><div class="tooltip_templates"><div id="ДостоинстваCQRS_tooltip_id"><p>Так как для получения данных используются свои экземпляры БД, нет нужды делать JOIN-ы в памяти или порождать большое количество сетевых запросов.</p>
<p>В рамках этого шаблона можно применять специализированные БД для эффективной реализации специфических запросов, таких как геопоиск.</p></div></div><div class="tooltip_templates"><div id="Выборхранилищаданных_tooltip_id"><p>Основная задача БД и модели данных заключается в эффективной реализации запросов модуля представления. Основной фактор при выборе БД - как раз характеристики этих запросов. Второй фактор - эффективность операций обновления.</p>
<p>В зависимости от ситуации есть выбор между SQL и NoSQL решениями. NoSQL отлично подходят в силу лучшей производительности, масштабируемости и гибкой модели данных. Однако, если есть необходимость построения отчётов, сложной …</p></div></div><div class="tooltip_templates"><div id="НедостаткиCQRS_tooltip_id"><p>Разработчикам приходится писать дополнительные запрашивающие сервисы, которые отвечают за обновление представлений и обращение к ним. Также усложняется также администрирование и обслуживание дополнительных, часто разнообразных, хранилищ.</p>
<p>Как можно понять, между публикацией события командной стороной и его обработкой сервисом запросов проходит некоторое время. Клиентское приложение, которое обновляет агрегат и сразу же обраща…</p></div></div><div class="tooltip_templates"><div id="ПрименениешаблонаCQRS_tooltip_id"><p>Многие промышленные приложения используют СУРБД в качестве транзакционной системы записей, оставляя полнотекстовые запросы таким системам как Elasticsearch или Solr, либо одновременно записывая данные в обе БД, либо периодически копируя данные из СУРБД в поисковую систему. Такая архитектура использует и транзакционные свойства СУРБД, и возможности полнотекстового поиска.<br/>
Обобщенной версией этой архитектуры является <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">CQRS</a>. Идея в том, чтобы запросы выполн…</p></div></div><div class="tooltip_templates"><div id="ДобавлениеиобновлениеCQRSпредставлений_tooltip_id"><p>CQRS-представления добавляются и обновляются на протяжении жизенного цикла приложения.<br/>
Добавление и обновление представлений сами по себе довольно просты. При создании нового представления разрабатывается модуль стороны запросов, подготавливается хранилище данных и разворачивается сервис. Обработчики пропускают через себя все события, благодаря чему представление рано или поздно актуализируется. При обновлении нужно внести изменения и перестроить набо…</p></div></div><div class="tooltip_templates"><div id="ПроектированиеCQRSпредставлений_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/><br/>
Модуль CQRS-представления обладает API, состоящим из одного или нескольких запросов. Для реализации запросов используется БД, которая обновляется засчет подписки на события от одного или нескольких сервисов.</p></div></div><div class="tooltip_templates"><div id="Структурамодулядоступакданным_tooltip_id"><p>Обработчики событий и модуль API запросов не обращаются к хранилищу данных напрямую. Вместо этого задействуется специальный модуль, который состоит из объекта доступа к данным (Data Access Object, DAO) и его вспомогательных классов.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/></p>
<p>Если события, на которые подписано представление, публикуются агрегатами одного типа, никаких проблем с конкурентностиью не возникает - события обрабатываются последо…</p></div></div><div class="tooltip_templates"><div id="Реализациязапросоввмикросервиснойархитектуре_tooltip_id"><p>В <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">монолитной</a> архитектуре реализация запросов довольно прямолинейна, так как монолитное приложение использует единую БД. Однако, для <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной</a> архитектуры написание запросов сопряжено с трудностями, так как теперь данные разбросаны по разным сервисам и разным БД.<br/>
Существует два шаблона для написания запросов в микросервисной архитектуре.</p>
<li>[[api-composition-pattern| Об…</li></div></div><div class="tooltip_templates"><div id="АрхитектураAPIшлюза_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016110810.png"/><br/>
API-шлюз имеет двухуровневую модульную ахитектуру.<br/>
Она состоит из двух частей - общего уровня и API-модулей. Каждый уровень реализует API конкретного клиента. На общем уровне реализованы общие возможности и граничные функции.<br/>
В примере 3 API-модуля:</p>
<li><em>Мобильный API</em> - для мобильного клиента</li>
<li><em>браузерный API</em> - для JavaScript-приложения</li>
<li><em>публичный API</em> - для сторонних разработчиков</li>
<p>API-модуль либо прокидывает операцию дальше к серв…</p></div></div><div class="tooltip_templates"><div id="ТрудностипроектированияAPIшлюза_tooltip_id"><p>При проектировании API-шлюза могут возникнуть некоторые трудности, а именно:</p>
<p>Так как через шлюз поступают все запросы приложения, большое значение имеют его производительность и возможности масштабирования. Ключевое решение, которое влияет на эти показатели, заключается в выборе между синхронным и асинхронным вводом-выводом.<br/>
В <em>синхронной</em> модели каждый запрос обрабатывается отдельным потоком. Это простая модель, однак…</p></div></div><div class="tooltip_templates"><div id="РеализацияAPIшлюза_tooltip_id"><p>API-шлюз можно реализовать двумя способами.</p>
<li>Используя готовый продукт или сервис. Этот вариант практически не требует разработки, но он менее гибок. Так, например, готовые API-шлюзы обычно не поддерживают объединение API.</li>
<li>Путём разработки собственного API-шлюза.</li>
<p>Есть масса вариантов, автор упоминает 3:<br/>
- <strong>AWS API Gateway</strong>. Набор ресурсов REST, каждый из которых поддерживает один или несколько методов. В конфигурации нужно указать, …</p></div></div><div class="tooltip_templates"><div id="МодельвладениявAPIшлюзе_tooltip_id"><p>Важный вопрос при внедрении API-шлюза - кто несет ответственность за разработку API-шлюза и его операций? Если выделить для этого отдельную команду, это может стать потенциальным узким местом - если, например, разработчику мобильного приложения нужно получить доступ к определенному сервису, он должен обратиться к команде API-шлюза и подождать, пока они реализуют нужный API.<br/>
Другой подход: API-модуль отдается на откуп клиентским разработчикам, а команда API-шлюза отв…</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p>Подход, при котором клиенты выполняют множество запросов к сервисам для отображения информации, имеет <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">определенные недостатки</a>. Поэтому лучше сделать так, чтобы клиент делал один запрос к <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюзу</a>, сервису, который служит единой точкой входа для запросов к приложению извне.<br/>
Исходя из этого шлюзу разумно делегировать выполнение следующих функций.</p>
<p>Некоторые API-вызовы реализуются путем направления …</p></div></div><div class="tooltip_templates"><div id="ШаблонывнешнихAPI_tooltip_id"><p>У монолитного сервиса API для внешних клиентов чаще всего и сам монолитный. Однако в микросервисной архитектуре единого API чаще всего нет. Поэтому необходимо решить, каким образом организовать внешний API с учётом разнообразия клиентов, их задач и скоростей доступа.</p></div></div><div class="tooltip_templates"><div id="ПроблемыспроектированиемвнешнихAPI_tooltip_id"><p>Внешние API приложения могут использовать клиенты 4 типов:</p>
<li>Веб-приложения с браузерными UI для заказчиков, ресторанов и администраторов</li>
<li>JavaScript-приложение в браузере</li>
<li>Мобильные приложения</li>
<li>Приложения, написанные сторонними разработчиками</li>
<p>Один из вариантов проектирования API заключается в том, чтобы дать клиентам обращаться к сервисам напрямую. Однако на практике такое делают редко из-за следующих недостатков.</p>
<li>Для извлечения нужных данных клиен…</li></div></div><div class="tooltip_templates"><div id="Трудноститестированиямикросервисов_tooltip_id"><p>Микросервисное приложение - распределенная система, и межпроцессное взаимодействие играет одну из ключевых ролей.<br/>
Очень важно, чтобы разработчики писали тесты, которые проверяют, как он взаимодействует со своими зависимостями и клиентами.<br/>
<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Как говорилось</a>, сервисы могут общаться между собой, применяя разнообразные стили и механизмы IPC. Вот, к примеру, схема взаимодействия некоторых сервисов.<br/>
![[Pasted image 20211022193646....</p></div></div><div class="tooltip_templates"><div id="Написаниемодульныхтестовдлясервиса_tooltip_id"><p>Модульные тесты (unit tests) находятся на самом нижнем уровне пирамиды тестирования. Они ориентированы на технологии и могут использоваться в разработке. Модульный тест позволяет убедиться в правильной работе <em>модуля</em> - обычно под модулем понимают класс, так что тесты проверяют, ведет ли себя класс так, как ожидается.<br/>
Существует два типа модульных тестов:</p>
<li><em>изолированный</em> - тестирует отдельно взятый класс, заменяя зависимости объектами-макетами;</li>
<li>*общит…</li></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть1_tooltip_id"><p>Из-за своей сложности микросервисный подход требует внедрения написания автоматических тестов. Некоторые аспекты тестирования микросервисов трудно организовать, так как необходимо убедиться в том, что они могут корректно взаимодействовать между собой, но при этом минимизировать количество медленных, сложных и ненадежных сквозных тестов.<br/>
В этой главе описываются модульные тесты (unit tests). Другие типы тестов - в [[ch-10-testing-microservices-part-2|следующе…</p></div></div><div class="tooltip_templates"><div id="Обзорметодиктестирования_tooltip_id"><p class="admonition-title">Определение</p>
<p>Test Case (тестовый случай, вариант тестирования) - это формально описанный алгоритм тестирования программы, специально созданный для определения возникновения в программе определённой ситуации, определённых выходных данных. <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<p>Иными словами, целью теста является проверка поведения тестируе…</p>
<li id="fn:1">
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Разработкакомпонентныхтестов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Шаблон “компонентный тест сервиса”</a>. <br/>
Компонентные тесты близки к приемочным тестам (acceptance tests), поэтому сперва определим приемочные тесты.</p>
<p>Приемочные тесты относятся к бизнес-аспектам программного компонента. Они описывают предпочтительное поведение, которое наблюдают клиенты компонента, игнорируя внутреннюю реализацию. Формируются на основе сценариев, например, история <code>Place Order</code><br/>
```<br/>
К…</p></div></div><div class="tooltip_templates"><div id="Написаниесквозныхendtoendтестов_tooltip_id"><p>Сквозные тесты тестируют приложение целиком. Они находятся на вершине пирамиды, так как они меделнные и ненадежные, а на их разработку уходит много времени.</p>
<p>Лучше всего, чтобы сквозные тесты были основаны на <em>пользовательских путешествиях</em>🤔, которые описывают перемещение пользователя по системе. Например, проверку создания, пересмотра и отмены заказа можно объединить в один тест.</p>
<p>Сквозные тест…</p></div></div><div class="tooltip_templates"><div id="Написаниеинтеграционныхтестов_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211023125019.png"/><br/>
Интеграционные тесты находятся на пирамиде тестов на один уровень выше <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">юнит-тестов</a>. Они помогают убедиться в том, что сервис правильно взаимодействует с инфраструктурой и другими сервисами. Есть две стратегии, упрощающие код таких тестов.<br/>
Первая стратегия заключается в тестировании каждого адаптера сервиса, возможно, вместе со вспомогательными классами.<br/>
Вторая стратегия состоит в исп…</p></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть2_tooltip_id"><p>Вспомним <em>пирамиду тестов</em>:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/pyramid-of-tests.png"/><br/>
Поднимаемся выше по этой пирамиде.</p></div></div><div class="tooltip_templates"><div id="Проектированиеконфигурируемыхсервисов_tooltip_id"><p>Нет никакого смысла сохранять значения конфигурационных свойств прямо в коде сервиса, так как в этом случае его пришлось бы повторно собирать для каждой отдельной среды. Кроме того, конфиденциальная информация, такая как учетные данные, должна безопасно храниться в хранилище секретных ключей, таком как <a href="https://www.vaultproject.io/">Hashicorp Vault</a> или [AWS Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-par…</p></div></div><div class="tooltip_templates"><div id="Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id"><p>Сервис можно считать готовым к развертыванию только в том случае, когда ему присущи три критически важные качественные характеристики:</p>
<li>Безопасность </li>
<li>Конфигурируемость</li>
<li>Наблюдаемость</li></div></div><div class="tooltip_templates"><div id="Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id"><p>Любой сервис приложения должен поддерживать множество функций для обеспечения <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">безопасности</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">конфигурируемости</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">наблюдаемости</a>. Также сервис отвечает за свое <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">обнаружение</a> и реализацию <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранителей</a>. Чтобы не разрабатывать всё это отдельно для каждого сервиса, необхо…</p></div></div><div class="tooltip_templates"><div id="Проектированиенаблюдаемыхсервисов_tooltip_id"><p>Чтобы сделать сервисы более простыми для управления и диагностики, разработчик обязан использовать определенные шаблоны проектирования.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211101195345.png"/><br/>
 Эти шаблоны предоставляют информацию о поведении и работоспособности сервиса, позволяют системе мониторинга отслеживать и визуализировать состояние сервиса и генерировать оповещение при возникновении проблемы.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">API проверки работоспособности</a> - предоставляет…</li></div></div><div class="tooltip_templates"><div id="Разработкабезопасныхсервисов_tooltip_id"><p>Разработчик в первую очередь несет ответственность за то, как реализованы четыре аспекта безопасности.</p>
<li><em>Аутентификация</em>. Проверяет подлинность программы или человека, запрашивающего доступ.</li>
<li><em>Авторизация</em>. Проверяет, позволено ли субъекту выполнять запрошенную операцию.</li>
<li><em>Аудит</em>. Отслеживает операции, выполняемые субъектом, чтобы обнаруживать проблемы безопасности.</li>
<li><em>Безопасное межпроцессное взаимодействие</em>.</li></div></div><div class="tooltip_templates"><div id="Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id"><p>В микросервисной архитектуре каждый запрос клиента обрабатывается API-шлюзом и минимум одним сервисом. Чтобы обеспечить безопасность в микросервисной архитектуре, нужно определиться с тем, кто отвечает за аутентификацию пользователя, а кто - за авторизацию.</p>
<p>Лучше всего сделать так, чтобы клиент аутентифицировался API-шлюзом. <br/>
Это - шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">токен доступа</a>. <br/>
Для API-клиентов пос…</p></div></div><div class="tooltip_templates"><div id="ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">Oauth 2.0</a></p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211028200026.png"/><br/>
Последовательность событий для API-клиента выглядит так.</p>
<li>Клиент делает запрос, предоставляя свои учетные данные в процессе HTTP-аутентификации.</li>
<li>API-шлюз делает запрос типа <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">OAuth 2.0 Password Grant</a> к серверу аутентификации.</li>
<li>Сервер аутентификации проверяет учетные данные API-клиента и возвращает токены дос…</li></div></div><div class="tooltip_templates"><div id="Развертываниемикросервисов_tooltip_id"><p><em>Развертывание (deployment)</em> - это сочетание двух взаимосвязанных концепций - процесса и архитектуры. <em>Процесс развертывания</em> заключается в доставке кода в промышленную среду; <em>архитектура развертывания</em> определяет структуру среды, в которой этот код будет выполняться.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211105193720.png"/><br/>
Промышленная среда должна поддерживать четыре ключевые возможности</p>
<li><em>Интерфейс управления сервисами</em> позволяет создавать, обновлять и конфигурировать сервисы.</li>
<li>*…</li></div></div><div class="tooltip_templates"><div id="Аутентификацияиавторизация_tooltip_id"><p>Еще одна проблема, которую нужно решить при переводе монолитного приложения на микросервисы - адаптация существующего механизма безопасности. <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Реализация</a> безопасности для микросервисов основывается на токенах типа JWT. Это довольно сильно отличается от монолитного подхода, предусматривающего хранение сеанса в памяти. Трудность состоит в том, что необходимо одновременно поддерживать оба механизма.<br/>
Существует простой способ решения …</p></div></div><div class="tooltip_templates"><div id="Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id"><p>Предположим, что мы извлекли из монолита сервис <code>Kitchen</code>. Из-за этого придется перевести в монолитном коде такие операции как <code>createOrder()</code> и <code>cancelOrder()</code> на <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a>, чтобы сущности <code>Ticket</code> и <code>Order</code> остались согласованными.<br/>
Однако участие монолита в повествованиях не всегда проходит гладко. Например, повествования должны использовать компенсирующие транзакции для отмены изменений, однако, внедрение ком…</p></div></div><div class="tooltip_templates"><div id="Проектированиеинтеграционногослоя_tooltip_id"><p>Проектирование интеграционного слоя нужно начинать с определения того, какие API он будет предоставлять доменной логике. Существует несколько стилей интерфейсов, их выбор зависит от того, запрашиваются данные или обновляются. Если данные запрашиваются, это API лучше инкапсулировать в виде интерфейса репозитория. Если обновляются - в виде интерфейса сервиса (<code>service</code>).</p>
<p>В…</p></div></div><div class="tooltip_templates"><div id="Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id"><p>Сервисы редко бывают автономными. Обычно им приходится взаимодействовать с монолитом, как в одну сторону (сервису нужно обратиться к данным монолита или вызвать его операции), так и в другую (монолиту могут понадобиться данные и/или операции сервиса).<br/>
Одним из важных моментов является поддержание согласованности данных между сервисом и монолитом. В частности, при извлечении сервиса мы разделили то, что прежде было ACID-транзакцией. Для с…</p></div></div><div class="tooltip_templates"><div id="Реализацияновыхвозможностейввидесервисов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/law-of-holes/">Закон ямы</a> гласит “если вы оказались в яме, перестаньте копать”. Иными словами, если если монолитный проект уже большой и сложный, пора перестать добавлять в него усложняющие новые функции. Вместо этого новые функции следует реализовывать в виде сервисов.</p>
<p>Архитектура приложения после реализации новой возможности в виде сервиса.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106150706.png"/><br/>
Помимо монолита и нового сер…</p></div></div><div class="tooltip_templates"><div id="Извлечениебизнесвозможностейвсервисы_tooltip_id"><p>Для извлечения функций в сервисы необходимо брать вертикальный срез монолита, который состоит из:</p>
<li>входящих адаптеров, реализующих конечные точки API;</li>
<li>доменной логики;</li>
<li>исходящих адаптеров, таких как логика доступа к БД;</li>
<li>схемы базы данных монолита.<br/>
Вышеуказанный код извлекается из монолита и помещается в отдельный сервис.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106165113.png"/><br/>
Для извлечения сервиса может понадобиться разорвать зависимости и, возможно, разделить сущ…</li></div></div><div class="tooltip_templates"><div id="Процесспереходанамикросервисы_tooltip_id"><p>Как перейти на микросервисную архитектуру? Существуют стратегии, которые помогут выбраться из монолитного ада не переписывая всё с нуля. <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Удушающее приложение</a> - это новый проект, состоящий из микросервисов, которые являются реализацией новой функциональности или извлекаются из монолита. По мере реализации всё большего числа возможностей этот проект уменьшает и в конце концов убивает монолит. Важное преимущество по сравнению с пе…</p></div></div><div class="tooltip_templates"><div id="Стратегиипереходасмонолитанамикросервисы_tooltip_id"><p>Существует три основные стратегии для удушения монолита и постепенной замены его микросервисами.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Новые возможности в виде сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Разбиение монолита путём оформления функциональности в виде сервисов</a></li>
<p>Первая стратегия предотвращает дальнейшее развитие монолита и быстро продемонстрир…</p></div></div><div class="tooltip_templates"><div id="Переходнамикросервисы_tooltip_id"><p>Как известно, микросервисная архитектура обладает рядом <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">преимуществ</a>. Однако переход на микросервисы потребует ресурсов. В итоге такой переход будет одобрен, только если это поможет решить существенные бизнес-проблемы, например:</p>
<li><em>Медленная доставка</em>. В приложении сложно разобраться, затрудняются его обслуживание и тестирование, что снижает продуктивность разработчиков. В и…</li></div></div><div class="tooltip_templates"><div id="Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id"><p>Типичное промышленное приложение включает следующие слои:</p>
<li><em>Логика представления</em> - состоит из модулей, которые обрабатывают HTTP-запросы и генерируют HTML-страницы с пользовательским интерфейсом</li>
<li><em>Бизнес-логика</em> - состоит из модулей, реализующих бизнес-правила.</li>
<li><em>Логика доступа к данным</em> - состоит из модулей для доступа к инфраструктурным сервисам, таким как БД и брокеры сообщений.</li>
<p>Бизнес логика обычно обладает обобщенным API с одн…</p></div></div><div class="tooltip_templates"><div id="ШаблонМонолитнаяархитектура_tooltip_id"><li>Простота разработки - IDe и другие инструменты заточены на единое приложение</li>
<li>Легкость внесения радикальных изменений - так как солюшен один, IDE помогает консистентно вносить изменения</li>
<li>Простота тестирования - можно написать сквозные тесты или юнит для любой части, запуск из IDE</li>
<li>Простота развертывания - тут понятно</li>
<li>Легкость масштабирования - просто несколько экземпляров за балансировщиком</li>
<p>Вытекают из масштабов роста кодо…</p></div></div><div class="tooltip_templates"><div id="ШаблонОднаБДдлясервисов_tooltip_id"><p>Шаблон, при котором сервисы используют одну БД для хранения данных (и осуществления транзакций). В контексте микросервисной архитектуры может считаться антипаттерном.</p>
<p>https://microservices.io/patterns/data/shared-database.html</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211013203814.png"/><br/>
<em>API_шлюз</em> (API Gateway) - это сервис, который служит точкой входа в приложение из внешнего мира. <br/>
Задачи API-шлюза: [^1]</p>
<li>Маршрутизация запросов</li>
<li>Объединение API</li>
<li>Преобразование протоколов</li>
<li>Предоставляет свой API для разных типов клиентов</li>
<li>Реализует граничные функции, а именно<ul>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
</ul>
</li>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
<p>Архитектурно[^2] шлюз представляет …</p></div></div><div class="tooltip_templates"><div id="ШаблонБэкендыдляфронтендовBFF_tooltip_id"><p><code>Backends for Frontends</code><br/>
Разновидность шаблона <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюз</a>, идея которого заключается в том, что каждый API-модуль становится отдельным API-шлюзом<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016113601.png"/><br/>
Преимущества:</p>
<li>API-модули изолированы друг от друга</li>
<li>возможность независимого масштабирования</li>
<li>уменьшение времени запуска</li>
<p>https://microservices.io/patterns/apigateway.html</p></div></div><div class="tooltip_templates"><div id="ШаблонШассимикросервисов_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211103204415.png"/><br/>
Создание сервисов на основе фреймворка или группы фреймворков, которые реализуют общие, не связанные с бизнес-логикой функции, такие как:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранитель</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">работу с токенами</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">обнаружение сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">обращение к серверу конфигурации</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/observability-patterns/">наблюдаемость</a></li>
<p>Недостатком является то, что …</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211013203814.png"/><br/>
<em>API_шлюз</em> (API Gateway) - это сервис, который служит точкой входа в приложение из внешнего мира. <br/>
Задачи API-шлюза: [^1]</p>
<li>Маршрутизация запросов</li>
<li>Объединение API</li>
<li>Преобразование протоколов</li>
<li>Предоставляет свой API для разных типов клиентов</li>
<li>Реализует граничные функции, а именно<ul>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
</ul>
</li>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
<p>Архитектурно[^2] шлюз представляет …</p></div></div><div class="tooltip_templates"><div id="ШаблонБэкендыдляфронтендовBFF_tooltip_id"><p><code>Backends for Frontends</code><br/>
Разновидность шаблона <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюз</a>, идея которого заключается в том, что каждый API-модуль становится отдельным API-шлюзом<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016113601.png"/><br/>
Преимущества:</p>
<li>API-модули изолированы друг от друга</li>
<li>возможность независимого масштабирования</li>
<li>уменьшение времени запуска</li>
<p>https://microservices.io/patterns/apigateway.html</p></div></div><div class="tooltip_templates"><div id="ШаблонПредохранитель_tooltip_id"><p>Данный паттерн рассчитан на ошибки, исправление которых требует много времени. Например, обрыв соединения, отказ оборудования. В данном случае отправка повторных запросов (паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Retry</a>), скорее всего, будет бессмысленна. А если к тому же представить, что к какому-то сервису обращается много клиентов и этот сервис становится недоступным, каждый клиент начинает делать повторные попытки своих запросов к неработающему сервису - существенно увеличивается и…</p></div></div><div class="tooltip_templates"><div id="ШаблонОбнаружениенаклиентскойстороне_tooltip_id"><p>Клиент извлекает из <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестра</a> список доступных экземпляров сервиса (для снижения нагрузки может быть применено кэширование) и использует алгоритм балансирования нагрузки, чтобы выбрать конкретный экземпляр и отправить ему запрос.</p>
<p>https://microservices.io/patterns/client-side-discovery.html</p></div></div><div class="tooltip_templates"><div id="Шаблонывзаимодействия_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210826151226.png"/><br/>
Шаблоны взаимодействия делятся на пять групп</p>
<li><em>Стиль взаимодействия</em> между сервисами<ul>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Удаленный вызов процедур</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Обмен сообщениями</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Идемпотентный потребитель</a></li>
</ul>
</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Удаленный вызов процедур</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Обмен сообщениями</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Идемпотентный потребитель</a></li>
<li><em>Обнаружение</em> - Каким образом клиент сервиса узнает, куда отправить запрос?<ul>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Реестр</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Саморегистрация</a></li>
<li>[[third-party-registration-pattern|…</li>
</ul>
</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Реестр</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Саморегистрация</a></li>
<li>[[third-party-registration-pattern|…</li></div></div><div class="tooltip_templates"><div id="ШаблонИдемпотентныйпотребитель_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916201007.png"/><br/>
Предлагается сохранять идентификатор каждого сообщения, которое уже обрабатывалось. Например, можно записывать идентификаторы в таблицу обработанных сообщений в процессе транзакции бизнес-логики. Или (наиболее полезно для NoSQL БД, если они не поддерживают обновление нескольких таблиц в рамках транзакции) записывать идентификаторы прямо в таблицу приложения.</p>
<p>https://microservices.io/patterns/communication-style/i…</p></div></div><div class="tooltip_templates"><div id="ШаблонОбменсообщениями_tooltip_id"><p>Сервисы асинхронно коммуницируют путём обмена сообщениями.<br/>
Существуют следующие стили асинхронной коммуникации:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-response-messaging/">Запрос/ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/notifications-messaging/">Уведомления</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">Запрос/асинхронный ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-subscribe-messaging/">Публикация/подписка</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-async-response-messaging/">Публикация/асинхронный ответ</a></li>
<p>[[ch-3-messaging-styles-realization|Из книги “Шаблоны проектирования ми…</p></div></div><div class="tooltip_templates"><div id="ШаблонОпрашивающийиздатель_tooltip_id"><p>Пусть приложение использует реляционную БД, и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">хранит сообщения</a> в таблице <code>OUTBOX</code>. Ретранслятор может вычитывать из этой таблицы неопубликованные записи обычным SQL запросом типа<br/>
<code>sql
SELECT * FROM OUTBOX ORDERED BY ... ASC</code><br/>
Затем он публикует полученные сообщения в соответствующие каналы брокера. После успешной (!) публикации сообщения можно удалить:<br/>
<code>sql
DELETE FROM OUTBOX WHERE ID IN (...)</code></p>
<p>https://microserv…</p></div></div><div class="tooltip_templates"><div id="ШаблонПовтор_tooltip_id"><p><strong>Повтор (Retry)</strong> - это архитектурный паттерн, который позволяет определять стратегию по восстановлению после временных ошибок.<br/>
Вот несколько примеров таких ошибок:<br/>
⦁ проблемы с интернет соединением;<br/>
⦁ повышенная нагрузка на внешний компонент/систему.</p>
<p>Как видно, все эти ошибки являются восстанавливаемыми. И в случае их возникновения есть смысл повторить запрос немедленно или через некоторую задержку вместо логирования ошибки и возвращения ошибочного результата.</p></div></div><div class="tooltip_templates"><div id="ШаблонУдаленныйвызовпроцедур_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210906202710.png"/><br/>
Принцип работы.<br/>
Клиентская бизнес-логика обращается к <em>прокси-интерфейсу</em>, реализованному классом-адаптером <em>RPI-прокси</em>. RPI-прокси выполняет запрос к сервису. Запрос обрабатывается классом-адаптером <em>RPI-сервер</em>, который вызывает бизнес-логику сервиса через интерфейс. Затем ответ передается обратно в RPI-прокси, который возвращает результат клиентской бизнес-логике.<br/>
<em>Прокси-интрефейс</em> обычно инкапсулирует исходный коммуни…</p></div></div><div class="tooltip_templates"><div id="ШаблонСаморегистрация_tooltip_id"><p>Экземпляр сервиса регистрирует себя в реестре.</p>
<p>https://microservices.io/patterns/self-registration.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОбнаружениенасторонесервера_tooltip_id"><p>Клиент обращается (по известному имени) к маршрутизатору, который идёт в <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестр</a> за актуальными адресами и балансирует нагрузку.</p>
<p>https://microservices.io/patterns/server-side-discovery.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРеестрсервисов_tooltip_id"><p>БД, хранящая актуальные адреса сервисов. Сервисы регистрируются (<a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">сами</a> или не сами) в реестре при старте и удаляются из реестра при выключении. Также реестр может обращаться к Healthcheck API  для проверки доступности экземпляров.</p>
<p>https://microservices.io/patterns/service-registry.html</p></div></div><div class="tooltip_templates"><div id="ШаблонСторонняярегистрация_tooltip_id"><p>В <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестре</a> сервис регистрируется сторонней сущностью - <em>регистратором</em>, который обычно является компонентом платформы развертывания.</p>
<p>https://microservices.io/patterns/3rd-party-registration.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниетранзакционногожурнала_tooltip_id"><p>Суть в том, что ретранслятор <em>отслеживает</em> транзакционный журнал БД. Каждое обновление БД (в том числе <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">вставка</a> в <code>OUTBOX</code> ) представляется в виде записи в журнале транзакций. Можно прочитать этот журнал и опубликовать каждое изменение в качестве сообщения для брокера.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916210026.png"/><br/>
<em>Анализатор журнала транзакций</em> читает записи в журнале и каждую подходящую запись преобразует в событие и публик…</p></div></div><div class="tooltip_templates"><div id="ШаблонпубликациясобытийилиOutbox_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916203747.png"/><br/>
Предположим, что у приложения есть реляционная БД. Используем специальную таблицу <code>OUTBOX</code> для вставки сообщений в рамках транзакции бизнес-логики.<br/>
Далее <em>ретранслятор</em> (это компонент сервиса) вычитывает сообщения из этой таблицы и отдает брокеру.<br/>
Если у нас NoSQL БД, добавляем поле со списком сообщений, которые нужно отправить, к каждому бизнес-объекту, порождающему сообщения. Это атомарная операция. Трудностью тут бу…</p></div></div><div class="tooltip_templates"><div id="Каналсообщений_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210911181218.png"/><br/>
Сообщения передаются по каналам. Бизнес-логика отправителя обращается к <em>исходящему порту</em>, реализованному классом <em>отправителя</em>, который отправляет сообщение через канал. <em>Канал сообщений</em> - инфраструктурная абстракция. Для обработки сообщения класс-адаптер <em>обработчика сообщений</em>, который обращается к интерфейсу <em>входящего порта</em>, реализованному бизнес-логикой получателя.<br/>
Существует два вида каналов:</p>
<li>[[point-to-point-channel|Точка-точка]…</li></div></div><div class="tooltip_templates"><div id="Cообщение_tooltip_id"><p>Сообщение состоит из заголовка и тела.<br/>
<em>Заголовок</em> - это набор пар “ключ - значение”, метаданные. Также в заголовке есть <em>идентификатор сообщения</em>, проставляемый либо отправителем, либо инфраструктурой, и необязательный <em>обратный адрес</em> с указанием канала, куда следует записать ответ.<br/>
<em>Тело</em> сообщения - отправляемые данные.<br/>
Существует несколько разных видов сообщений</p>
<li><em>Документ</em> - обобщенное сообщение, содержащее только данные; например - ответ на команду. Получатель сам решает, как…</li></div></div><div class="tooltip_templates"><div id="СтильУведомления_tooltip_id"><p><em>Уведомления</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет сообщение или управляющую команду, не ожидая при этом ответа.</p></div></div><div class="tooltip_templates"><div id="КаналТочкаточка_tooltip_id"><p><em>Канал вида “точка-точка”</em> доставляет сообщения ровно одному потребителю. Сервисы используют такие каналы для взаимодействия вида “один к одному”, например для передачи команд.</p>
<p>https://www.enterpriseintegrationpatterns.com/PointToPointChannel.html</p></div></div><div class="tooltip_templates"><div id="СтильПубликацияасинхронныйответ_tooltip_id"><p><em>Публикация - асинхронный ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент публикует запрос к одному или более абонентам, некоторые из которых присылают ответ.</p></div></div><div class="tooltip_templates"><div id="Канализдательподписчик_tooltip_id"><p><em>Канал вида “издатель-подписчик”</em> доставляет каждое сообщение всем подключенным потребителям. Сервисы применяют такие каналы для взаимодействия вида “один ко многим”, например, для рассылки событий.</p>
<p>https://www.enterpriseintegrationpatterns.com/PublishSubscribeChannel.html</p></div></div><div class="tooltip_templates"><div id="Стильпубликацияподписка_tooltip_id"><p><em>Публикация - подписка</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент публикует сообщение для нуля или более подписчиков.</p></div></div><div class="tooltip_templates"><div id="СтильЗапросасинхронныйответ_tooltip_id"><p><em>Запрос - асинхронный ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет запрос, рассчитывая получить ответ “когда-нибудь”.</p></div></div><div class="tooltip_templates"><div id="СтильЗапросответ_tooltip_id"><p><em>Запрос-ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет запрос, и ожидает вскоре получить ответ.</p></div></div><div class="tooltip_templates"><div id="ШаблонКонфигурациявынесеннаявовне_tooltip_id"><p>Предоставляет запущенному сервису значения конфигурационных свойств, такие как учётные данные для доступа к БД и сетевое размещение.<br/>
Есть два основных подхода:</p>
<li><em>Пассивная модель</em> [^1]. Инфраструктура развертывания передает экземпляру сервиса конфигурационные свойства, используя, к примеру, переменные системного окружения или конфигурационный файл.</li>
<li><em>Активная модель</em>[^2]. Экземпляр сервиса сам берет конфигурационные свойства с сервера конфигурации.</li>
<p>[^…</p></div></div><div class="tooltip_templates"><div id="ШаблонАгрегатизDDD_tooltip_id"><p><em>Агрегат</em> - это кластер доменных объектов, с которыми можно обращаться как с единым целым. Он состоит из одной сущности и иногда одной или нескольких сущностей и объектов значений.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923205357.png"/><br/>
Агрегаты разбивают доменную модель на блоки, а также проясняют область применения операций, таких как загрузка, обновление и удаление. Эти операции распространяются на весь агрегат.</p>
<p>Обновление целого агрегата, а не…</p></div></div><div class="tooltip_templates"><div id="Шаблонысогласованностиданных_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">Своя БД для сервиса</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Одна БД для всех сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">Повествование (сага)</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Агрегат</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Доменное событие</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a></li></div></div><div class="tooltip_templates"><div id="ШаблонСвояБДусервиса_tooltip_id"><p>У каждого сервиса есть своя БД для хранения данных. Извне данные доступны только через API.</p>
<p>https://microservices.io/patterns/data/database-per-service.html</p></div></div><div class="tooltip_templates"><div id="ШаблонДоменноесобытиеизDDD_tooltip_id"><p><em>Доменное событие</em> - это класс с именем на основе страдательного причастия прошедшего времени (создан, удалён и т.д.). Он содержит свойства, которые выразительно передают это событие. Например, класс события <code>OrderCreated</code> содержит <code>orderId</code>.<br/>
Также у доменного события есть метаданные, такие как идентификатор и timestamp. Также может быть id пользователя, сделавшего изменение и id агрегата, сгенерировавшего событие. Метаданные могут быть как в самом классе, так …</p></div></div><div class="tooltip_templates"><div id="ШаблонПорождениесобытий_tooltip_id"><p>Сохраняет <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">агрегат</a> в виде последовательности <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">доменных событий</a>, которые представляют изменение состояния. Приложение воссоздает текущее состояние, воспроизводя записанные события.<br/>
События сохраняются в <em>хранилище событий</em> (event store), у которого есть API для добавления и получения событий сущности. Также хранилище событий выполняет роль брокера сообщений - у него есть API для подписки на события.<br/>
Если для какой-то сущно…</p></div></div><div class="tooltip_templates"><div id="ШаблонОднаБДдлясервисов_tooltip_id"><p>Шаблон, при котором сервисы используют одну БД для хранения данных (и осуществления транзакций). В контексте микросервисной архитектуры может считаться антипаттерном.</p>
<p>https://microservices.io/patterns/data/shared-database.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРазбиениепобизнесвозможностям_tooltip_id"><p>Концепция “бизнес-возможности” применяется в моделировании бизнес-структур и обозначает то, из чего бизнес генерирует прибыль. Бизнес-возможности организации описывают то, <em>чем</em> она является. Обычно бизнес-возможности стабильны, в отличие от того, <em>как</em> организация ведет свой бизнес.<br/>
Бизнес-возможности организации определяются путём анализа ее целей, структуры и бизнес-процессов.<br/>
Бизнес-возможность часто сосредоточена на определенном бизнес-объекте. Во…</p></div></div><div class="tooltip_templates"><div id="Шаблондекомпозицияпоподдомену_tooltip_id"><p>Ключевой является доменная модель. <em>Доменная модель</em> организует информацию о проблемной области в формате, который можно применять для решения проблем в этой области. Она определяет  терминологию, используемую внутри команды - <em>язык описания</em>. Лежит в основе предметно-ориентированного проектирования (<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">domain-driven design, DDD</a>).<br/>
Единая доменная модель для всей организации может быть довольно запутанной. DDD предлагает решать эту п…</p></div></div><div class="tooltip_templates"><div id="Шаблоныдляразбиенияприложениянамикросервисы_tooltip_id"><p>На данный момент в группе четыре шаблона</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-business-capability-pattern/">Разбиение на сервисы по бизнес-возможностям</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-subdomain-pattern/">Разбиение по субдоменам(проблемным областям)</a></li>
<li><a class="wikilink" href="self-contained-service-pattern">Автономный сервис</a></li>
<li><a class="wikilink" href="service-per-team-pattern">Сервис на команду</a></li></div></div><div class="tooltip_templates"><div id="Чтотакоесервис_tooltip_id"><p><em>Сервис</em> - это автономный, независимо развертываемый программный компонент, который реализует определенные полезные функции.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829153758.png"/><br/>
Рассмотрим пример. Сервис обладает API, который инкапсулирует его реализацию. API определяет операции, вызываемые клиентами. Существуют два типа операций - команды (обновляют данные) и запросы (извлекают данные). При изменении данных запрос публикует события.</p>
<p>http://chrisrichardson.net/post/microservices/ge…</p></div></div><div class="tooltip_templates"><div id="Шаблоныразвертываниясервисов_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-mesh-pattern/">Сеть сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/language-specific-packaging-pattern/">Формат пакетов для определенного языка</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-vm-pattern/">Развертывание сервиса в виде ВМ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-container-pattern/">Развертывание сервиса в виде контейнера</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/serverless-deployment-pattern/">Бессерверное развертывание</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-deployment-platform-pattern/">Платформа развертывания</a></li></div></div><div class="tooltip_templates"><div id="ШаблонФорматпакетовдляопределенногоязыка_tooltip_id"><p>Развертывает в промышленную среду пакеты, предназначенные для определенного языка.<br/>
На компьютере разворачивается, если необходимо, среда выполнения для определенного языка, и затем запускается экземпляр, либо несколько экземпляров сервиса. Для определенных языков имеется возможность запустить несколько экземпляров сервиса (или разных сервисов) в одном процессе ОС.</p>
<li>Быстрое развертывание</li>
<li>Эффективное использование ресурсов, особе…</li></div></div><div class="tooltip_templates"><div id="ШаблонБессерверноеразвертывание_tooltip_id"><p>Развертывает сервисы при помощи бессерверного механизма, предоставляемого публичным облаком.</p>
<li>Избавление от многих задач системного администрирования. Нет нужды заботиться об обновлении ОС и сред выполнения</li>
<li>Эластичность. Бессерверная среда запускает экземпляры приложения в количестве, достаточном, чтобы справиться с нагрузкой.</li>
<li>Тарифы, основанные на потреблении. Бессерверные механизмы позволяют взимать плату только за ресурсы, потраченные…</li></div></div><div class="tooltip_templates"><div id="ШаблонПлатформаразвертывания_tooltip_id"><p>Использует для развертывания специальное инфраструктурное решение.</p>
<li>Оркестраторы контейнеров, такие как Kubernetes</li>
<li>Бессерверные платформы, такие как AWS Lambda</li>
<li>PaaS, такие как Cloud Foundry или AWS Elastic Beanstalk</li>
<p>https://microservices.io/patterns/deployment/service-deployment-platform.html</p></div></div><div class="tooltip_templates"><div id="ШаблонСетьсервисов_tooltip_id"><p>Пропускает весь трафик между сервисами через сетевой слой, реализующий такие функции как <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранители</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">распределенная трассировка</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/server-side-discovery-pattern/">обнаружение сервисов</a>, балансирование нагрузки и маршрутизация трафика.<br/>
Некоторые реализации сети сервисов:</p>
<li><a href="https://istio.io/">Istio</a></li>
<li><a href="https://linkerd.io/">Linkerd</a></li>
<p>https://microservices.io/patterns/deployment/service-mesh.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРазвертываниесервисаввидеконтейнера_tooltip_id"><p>Развертывает в среде выполнения сервис, упакованный в виде контейнера. Каждый экземпляр сервиса является отдельным контейнером.</p>
<li>Инкапсуляция стека технологий</li>
<li>Изоляция экземпляров</li>
<li>Ограничение ресурсов, доступных экземпляру.</li>
<li>Легковесность, и, засчёт этого, быстрота развертывания.</li>
<li>Необходимо заниматься администрированием образов контейнеров и обновлением ОС</li>
<li>Если не используется облачное контейнерное решение…</li></div></div><div class="tooltip_templates"><div id="ШаблонРазвертываниесервисаввидеВМ_tooltip_id"><p>Развертывает в промышленной среде сервисы, упакованные в виде образов для виртуальных машин. Каждый экземпляр сервиса является отдельной ВМ.</p>
<li>Образ ВМ инкапсулирует стек технологий.</li>
<li>Экземпляры сервиса изолированы.</li>
<li>Используется зрелая облачная инфраструктрура со всеми ее преимуществами - планированием размещения, возможностью автомасштабирования и балансировкой трафика.</li>
<li>Менее эффективное использование ресурсов. Каждый…</li></div></div><div class="tooltip_templates"><div id="Контрмерапозначению_tooltip_id"><p>Это стратегия выбора механизмов конкурентности на основе бизнес-рисков. Приложение использует свойства запросов, чтобы сделать выбор между повествованиями и распределенными транзакциями.</p></div></div><div class="tooltip_templates"><div id="Контрмеракоммутативныеобновления_tooltip_id"><p>Операции обновления необходимо по возможности проектировать коммутативными. В этом случае не будет проблем с выполнением <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-compensating/">компенсирующих</a> транзакций даже, если между компенсируемой и компенсирующей транзакциями были другие.</p></div></div><div class="tooltip_templates"><div id="Контрмерапессимистическоепредставление_tooltip_id"><p>Для этого меняем местами этапы повествования, чтобы снизить бизнес-риски, связанные с грязным чтением. <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Isolation%20Problems%20and%20Countermeasures/dirty-reading-problem/">В примере</a> повествование <code>Create Order</code> выполняет грязное чтение доступных кредитных средств. Чтобы уменьшить вероятность этого, переставим этапы:</p>
<li>Сервис <code>Order</code> меняет состояние заказа на <code>CANCELLED</code>;</li>
<li>Сервис <code>Delivery</code> отменяет доставку.</li>
<li>Сервис <code>Consumer</code> увеличивает доступный кредит;<br/>
Видно, теперь что этап 2 - [[sa…</li></div></div><div class="tooltip_templates"><div id="Контрмераповторноечтениезначения_tooltip_id"><p>Предотвращает потерю обновлений. Повествование, использующее эту контрмеру, повторно считывает запись перед ее обновлением, убеждается в том, что та не изменилась и только потом обновляет. Если запись изменилась, повествование прекращает работу (при этом запускаются компенсирующие транзакции) и, возможно, запускается заново. Это разновидность шаблона “Оптимистическая автономная блокировка”<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<li id="fn:1">
<p>https://martinfowler.com/eaaCatalog/optimisticOfflineLock… <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p>https://martinfowler.com/eaaCatalog/optimisticOfflineLock… <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Контрмерасемантическаяблокировка_tooltip_id"><p>При использовании семантической блокировки <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-compensating/">компенсируемая транзакция</a> устанавливает флаг во всех записях, которые она создает или обновляет. Флаг говорит о том, что запись <em>не зафиксирована</em> и может измениться. Флаг сбрасывается либо повторяемой (повествование успешно завершается), либо компенсирующей транзакцией (повествование откатывается обратно).<br/>
Также нужно решить, как каждое отдельное повествование будет обращаться с заблокированн…</p></div></div><div class="tooltip_templates"><div id="Контрмерафайлверсий_tooltip_id"><p><em>Файл версий</em> назван так потому, что в него записываются операции, которые выполняются с записью. Благодаря этому порядок следования операций можно менять. Это способ превращения некоммутативных операций в коммутативные.</p>
<p>Рассмотрим сценарий, в котором повествования <code>Create Order</code> и <code>Cancel Order</code> выполняются параллельно. Если не применяется <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Isolation%20Problems%20and%20Countermeasures/semantic-lock-countermeasure/">семантическая блокировка</a>, существует вероятность того, что <code>Cancel Order</code> отменит авторизацию кар…</p></div></div><div class="tooltip_templates"><div id="Грязноечтение_tooltip_id"><p>“Грязным” называют чтение, которое происходит в процессе обновления данных другим повествованием.<br/>
Пусть есть некий сервис заказов с поддержкой кредитного лимита. Тогда повествование, <em>отменяющее заказ</em>, состоит из следующих транзакций:</p>
<li>Сервис <code>Consumer</code> увеличивает доступный кредит;</li>
<li>Сервис <code>Order</code> меняет состояние заказа на <code>CANCELLED</code>;</li>
<li>Сервис <code>Delivery</code> отменяет доставку.</li>
<p>Теперь предстваим, что во время выполнения повествований <code>Cancel Order</code> и <code>Create Order</code> первое от…</p></div></div><div class="tooltip_templates"><div id="Нечеткоечтение_tooltip_id"><p>Аномалия, при которой два разных типа повествования читают одни и те же данные,но получают разные результаты, потому что другое повествование внесло изменения. (Аналог race condition в параллельных вычислениях)</p></div></div><div class="tooltip_templates"><div id="Потеряныеобновления_tooltip_id"><p>Эта аномалия возникает, когда повествование перезаписывает обновление, сделанное другим повествованием. Например:</p>
<li>Первый этап повествования <code>Create Order</code>создает заказ.</li>
<li>Пока это повествование выполняется, повествование <code>Cancel Order</code> отменяет заказ.</li>
<li>На завершающем этапе <code>Create Order</code> отменяет заказ.</li>
<p>В этой ситуации <code>Creat Order</code> Игнорирует и перезаписывает обновление, выполненное повествованием <code>Cancel Order</code>. В итоге может отправиться отмененный заказ.</p></div></div><div class="tooltip_templates"><div id="ШаблонИдемпотентныйпотребитель_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916201007.png"/><br/>
Предлагается сохранять идентификатор каждого сообщения, которое уже обрабатывалось. Например, можно записывать идентификаторы в таблицу обработанных сообщений в процессе транзакции бизнес-логики. Или (наиболее полезно для NoSQL БД, если они не поддерживают обновление нескольких таблиц в рамках транзакции) записывать идентификаторы прямо в таблицу приложения.</p>
<p>https://microservices.io/patterns/communication-style/i…</p></div></div><div class="tooltip_templates"><div id="ШаблонОбменсообщениями_tooltip_id"><p>Сервисы асинхронно коммуницируют путём обмена сообщениями.<br/>
Существуют следующие стили асинхронной коммуникации:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-response-messaging/">Запрос/ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/notifications-messaging/">Уведомления</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">Запрос/асинхронный ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-subscribe-messaging/">Публикация/подписка</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-async-response-messaging/">Публикация/асинхронный ответ</a></li>
<p>[[ch-3-messaging-styles-realization|Из книги “Шаблоны проектирования ми…</p></div></div><div class="tooltip_templates"><div id="ШаблонОпрашивающийиздатель_tooltip_id"><p>Пусть приложение использует реляционную БД, и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">хранит сообщения</a> в таблице <code>OUTBOX</code>. Ретранслятор может вычитывать из этой таблицы неопубликованные записи обычным SQL запросом типа<br/>
<code>sql
SELECT * FROM OUTBOX ORDERED BY ... ASC</code><br/>
Затем он публикует полученные сообщения в соответствующие каналы брокера. После успешной (!) публикации сообщения можно удалить:<br/>
<code>sql
DELETE FROM OUTBOX WHERE ID IN (...)</code></p>
<p>https://microserv…</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниетранзакционногожурнала_tooltip_id"><p>Суть в том, что ретранслятор <em>отслеживает</em> транзакционный журнал БД. Каждое обновление БД (в том числе <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">вставка</a> в <code>OUTBOX</code> ) представляется в виде записи в журнале транзакций. Можно прочитать этот журнал и опубликовать каждое изменение в качестве сообщения для брокера.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916210026.png"/><br/>
<em>Анализатор журнала транзакций</em> читает записи в журнале и каждую подходящую запись преобразует в событие и публик…</p></div></div><div class="tooltip_templates"><div id="ШаблонпубликациясобытийилиOutbox_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916203747.png"/><br/>
Предположим, что у приложения есть реляционная БД. Используем специальную таблицу <code>OUTBOX</code> для вставки сообщений в рамках транзакции бизнес-логики.<br/>
Далее <em>ретранслятор</em> (это компонент сервиса) вычитывает сообщения из этой таблицы и отдает брокеру.<br/>
Если у нас NoSQL БД, добавляем поле со списком сообщений, которые нужно отправить, к каждому бизнес-объекту, порождающему сообщения. Это атомарная операция. Трудностью тут бу…</p></div></div><div class="tooltip_templates"><div id="Каналсообщений_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210911181218.png"/><br/>
Сообщения передаются по каналам. Бизнес-логика отправителя обращается к <em>исходящему порту</em>, реализованному классом <em>отправителя</em>, который отправляет сообщение через канал. <em>Канал сообщений</em> - инфраструктурная абстракция. Для обработки сообщения класс-адаптер <em>обработчика сообщений</em>, который обращается к интерфейсу <em>входящего порта</em>, реализованному бизнес-логикой получателя.<br/>
Существует два вида каналов:</p>
<li>[[point-to-point-channel|Точка-точка]…</li></div></div><div class="tooltip_templates"><div id="Cообщение_tooltip_id"><p>Сообщение состоит из заголовка и тела.<br/>
<em>Заголовок</em> - это набор пар “ключ - значение”, метаданные. Также в заголовке есть <em>идентификатор сообщения</em>, проставляемый либо отправителем, либо инфраструктурой, и необязательный <em>обратный адрес</em> с указанием канала, куда следует записать ответ.<br/>
<em>Тело</em> сообщения - отправляемые данные.<br/>
Существует несколько разных видов сообщений</p>
<li><em>Документ</em> - обобщенное сообщение, содержащее только данные; например - ответ на команду. Получатель сам решает, как…</li></div></div><div class="tooltip_templates"><div id="СтильУведомления_tooltip_id"><p><em>Уведомления</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет сообщение или управляющую команду, не ожидая при этом ответа.</p></div></div><div class="tooltip_templates"><div id="КаналТочкаточка_tooltip_id"><p><em>Канал вида “точка-точка”</em> доставляет сообщения ровно одному потребителю. Сервисы используют такие каналы для взаимодействия вида “один к одному”, например для передачи команд.</p>
<p>https://www.enterpriseintegrationpatterns.com/PointToPointChannel.html</p></div></div><div class="tooltip_templates"><div id="СтильПубликацияасинхронныйответ_tooltip_id"><p><em>Публикация - асинхронный ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент публикует запрос к одному или более абонентам, некоторые из которых присылают ответ.</p></div></div><div class="tooltip_templates"><div id="Канализдательподписчик_tooltip_id"><p><em>Канал вида “издатель-подписчик”</em> доставляет каждое сообщение всем подключенным потребителям. Сервисы применяют такие каналы для взаимодействия вида “один ко многим”, например, для рассылки событий.</p>
<p>https://www.enterpriseintegrationpatterns.com/PublishSubscribeChannel.html</p></div></div><div class="tooltip_templates"><div id="Стильпубликацияподписка_tooltip_id"><p><em>Публикация - подписка</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент публикует сообщение для нуля или более подписчиков.</p></div></div><div class="tooltip_templates"><div id="СтильЗапросасинхронныйответ_tooltip_id"><p><em>Запрос - асинхронный ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет запрос, рассчитывая получить ответ “когда-нибудь”.</p></div></div><div class="tooltip_templates"><div id="СтильЗапросответ_tooltip_id"><p><em>Запрос-ответ</em> - стиль <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">асинхронной коммуникации</a>, при котором клиент отправляет запрос, и ожидает вскоре получить ответ.</p></div></div><div class="tooltip_templates"><div id="ШаблонМетрикиприложения_tooltip_id"><p>Сервис шлет отчеты центральному серверу, который предоставляет агрегацию, визуализацию и оповещения.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102222914.png"/></p>
<p>Существуют разные библиотеки для сбора показателей, например, для Java есть библиотека Micrometer Metrics.</p>
<p>Собранные данные могут попасть от сервиса двумя способами</p>
<li><em>пассивный</em> - экземпляр сервиса сам шлет показатели серверу, вызывая его API. Пр…</li></div></div><div class="tooltip_templates"><div id="ШаблонВедениежурналааудита_tooltip_id"><p>Записывает действия пользователя в БД, чтобы помочь службе поддержки обеспечить соблюдение правовых норм и обнаружить подозрительную активность.<br/>
Ведение журнала аудита можно реализовать разными способами:</p>
<li><em>Добавить код ведения журнала в бизнес-логику</em>. Недостаток метода состоит в том, что он связывает код ведения журнала аудита и бизнес-логику.</li>
<li><em>Задействовать аспектно-ориентированное программирование</em>. При использовании АОП-фреймворка он перехватывает вызов …</li></div></div><div class="tooltip_templates"><div id="ШаблонРаспределеннаятрассировка_tooltip_id"><p>Назначает каждому внешнему запросу уникальный идентификатор и отправляет данные о его перемещениях по системе от одного сервиса к другому на центральный сервер, который предоставляет визуализацию и возможность анализа.<br/>
Также сервис может включать этот идентификатор в свои логи, что позволяет проанализировать всю историю прохождения запроса.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102214736.png"/><br/>
Распределенная трассировка состоит из двух частей: библиотеки инструментирования, …</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниеисключений_tooltip_id"><p>Сервис сообщает об исключениях центральному сервису, который их дедуплицирует, отслеживает их исправление и генерирует оповещения.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211103194708.png"/><br/>
Существует некоторое количество сервисов отслеживания исключений, например <a href="https://www.honeybadger.io/">Honeybadger</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">Sentry</a></p>
<p>https://microservices.io/patterns/observability/exception-tracking.html</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIпроверкиработоспособности_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211101203918.png"/><br/>
Сервис открывает доступ к конечной точке наподобие <code>GET \health</code>, которая возвращает данные о работоспособности сервиса. Инфраструктура развертывания периодически обращается по соответствующему адресу, чтобы понять, в каком состоянии находится экземпляр сервиса, и, возможно, принять необходимые меры.</p>
<p>Код, реализующий конечную точку для проверки работоспособно…</p></div></div><div class="tooltip_templates"><div id="ШаблонАгрегацияжурналов_tooltip_id"><p>Агрегирует журналы всех сервисов в центральной базе данных с поддержкой поиска и уведомлений.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102212457.png"/><br/>
Как только сервер сохранит изменения в логах сервисов, их можно просматривать и анализировать, осуществлять по ним поиск и генерировать уведомления.</p>
<p>В большинстве языков программирования есть одна или несколько библиотек для ведения журналов, облегчающих генерацию правильно структурированных записей. Можно…</p></div></div><div class="tooltip_templates"><div id="Шаблонынаблюдаемости_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">Шаблон “API проверки работоспособности”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/log-aggregation-pattern/">Шаблон “Агрегация журналов”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">Шаблон “Распределенная трассировка”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/exception-tracking-pattern/">Шаблон “Отслеживание исключений”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/application-metrics-pattern/">Шаблон “Метрики приложения”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/audit-logging-pattern/">Шаблон “Ведение журнала аудита”</a></li></div></div><div class="tooltip_templates"><div id="Sentry_tooltip_id"><p>Sentry - сервис для мониторинга и агрегирования ошибок. Можно либо использовать облачный вариант сервиса (sentry.io), либо развернуть on-prermise на собственном сервере.</p>
<p>Основная идея Sentry заключается в агрегировании каждой отдельной ошибки (в Sentry такая ошибка называется event) в группы (issue). <br/>
Группировка осуществляется самим сервисом либо на основе некоторой внутренней эвристики, либо кодом приложения - при отправке ивента нужно заполнить специальное поле <code>fingerprint</code>, либо (…</p></div></div><div class="tooltip_templates"><div id="ШаблонМикросервиснаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829152253.png"/><br/>
Микросервисная архитектура - это архитектурный стиль, при котором <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представление реализации</a> структурируется в виде набора компонентов - исполняемых или WAR файлов. Компоненты - это <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/service-definition/">сервисы</a>, коннекторы - коммуникационные протоколы. Каждый сервис имеет свою архитектуру <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логического представления</a> (например, [[ch-2-h…</p></div></div><div class="tooltip_templates"><div id="ШаблонМонолитнаяархитектура_tooltip_id"><li>Простота разработки - IDe и другие инструменты заточены на единое приложение</li>
<li>Легкость внесения радикальных изменений - так как солюшен один, IDE помогает консистентно вносить изменения</li>
<li>Простота тестирования - можно написать сквозные тесты или юнит для любой части, запуск из IDE</li>
<li>Простота развертывания - тут понятно</li>
<li>Легкость масштабирования - просто несколько экземпляров за балансировщиком</li>
<p>Вытекают из масштабов роста кодо…</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211013203814.png"/><br/>
<em>API_шлюз</em> (API Gateway) - это сервис, который служит точкой входа в приложение из внешнего мира. <br/>
Задачи API-шлюза: [^1]</p>
<li>Маршрутизация запросов</li>
<li>Объединение API</li>
<li>Преобразование протоколов</li>
<li>Предоставляет свой API для разных типов клиентов</li>
<li>Реализует граничные функции, а именно<ul>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
</ul>
</li>
<li>аутентификацию</li>
<li>авторизацию</li>
<li>ограничение частоты запросов</li>
<li>кэширование</li>
<li>сбор метрик</li>
<li>ведение журнала запросов</li>
<p>Архитектурно[^2] шлюз представляет …</p></div></div><div class="tooltip_templates"><div id="ШаблонБэкендыдляфронтендовBFF_tooltip_id"><p><code>Backends for Frontends</code><br/>
Разновидность шаблона <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюз</a>, идея которого заключается в том, что каждый API-модуль становится отдельным API-шлюзом<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016113601.png"/><br/>
Преимущества:</p>
<li>API-модули изолированы друг от друга</li>
<li>возможность независимого масштабирования</li>
<li>уменьшение времени запуска</li>
<p>https://microservices.io/patterns/apigateway.html</p></div></div><div class="tooltip_templates"><div id="ШаблонПредохранитель_tooltip_id"><p>Данный паттерн рассчитан на ошибки, исправление которых требует много времени. Например, обрыв соединения, отказ оборудования. В данном случае отправка повторных запросов (паттерн <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/retry-pattern/">Retry</a>), скорее всего, будет бессмысленна. А если к тому же представить, что к какому-то сервису обращается много клиентов и этот сервис становится недоступным, каждый клиент начинает делать повторные попытки своих запросов к неработающему сервису - существенно увеличивается и…</p></div></div><div class="tooltip_templates"><div id="ШаблонОбнаружениенаклиентскойстороне_tooltip_id"><p>Клиент извлекает из <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестра</a> список доступных экземпляров сервиса (для снижения нагрузки может быть применено кэширование) и использует алгоритм балансирования нагрузки, чтобы выбрать конкретный экземпляр и отправить ему запрос.</p>
<p>https://microservices.io/patterns/client-side-discovery.html</p></div></div><div class="tooltip_templates"><div id="ШаблонИдемпотентныйпотребитель_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916201007.png"/><br/>
Предлагается сохранять идентификатор каждого сообщения, которое уже обрабатывалось. Например, можно записывать идентификаторы в таблицу обработанных сообщений в процессе транзакции бизнес-логики. Или (наиболее полезно для NoSQL БД, если они не поддерживают обновление нескольких таблиц в рамках транзакции) записывать идентификаторы прямо в таблицу приложения.</p>
<p>https://microservices.io/patterns/communication-style/i…</p></div></div><div class="tooltip_templates"><div id="ШаблонОбменсообщениями_tooltip_id"><p>Сервисы асинхронно коммуницируют путём обмена сообщениями.<br/>
Существуют следующие стили асинхронной коммуникации:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-response-messaging/">Запрос/ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/notifications-messaging/">Уведомления</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">Запрос/асинхронный ответ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-subscribe-messaging/">Публикация/подписка</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/publish-async-response-messaging/">Публикация/асинхронный ответ</a></li>
<p>[[ch-3-messaging-styles-realization|Из книги “Шаблоны проектирования ми…</p></div></div><div class="tooltip_templates"><div id="ШаблонОпрашивающийиздатель_tooltip_id"><p>Пусть приложение использует реляционную БД, и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">хранит сообщения</a> в таблице <code>OUTBOX</code>. Ретранслятор может вычитывать из этой таблицы неопубликованные записи обычным SQL запросом типа<br/>
<code>sql
SELECT * FROM OUTBOX ORDERED BY ... ASC</code><br/>
Затем он публикует полученные сообщения в соответствующие каналы брокера. После успешной (!) публикации сообщения можно удалить:<br/>
<code>sql
DELETE FROM OUTBOX WHERE ID IN (...)</code></p>
<p>https://microserv…</p></div></div><div class="tooltip_templates"><div id="ШаблонПовтор_tooltip_id"><p><strong>Повтор (Retry)</strong> - это архитектурный паттерн, который позволяет определять стратегию по восстановлению после временных ошибок.<br/>
Вот несколько примеров таких ошибок:<br/>
⦁ проблемы с интернет соединением;<br/>
⦁ повышенная нагрузка на внешний компонент/систему.</p>
<p>Как видно, все эти ошибки являются восстанавливаемыми. И в случае их возникновения есть смысл повторить запрос немедленно или через некоторую задержку вместо логирования ошибки и возвращения ошибочного результата.</p></div></div><div class="tooltip_templates"><div id="ШаблонУдаленныйвызовпроцедур_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210906202710.png"/><br/>
Принцип работы.<br/>
Клиентская бизнес-логика обращается к <em>прокси-интерфейсу</em>, реализованному классом-адаптером <em>RPI-прокси</em>. RPI-прокси выполняет запрос к сервису. Запрос обрабатывается классом-адаптером <em>RPI-сервер</em>, который вызывает бизнес-логику сервиса через интерфейс. Затем ответ передается обратно в RPI-прокси, который возвращает результат клиентской бизнес-логике.<br/>
<em>Прокси-интрефейс</em> обычно инкапсулирует исходный коммуни…</p></div></div><div class="tooltip_templates"><div id="ШаблонСаморегистрация_tooltip_id"><p>Экземпляр сервиса регистрирует себя в реестре.</p>
<p>https://microservices.io/patterns/self-registration.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОбнаружениенасторонесервера_tooltip_id"><p>Клиент обращается (по известному имени) к маршрутизатору, который идёт в <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестр</a> за актуальными адресами и балансирует нагрузку.</p>
<p>https://microservices.io/patterns/server-side-discovery.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРеестрсервисов_tooltip_id"><p>БД, хранящая актуальные адреса сервисов. Сервисы регистрируются (<a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">сами</a> или не сами) в реестре при старте и удаляются из реестра при выключении. Также реестр может обращаться к Healthcheck API  для проверки доступности экземпляров.</p>
<p>https://microservices.io/patterns/service-registry.html</p></div></div><div class="tooltip_templates"><div id="ШаблонСторонняярегистрация_tooltip_id"><p>В <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестре</a> сервис регистрируется сторонней сущностью - <em>регистратором</em>, который обычно является компонентом платформы развертывания.</p>
<p>https://microservices.io/patterns/3rd-party-registration.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниетранзакционногожурнала_tooltip_id"><p>Суть в том, что ретранслятор <em>отслеживает</em> транзакционный журнал БД. Каждое обновление БД (в том числе <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">вставка</a> в <code>OUTBOX</code> ) представляется в виде записи в журнале транзакций. Можно прочитать этот журнал и опубликовать каждое изменение в качестве сообщения для брокера.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916210026.png"/><br/>
<em>Анализатор журнала транзакций</em> читает записи в журнале и каждую подходящую запись преобразует в событие и публик…</p></div></div><div class="tooltip_templates"><div id="ШаблонпубликациясобытийилиOutbox_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916203747.png"/><br/>
Предположим, что у приложения есть реляционная БД. Используем специальную таблицу <code>OUTBOX</code> для вставки сообщений в рамках транзакции бизнес-логики.<br/>
Далее <em>ретранслятор</em> (это компонент сервиса) вычитывает сообщения из этой таблицы и отдает брокеру.<br/>
Если у нас NoSQL БД, добавляем поле со списком сообщений, которые нужно отправить, к каждому бизнес-объекту, порождающему сообщения. Это атомарная операция. Трудностью тут бу…</p></div></div><div class="tooltip_templates"><div id="ШаблонКонфигурациявынесеннаявовне_tooltip_id"><p>Предоставляет запущенному сервису значения конфигурационных свойств, такие как учётные данные для доступа к БД и сетевое размещение.<br/>
Есть два основных подхода:</p>
<li><em>Пассивная модель</em> [^1]. Инфраструктура развертывания передает экземпляру сервиса конфигурационные свойства, используя, к примеру, переменные системного окружения или конфигурационный файл.</li>
<li><em>Активная модель</em>[^2]. Экземпляр сервиса сам берет конфигурационные свойства с сервера конфигурации.</li>
<p>[^…</p></div></div><div class="tooltip_templates"><div id="ШаблонШассимикросервисов_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211103204415.png"/><br/>
Создание сервисов на основе фреймворка или группы фреймворков, которые реализуют общие, не связанные с бизнес-логикой функции, такие как:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранитель</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">работу с токенами</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">обнаружение сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">обращение к серверу конфигурации</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/observability-patterns/">наблюдаемость</a></li>
<p>Недостатком является то, что …</p></div></div><div class="tooltip_templates"><div id="ШаблонЗаготовкасервиса_tooltip_id"><p>Альтернатива шаблону <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/microservice-chassis-pattern/">шасси микросервисов</a>. Создается общая заготовка для сервиса со всем необходимым для реализации сервиса кодом. Обычно такой код охватывает следубщие функции:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранитель</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">работу с токенами</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/client-side-discovery-pattern/">обнаружение сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">обращение к серверу конфигурации</a></li>
<li>[[observability-patterns|наблюдаемость…</li></div></div><div class="tooltip_templates"><div id="ШаблонSidecar_tooltip_id"><p>Реализует общие функции в отдельном контейнере или подключаемом процессе, находящемся рядом с экземпляром сервиса.</p>
<p>https://microservices.io/patterns/deployment/sidecar.html</p></div></div><div class="tooltip_templates"><div id="ШаблонАгрегатизDDD_tooltip_id"><p><em>Агрегат</em> - это кластер доменных объектов, с которыми можно обращаться как с единым целым. Он состоит из одной сущности и иногда одной или нескольких сущностей и объектов значений.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923205357.png"/><br/>
Агрегаты разбивают доменную модель на блоки, а также проясняют область применения операций, таких как загрузка, обновление и удаление. Эти операции распространяются на весь агрегат.</p>
<p>Обновление целого агрегата, а не…</p></div></div><div class="tooltip_templates"><div id="ШаблонДоменноесобытиеизDDD_tooltip_id"><p><em>Доменное событие</em> - это класс с именем на основе страдательного причастия прошедшего времени (создан, удалён и т.д.). Он содержит свойства, которые выразительно передают это событие. Например, класс события <code>OrderCreated</code> содержит <code>orderId</code>.<br/>
Также у доменного события есть метаданные, такие как идентификатор и timestamp. Также может быть id пользователя, сделавшего изменение и id агрегата, сгенерировавшего событие. Метаданные могут быть как в самом классе, так …</p></div></div><div class="tooltip_templates"><div id="ШаблонПорождениесобытий_tooltip_id"><p>Сохраняет <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">агрегат</a> в виде последовательности <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">доменных событий</a>, которые представляют изменение состояния. Приложение воссоздает текущее состояние, воспроизводя записанные события.<br/>
События сохраняются в <em>хранилище событий</em> (event store), у которого есть API для добавления и получения событий сущности. Также хранилище событий выполняет роль брокера сообщений - у него есть API для подписки на события.<br/>
Если для какой-то сущно…</p></div></div><div class="tooltip_templates"><div id="ШаблонПовествование_tooltip_id"><p>Он же “Сага” (Saga). Следует из шаблона <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">БД для сервиса</a>.<br/>
Обеспечивает согласованность данных между сервисами, используя последовательность локальных транзакций, которые координируются с помощью асинхронных сообщений.<br/>
Системная операция инициирует первый этап повествования. Завершение одной локальной транзакции приводит к выполнению следующей. <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210919112731.png"/><br/>
Например, вот повествование создания заказа:</p>
<li>Сервис `Orde…</li></div></div><div class="tooltip_templates"><div id="ШаблонОднаБДдлясервисов_tooltip_id"><p>Шаблон, при котором сервисы используют одну БД для хранения данных (и осуществления транзакций). В контексте микросервисной архитектуры может считаться антипаттерном.</p>
<p>https://microservices.io/patterns/data/shared-database.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРазбиениепобизнесвозможностям_tooltip_id"><p>Концепция “бизнес-возможности” применяется в моделировании бизнес-структур и обозначает то, из чего бизнес генерирует прибыль. Бизнес-возможности организации описывают то, <em>чем</em> она является. Обычно бизнес-возможности стабильны, в отличие от того, <em>как</em> организация ведет свой бизнес.<br/>
Бизнес-возможности организации определяются путём анализа ее целей, структуры и бизнес-процессов.<br/>
Бизнес-возможность часто сосредоточена на определенном бизнес-объекте. Во…</p></div></div><div class="tooltip_templates"><div id="Шаблондекомпозицияпоподдомену_tooltip_id"><p>Ключевой является доменная модель. <em>Доменная модель</em> организует информацию о проблемной области в формате, который можно применять для решения проблем в этой области. Она определяет  терминологию, используемую внутри команды - <em>язык описания</em>. Лежит в основе предметно-ориентированного проектирования (<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">domain-driven design, DDD</a>).<br/>
Единая доменная модель для всей организации может быть довольно запутанной. DDD предлагает решать эту п…</p></div></div><div class="tooltip_templates"><div id="ШаблонФорматпакетовдляопределенногоязыка_tooltip_id"><p>Развертывает в промышленную среду пакеты, предназначенные для определенного языка.<br/>
На компьютере разворачивается, если необходимо, среда выполнения для определенного языка, и затем запускается экземпляр, либо несколько экземпляров сервиса. Для определенных языков имеется возможность запустить несколько экземпляров сервиса (или разных сервисов) в одном процессе ОС.</p>
<li>Быстрое развертывание</li>
<li>Эффективное использование ресурсов, особе…</li></div></div><div class="tooltip_templates"><div id="ШаблонБессерверноеразвертывание_tooltip_id"><p>Развертывает сервисы при помощи бессерверного механизма, предоставляемого публичным облаком.</p>
<li>Избавление от многих задач системного администрирования. Нет нужды заботиться об обновлении ОС и сред выполнения</li>
<li>Эластичность. Бессерверная среда запускает экземпляры приложения в количестве, достаточном, чтобы справиться с нагрузкой.</li>
<li>Тарифы, основанные на потреблении. Бессерверные механизмы позволяют взимать плату только за ресурсы, потраченные…</li></div></div><div class="tooltip_templates"><div id="ШаблонПлатформаразвертывания_tooltip_id"><p>Использует для развертывания специальное инфраструктурное решение.</p>
<li>Оркестраторы контейнеров, такие как Kubernetes</li>
<li>Бессерверные платформы, такие как AWS Lambda</li>
<li>PaaS, такие как Cloud Foundry или AWS Elastic Beanstalk</li>
<p>https://microservices.io/patterns/deployment/service-deployment-platform.html</p></div></div><div class="tooltip_templates"><div id="ШаблонСетьсервисов_tooltip_id"><p>Пропускает весь трафик между сервисами через сетевой слой, реализующий такие функции как <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранители</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">распределенная трассировка</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/server-side-discovery-pattern/">обнаружение сервисов</a>, балансирование нагрузки и маршрутизация трафика.<br/>
Некоторые реализации сети сервисов:</p>
<li><a href="https://istio.io/">Istio</a></li>
<li><a href="https://linkerd.io/">Linkerd</a></li>
<p>https://microservices.io/patterns/deployment/service-mesh.html</p></div></div><div class="tooltip_templates"><div id="ШаблонРазвертываниесервисаввидеконтейнера_tooltip_id"><p>Развертывает в среде выполнения сервис, упакованный в виде контейнера. Каждый экземпляр сервиса является отдельным контейнером.</p>
<li>Инкапсуляция стека технологий</li>
<li>Изоляция экземпляров</li>
<li>Ограничение ресурсов, доступных экземпляру.</li>
<li>Легковесность, и, засчёт этого, быстрота развертывания.</li>
<li>Необходимо заниматься администрированием образов контейнеров и обновлением ОС</li>
<li>Если не используется облачное контейнерное решение…</li></div></div><div class="tooltip_templates"><div id="ШаблонРазвертываниесервисаввидеВМ_tooltip_id"><p>Развертывает в промышленной среде сервисы, упакованные в виде образов для виртуальных машин. Каждый экземпляр сервиса является отдельной ВМ.</p>
<li>Образ ВМ инкапсулирует стек технологий.</li>
<li>Экземпляры сервиса изолированы.</li>
<li>Используется зрелая облачная инфраструктрура со всеми ее преимуществами - планированием размещения, возможностью автомасштабирования и балансировкой трафика.</li>
<li>Менее эффективное использование ресурсов. Каждый…</li></div></div><div class="tooltip_templates"><div id="ШаблонМетрикиприложения_tooltip_id"><p>Сервис шлет отчеты центральному серверу, который предоставляет агрегацию, визуализацию и оповещения.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102222914.png"/></p>
<p>Существуют разные библиотеки для сбора показателей, например, для Java есть библиотека Micrometer Metrics.</p>
<p>Собранные данные могут попасть от сервиса двумя способами</p>
<li><em>пассивный</em> - экземпляр сервиса сам шлет показатели серверу, вызывая его API. Пр…</li></div></div><div class="tooltip_templates"><div id="ШаблонВедениежурналааудита_tooltip_id"><p>Записывает действия пользователя в БД, чтобы помочь службе поддержки обеспечить соблюдение правовых норм и обнаружить подозрительную активность.<br/>
Ведение журнала аудита можно реализовать разными способами:</p>
<li><em>Добавить код ведения журнала в бизнес-логику</em>. Недостаток метода состоит в том, что он связывает код ведения журнала аудита и бизнес-логику.</li>
<li><em>Задействовать аспектно-ориентированное программирование</em>. При использовании АОП-фреймворка он перехватывает вызов …</li></div></div><div class="tooltip_templates"><div id="ШаблонРаспределеннаятрассировка_tooltip_id"><p>Назначает каждому внешнему запросу уникальный идентификатор и отправляет данные о его перемещениях по системе от одного сервиса к другому на центральный сервер, который предоставляет визуализацию и возможность анализа.<br/>
Также сервис может включать этот идентификатор в свои логи, что позволяет проанализировать всю историю прохождения запроса.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102214736.png"/><br/>
Распределенная трассировка состоит из двух частей: библиотеки инструментирования, …</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниеисключений_tooltip_id"><p>Сервис сообщает об исключениях центральному сервису, который их дедуплицирует, отслеживает их исправление и генерирует оповещения.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211103194708.png"/><br/>
Существует некоторое количество сервисов отслеживания исключений, например <a href="https://www.honeybadger.io/">Honeybadger</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/sentry-io/">Sentry</a></p>
<p>https://microservices.io/patterns/observability/exception-tracking.html</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIпроверкиработоспособности_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211101203918.png"/><br/>
Сервис открывает доступ к конечной точке наподобие <code>GET \health</code>, которая возвращает данные о работоспособности сервиса. Инфраструктура развертывания периодически обращается по соответствующему адресу, чтобы понять, в каком состоянии находится экземпляр сервиса, и, возможно, принять необходимые меры.</p>
<p>Код, реализующий конечную точку для проверки работоспособно…</p></div></div><div class="tooltip_templates"><div id="ШаблонАгрегацияжурналов_tooltip_id"><p>Агрегирует журналы всех сервисов в центральной базе данных с поддержкой поиска и уведомлений.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211102212457.png"/><br/>
Как только сервер сохранит изменения в логах сервисов, их можно просматривать и анализировать, осуществлять по ним поиск и генерировать уведомления.</p>
<p>В большинстве языков программирования есть одна или несколько библиотек для ведения журналов, облегчающих генерацию правильно структурированных записей. Можно…</p></div></div><div class="tooltip_templates"><div id="ШаблонПредохранительныйслой_tooltip_id"><p>Программный слой, выступающий посредником между двумя доменными моделями, не давая им засорить друг друга своими концепциями.<br/>
Предохранительный слой в случае обращения к монолиту в стиле “запрос/ответ”:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211107185018.png"/><br/>
Предохранительный слой в случае подписки на доменные события:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211107185149.png"/></p>
<p>https://microservices.io/patterns/refactoring/anti-corruption-layer.html</p></div></div><div class="tooltip_templates"><div id="ШаблонУдушающееприложение_tooltip_id"><p>Выполняет моденизацию постепенно возводя новое (удушающее) приложение вокруг старого кода.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106142210.png"/></p>
<p>https://microservices.io/patterns/refactoring/strangler-application.html<br/>
https://martinfowler.com/bliki/StranglerFigApplication.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОбъединениеAPI_tooltip_id"><p>Чтобы выполнить запрос, мы обращаемся к разным сервисам и объединяем результаты.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211004193422.png"/><br/>
Структура шаблона предусмативает два типа участников:</p>
<li><em>API-композитор</em> - реализует операцию запроса, обращаясь к сервис-провайдерам</li>
<li><em>сервис-провайдер</em> - сервис, которому принадлежат данные, возвращаемые запросом.</li>
<p>Преимущество этого шаблона - в простоте реализации.</p>
<li>дополнительные накладные расходы</li>
<li>риск снижения досту…</li></div></div><div class="tooltip_templates"><div id="ШаблонРазделениеответственностикомандизапросовCQRS_tooltip_id"><p>??? note “CQRS”<br/>
<strong>CQRS</strong> - Command Query Responsibility Segregation</p>
<p>Шаблон предназначен для <em>разделения обязанностей</em>. Хранимая модель данных разделяется на две части - команды и запросы. Командные модули и модель данных реализуют операции <em>create</em>, <em>update</em> и <em>delete</em>. Модуль и модель данных запросов реализуют операцию <em>request</em>. Сторона запросов синхронизирует свою модель данных с моделью данных командной стороны, подписываясь на …</p></div></div><div class="tooltip_templates"><div id="ШаблонТокендоступа_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюз</a> аутентифицирует клиента и передает токен с информацией о пользователе, включая его идентификатор и роли, сервисам, к которым тот обращается. Если нижележащие сервисы обращаются к третим сервисам, они передают токен в своих запросах.<br/>
Вариантом такого токена может выступать <a href="https://jwt.io">JSON Web Token</a></p>
<p>https://microservices.io/patterns/security/access-token.html</p></div></div><div class="tooltip_templates"><div id="Шаблонтестированиеконтрактовсрасчётомнапотребителя_tooltip_id"><p>Идея в том, чтобы потребители писали тесты, проверяющие контракт сервиса (provider) на соответствие нуждам потребителей (consumers). Взаимодействие между потребителем и провайдером определяется набором примеров сообщений, которые называются <em>контрактами</em>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211022200513.png"/></p>
<p>https://microservices.io/patterns/testing/service-integration-contract-test.html</p></div></div><div class="tooltip_templates"><div id="Шаблонтестированиеконтрактовнасторонепотребителя_tooltip_id"><p>Проверяем, может ли клиент взаимодействовать с сервисом.</p>
<p>https://microservices.io/patterns/testing/consumer-side-contract-test.html</p></div></div><div class="tooltip_templates"><div id="ШаблонКомпонентныйтестсервиса_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211024124855.png"/><br/>
При этом шаблоне тесты проверяют работу сервиса, подменяя заглушками все его зависимости.<br/>
Различают <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">внутрипроцессные</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">внепроцессные</a> компонентные тесты.<br/>
Для более простого описания сценариев тестом можно воспользоваться языком Gherkin и фреймворком Specflow для .NET.</p></div></div><div class="tooltip_templates"><div id="Списокшаблоновмикросервиснойархитектуры_tooltip_id"><p>Перед списком надо упомянуть, что все шаблоны относятся к одному из трёх уровней:</p>
<li><em>Инфраструктурные шаблоны</em> - решают проблемы инфраструктуры, не относящиеся к разработке.</li>
<li><em>Инфраструктура приложения</em> - решают инфраструктурные проблемы, влияющие на разработку</li>
<li><em>Шаблоны приложения</em> - решают проблемы разработки<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210826151046.png"/><br/>
Основные группы шаблонов:</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decomposition-patterns/">Шаблоны для разбиения</a> приложения на микросервисы…</li></div></div><div class="tooltip_templates"><div id="Шаблоныархитектурыприложения_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Монолитная архитектура</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">Микросервисная архитектура</a></li></div></div><div class="tooltip_templates"><div id="Шаблонывзаимодействия_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210826151226.png"/><br/>
Шаблоны взаимодействия делятся на пять групп</p>
<li><em>Стиль взаимодействия</em> между сервисами<ul>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Удаленный вызов процедур</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Обмен сообщениями</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Идемпотентный потребитель</a></li>
</ul>
</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">Удаленный вызов процедур</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">Обмен сообщениями</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">Идемпотентный потребитель</a></li>
<li><em>Обнаружение</em> - Каким образом клиент сервиса узнает, куда отправить запрос?<ul>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Реестр</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Саморегистрация</a></li>
<li>[[third-party-registration-pattern|…</li>
</ul>
</li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">Реестр</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/self-registration-pattern/">Саморегистрация</a></li>
<li>[[third-party-registration-pattern|…</li></div></div><div class="tooltip_templates"><div id="Шаблоныдлярешениясквозныхпроблем_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/externalized-configuration-pattern/">Конфигурация, вынесенная вовне</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/microservice-chassis-pattern/">Шасси микросервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/service-template-pattern/">Заготовка сервиса</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Cross%20Cutting%20Conserns%20Patterns/sidecar-pattern/">Sidecar</a> (Sidecar - коляска, обычно мотоцикла)</li></div></div><div class="tooltip_templates"><div id="Шаблонысогласованностиданных_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">Своя БД для сервиса</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Одна БД для всех сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">Повествование (сага)</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Агрегат</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Доменное событие</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a></li></div></div><div class="tooltip_templates"><div id="ШаблонСвояБДусервиса_tooltip_id"><p>У каждого сервиса есть своя БД для хранения данных. Извне данные доступны только через API.</p>
<p>https://microservices.io/patterns/data/database-per-service.html</p></div></div><div class="tooltip_templates"><div id="Шаблоныдляразбиенияприложениянамикросервисы_tooltip_id"><p>На данный момент в группе четыре шаблона</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-business-capability-pattern/">Разбиение на сервисы по бизнес-возможностям</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Decomposition%20Patterns/decompose-by-subdomain-pattern/">Разбиение по субдоменам(проблемным областям)</a></li>
<li><a class="wikilink" href="self-contained-service-pattern">Автономный сервис</a></li>
<li><a class="wikilink" href="service-per-team-pattern">Сервис на команду</a></li></div></div><div class="tooltip_templates"><div id="Шаблоныразвертываниясервисов_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-mesh-pattern/">Сеть сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/language-specific-packaging-pattern/">Формат пакетов для определенного языка</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-vm-pattern/">Развертывание сервиса в виде ВМ</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-per-container-pattern/">Развертывание сервиса в виде контейнера</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/serverless-deployment-pattern/">Бессерверное развертывание</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Deployment%20Patterns/service-deployment-platform-pattern/">Платформа развертывания</a></li></div></div><div class="tooltip_templates"><div id="Шаблонынаблюдаемости_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">Шаблон “API проверки работоспособности”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/log-aggregation-pattern/">Шаблон “Агрегация журналов”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/distributed-tracing-pattern/">Шаблон “Распределенная трассировка”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/exception-tracking-pattern/">Шаблон “Отслеживание исключений”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/application-metrics-pattern/">Шаблон “Метрики приложения”</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/audit-logging-pattern/">Шаблон “Ведение журнала аудита”</a></li></div></div><div class="tooltip_templates"><div id="Шаблоныпереходанамикросервисырефакторинга_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Удушающее приложение</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/anti-corruption-layer-pattern/">Предохранительный слой</a></li></div></div><div class="tooltip_templates"><div id="Шаблонызапросовданных_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/api-composition-pattern/">Объединение API</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">Разделение ответственности команд и запросов</a></li></div></div><div class="tooltip_templates"><div id="Шаблоныбезопасности_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">Токен доступа</a></p></div></div><div class="tooltip_templates"><div id="Шаблоныавтоматизированноготестирования_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-driven-contract-test-pattern/">Тестирование контрактов с расчётом на потребителя</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-side-contract-test-pattern/">Тестирование контрактов на стороне потребителя</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Компонентный тест сервиса</a></li></div></div><div class="tooltip_templates"><div id="ШаблонПредохранительныйслой_tooltip_id"><p>Программный слой, выступающий посредником между двумя доменными моделями, не давая им засорить друг друга своими концепциями.<br/>
Предохранительный слой в случае обращения к монолиту в стиле “запрос/ответ”:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211107185018.png"/><br/>
Предохранительный слой в случае подписки на доменные события:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211107185149.png"/></p>
<p>https://microservices.io/patterns/refactoring/anti-corruption-layer.html</p></div></div><div class="tooltip_templates"><div id="Шаблоныпереходанамикросервисырефакторинга_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Удушающее приложение</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/anti-corruption-layer-pattern/">Предохранительный слой</a></li></div></div><div class="tooltip_templates"><div id="ШаблонУдушающееприложение_tooltip_id"><p>Выполняет моденизацию постепенно возводя новое (удушающее) приложение вокруг старого кода.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106142210.png"/></p>
<p>https://microservices.io/patterns/refactoring/strangler-application.html<br/>
https://martinfowler.com/bliki/StranglerFigApplication.html</p></div></div><div class="tooltip_templates"><div id="ШаблонОбъединениеAPI_tooltip_id"><p>Чтобы выполнить запрос, мы обращаемся к разным сервисам и объединяем результаты.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211004193422.png"/><br/>
Структура шаблона предусмативает два типа участников:</p>
<li><em>API-композитор</em> - реализует операцию запроса, обращаясь к сервис-провайдерам</li>
<li><em>сервис-провайдер</em> - сервис, которому принадлежат данные, возвращаемые запросом.</li>
<p>Преимущество этого шаблона - в простоте реализации.</p>
<li>дополнительные накладные расходы</li>
<li>риск снижения досту…</li></div></div><div class="tooltip_templates"><div id="ШаблонРазделениеответственностикомандизапросовCQRS_tooltip_id"><p>??? note “CQRS”<br/>
<strong>CQRS</strong> - Command Query Responsibility Segregation</p>
<p>Шаблон предназначен для <em>разделения обязанностей</em>. Хранимая модель данных разделяется на две части - команды и запросы. Командные модули и модель данных реализуют операции <em>create</em>, <em>update</em> и <em>delete</em>. Модуль и модель данных запросов реализуют операцию <em>request</em>. Сторона запросов синхронизирует свою модель данных с моделью данных командной стороны, подписываясь на …</p></div></div><div class="tooltip_templates"><div id="Шаблонызапросовданных_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/api-composition-pattern/">Объединение API</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">Разделение ответственности команд и запросов</a></li></div></div><div class="tooltip_templates"><div id="ШаблонТокендоступа_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюз</a> аутентифицирует клиента и передает токен с информацией о пользователе, включая его идентификатор и роли, сервисам, к которым тот обращается. Если нижележащие сервисы обращаются к третим сервисам, они передают токен в своих запросах.<br/>
Вариантом такого токена может выступать <a href="https://jwt.io">JSON Web Token</a></p>
<p>https://microservices.io/patterns/security/access-token.html</p></div></div><div class="tooltip_templates"><div id="Шаблоныбезопасности_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">Токен доступа</a></p></div></div><div class="tooltip_templates"><div id="Шаблонтестированиеконтрактовсрасчётомнапотребителя_tooltip_id"><p>Идея в том, чтобы потребители писали тесты, проверяющие контракт сервиса (provider) на соответствие нуждам потребителей (consumers). Взаимодействие между потребителем и провайдером определяется набором примеров сообщений, которые называются <em>контрактами</em>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211022200513.png"/></p>
<p>https://microservices.io/patterns/testing/service-integration-contract-test.html</p></div></div><div class="tooltip_templates"><div id="Шаблонтестированиеконтрактовнасторонепотребителя_tooltip_id"><p>Проверяем, может ли клиент взаимодействовать с сервисом.</p>
<p>https://microservices.io/patterns/testing/consumer-side-contract-test.html</p></div></div><div class="tooltip_templates"><div id="ШаблонКомпонентныйтестсервиса_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211024124855.png"/><br/>
При этом шаблоне тесты проверяют работу сервиса, подменяя заглушками все его зависимости.<br/>
Различают <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">внутрипроцессные</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2010/ch-10-component-tests-writing/">внепроцессные</a> компонентные тесты.<br/>
Для более простого описания сценариев тестом можно воспользоваться языком Gherkin и фреймворком Specflow для .NET.</p></div></div><div class="tooltip_templates"><div id="Шаблоныавтоматизированноготестирования_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-driven-contract-test-pattern/">Тестирование контрактов с расчётом на потребителя</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/consumer-side-contract-test-pattern/">Тестирование контрактов на стороне потребителя</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Компонентный тест сервиса</a></li></div></div><div class="tooltip_templates"><div id="Шаблонысогласованностиданных_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">Своя БД для сервиса</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/shared-database-pattern/">Одна БД для всех сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">Повествование (сага)</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">Агрегат</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">Доменное событие</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a></li></div></div><div class="tooltip_templates"><div id="ШаблонПовествование_tooltip_id"><p>Он же “Сага” (Saga). Следует из шаблона <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/database-per-service-pattern/">БД для сервиса</a>.<br/>
Обеспечивает согласованность данных между сервисами, используя последовательность локальных транзакций, которые координируются с помощью асинхронных сообщений.<br/>
Системная операция инициирует первый этап повествования. Завершение одной локальной транзакции приводит к выполнению следующей. <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210919112731.png"/><br/>
Например, вот повествование создания заказа:</p>
<li>Сервис `Orde…</li></div></div><div class="tooltip_templates"><div id="Контрмерапозначению_tooltip_id"><p>Это стратегия выбора механизмов конкурентности на основе бизнес-рисков. Приложение использует свойства запросов, чтобы сделать выбор между повествованиями и распределенными транзакциями.</p></div></div><div class="tooltip_templates"><div id="Контрмеракоммутативныеобновления_tooltip_id"><p>Операции обновления необходимо по возможности проектировать коммутативными. В этом случае не будет проблем с выполнением <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-compensating/">компенсирующих</a> транзакций даже, если между компенсируемой и компенсирующей транзакциями были другие.</p></div></div><div class="tooltip_templates"><div id="Грязноечтение_tooltip_id"><p>“Грязным” называют чтение, которое происходит в процессе обновления данных другим повествованием.<br/>
Пусть есть некий сервис заказов с поддержкой кредитного лимита. Тогда повествование, <em>отменяющее заказ</em>, состоит из следующих транзакций:</p>
<li>Сервис <code>Consumer</code> увеличивает доступный кредит;</li>
<li>Сервис <code>Order</code> меняет состояние заказа на <code>CANCELLED</code>;</li>
<li>Сервис <code>Delivery</code> отменяет доставку.</li>
<p>Теперь предстваим, что во время выполнения повествований <code>Cancel Order</code> и <code>Create Order</code> первое от…</p></div></div><div class="tooltip_templates"><div id="Нечеткоечтение_tooltip_id"><p>Аномалия, при которой два разных типа повествования читают одни и те же данные,но получают разные результаты, потому что другое повествование внесло изменения. (Аналог race condition в параллельных вычислениях)</p></div></div><div class="tooltip_templates"><div id="Контрмерапессимистическоепредставление_tooltip_id"><p>Для этого меняем местами этапы повествования, чтобы снизить бизнес-риски, связанные с грязным чтением. <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Isolation%20Problems%20and%20Countermeasures/dirty-reading-problem/">В примере</a> повествование <code>Create Order</code> выполняет грязное чтение доступных кредитных средств. Чтобы уменьшить вероятность этого, переставим этапы:</p>
<li>Сервис <code>Order</code> меняет состояние заказа на <code>CANCELLED</code>;</li>
<li>Сервис <code>Delivery</code> отменяет доставку.</li>
<li>Сервис <code>Consumer</code> увеличивает доступный кредит;<br/>
Видно, теперь что этап 2 - [[sa…</li></div></div><div class="tooltip_templates"><div id="Контрмераповторноечтениезначения_tooltip_id"><p>Предотвращает потерю обновлений. Повествование, использующее эту контрмеру, повторно считывает запись перед ее обновлением, убеждается в том, что та не изменилась и только потом обновляет. Если запись изменилась, повествование прекращает работу (при этом запускаются компенсирующие транзакции) и, возможно, запускается заново. Это разновидность шаблона “Оптимистическая автономная блокировка”<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<li id="fn:1">
<p>https://martinfowler.com/eaaCatalog/optimisticOfflineLock… <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p>https://martinfowler.com/eaaCatalog/optimisticOfflineLock… <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Контрмерасемантическаяблокировка_tooltip_id"><p>При использовании семантической блокировки <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-compensating/">компенсируемая транзакция</a> устанавливает флаг во всех записях, которые она создает или обновляет. Флаг говорит о том, что запись <em>не зафиксирована</em> и может измениться. Флаг сбрасывается либо повторяемой (повествование успешно завершается), либо компенсирующей транзакцией (повествование откатывается обратно).<br/>
Также нужно решить, как каждое отдельное повествование будет обращаться с заблокированн…</p></div></div><div class="tooltip_templates"><div id="Потеряныеобновления_tooltip_id"><p>Эта аномалия возникает, когда повествование перезаписывает обновление, сделанное другим повествованием. Например:</p>
<li>Первый этап повествования <code>Create Order</code>создает заказ.</li>
<li>Пока это повествование выполняется, повествование <code>Cancel Order</code> отменяет заказ.</li>
<li>На завершающем этапе <code>Create Order</code> отменяет заказ.</li>
<p>В этой ситуации <code>Creat Order</code> Игнорирует и перезаписывает обновление, выполненное повествованием <code>Cancel Order</code>. В итоге может отправиться отмененный заказ.</p></div></div><div class="tooltip_templates"><div id="Контрмерафайлверсий_tooltip_id"><p><em>Файл версий</em> назван так потому, что в него записываются операции, которые выполняются с записью. Благодаря этому порядок следования операций можно менять. Это способ превращения некоммутативных операций в коммутативные.</p>
<p>Рассмотрим сценарий, в котором повествования <code>Create Order</code> и <code>Cancel Order</code> выполняются параллельно. Если не применяется <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Isolation%20Problems%20and%20Countermeasures/semantic-lock-countermeasure/">семантическая блокировка</a>, существует вероятность того, что <code>Cancel Order</code> отменит авторизацию кар…</p></div></div><div class="tooltip_templates"><div id="Компенсируемыетранзакции_tooltip_id"><p><em>Компенсируемые транзакции</em> - транзакции, которые потенциально можно откатить с помощью компенсирующих транзакций.</p>
<p>Пример для повествования <code>Create Order</code>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210920202844.png"/></p></div></div><div class="tooltip_templates"><div id="Повторяемыетранзакции_tooltip_id"><p><em>Повторяемые транзакции</em> - транзакции, идущие за <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-turning-point/">поворотной</a>. Всегда завершаются успешно.</p>
<p>Пример для повествования <code>Create Order</code>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210920202844.png"/></p></div></div><div class="tooltip_templates"><div id="Структураповествования_tooltip_id"><p>В контексте обсуждения контрмер полезно иметь следующую модель для повествований.  Повествование состоит из трёх типов транзакций, а именно:</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-compensating/">Компенсируемые транзакции</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-turning-point/">Поворотная транзакция</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Sagas/saga-repeatable/">Повторяемые транзакции</a></li>
<p>Пример для повествования <code>Create Order</code>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210920202844.png"/></p></div></div><div class="tooltip_templates"><div id="Поворотнаятранзакция_tooltip_id"><p><em>Поворотная транзакция</em> - решающий момент в повествовании. Если поворотная транзакция фиксируется, повествование отрабатывает до конца. Поворотная транзакция может быть недоступной ни для компенсации, ни для повторения. Также это может быть последняя компенсируемая или первая повторяемая транзакция. </p>
<p>Пример для повествования <code>Create Order</code>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210920202844.png"/></p></div></div><div class="tooltip_templates"><div id="ШаблонОпрашивающийиздатель_tooltip_id"><p>Пусть приложение использует реляционную БД, и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">хранит сообщения</a> в таблице <code>OUTBOX</code>. Ретранслятор может вычитывать из этой таблицы неопубликованные записи обычным SQL запросом типа<br/>
<code>sql
SELECT * FROM OUTBOX ORDERED BY ... ASC</code><br/>
Затем он публикует полученные сообщения в соответствующие каналы брокера. После успешной (!) публикации сообщения можно удалить:<br/>
<code>sql
DELETE FROM OUTBOX WHERE ID IN (...)</code></p>
<p>https://microserv…</p></div></div><div class="tooltip_templates"><div id="ШаблонОтслеживаниетранзакционногожурнала_tooltip_id"><p>Суть в том, что ретранслятор <em>отслеживает</em> транзакционный журнал БД. Каждое обновление БД (в том числе <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">вставка</a> в <code>OUTBOX</code> ) представляется в виде записи в журнале транзакций. Можно прочитать этот журнал и опубликовать каждое изменение в качестве сообщения для брокера.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916210026.png"/><br/>
<em>Анализатор журнала транзакций</em> читает записи в журнале и каждую подходящую запись преобразует в событие и публик…</p></div></div><div class="tooltip_templates"><div id="ШаблонпубликациясобытийилиOutbox_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210916203747.png"/><br/>
Предположим, что у приложения есть реляционная БД. Используем специальную таблицу <code>OUTBOX</code> для вставки сообщений в рамках транзакции бизнес-логики.<br/>
Далее <em>ретранслятор</em> (это компонент сервиса) вычитывает сообщения из этой таблицы и отдает брокеру.<br/>
Если у нас NoSQL БД, добавляем поле со списком сообщений, которые нужно отправить, к каждому бизнес-объекту, порождающему сообщения. Это атомарная операция. Трудностью тут бу…</p></div></div><div class="tooltip_templates"><div id="Семантическаянумерацияверсий_tooltip_id"><p>Согласно спецификации семантического версионирования, номер версии всегда должен состоять из следующих частей <code>MAJOR.MINOR.PATCH</code>, где каждая из частей инкрементируется в следующих случаях:</p>
<li><code>MAJOR</code> - при внесении в API/пакет несовместимого изменения</li>
<li><code>MINOR</code> - при внесении в API/пакет изменения с сохранением обратной совместимости</li>
<li><code>PATCH</code> - при исправлении ошибки с сохранением обратной совместимости</li>
<p>Иногда добавляется 4 часть с номером билда. Сейчас обычно …</p></div></div><div class="tooltip_templates"><div id="Sentry_tooltip_id"><p>Sentry - сервис для мониторинга и агрегирования ошибок. Можно либо использовать облачный вариант сервиса (sentry.io), либо развернуть on-prermise на собственном сервере.</p>
<p>Основная идея Sentry заключается в агрегировании каждой отдельной ошибки (в Sentry такая ошибка называется event) в группы (issue). <br/>
Группировка осуществляется самим сервисом либо на основе некоторой внутренней эвристики, либо кодом приложения - при отправке ивента нужно заполнить специальное поле <code>fingerprint</code>, либо (…</p></div></div><div class="tooltip_templates"><div id="gRPCRemoteProcedureCallотGoogle_tooltip_id"><p>gRPC - фреймворк для написания многоязычных клиентов и серверов <br/>
Представляет собой двоичный протокол на основе сообщений.<br/>
В gRPC API описывается с помощью IDL на основе Protocol Buffers - многоязычного механизма сериализации структурированных данных от Google. Компилятор Protocol Buffer генерирует клиентские заглушки и серверные каркасы. Клиент и сервер обмениваются сообщениями в формате Protocol Buffers, используя HTTP/2.<br/>
gRPC API состоит из одного или …</p></div></div><div class="tooltip_templates"><div id="HTTP2_tooltip_id"><p><em>HTTP/2</em> - вторая версия протокола <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/http/">HTTP</a>.</p>
<li>является бинарным;</li>
<li>сервер имеет право послать содержимое, которое не было явно запрошено клиентом;</li>
<li>мультиплексирование запросов и ответов с введением явной приоритезации запросов.</li>
<p>HTTP/2 определен как для HTTP URI (без шифрования), так и HTTPS URI (с шифрованием TLS 1.2 или выше). Интересно, что большинство клиентских реализаций поддерживают только версию с шифрованием.</p>
<p>https://ru.wikipe…</p></div></div><div class="tooltip_templates"><div id="HTTPHypertextTransferProtocol_tooltip_id"><p><em>Протокол передачи гипертекста</em> или <strong>HTTP</strong> - это протокол прикладного уровня, обеспечивающий работу в сети. Работает по схеме “запрос-ответ” без сохранения состояния. Клиент отправляет запрос на сервер, который передает ответ.<br/>
Каждый HTTP-запрос состоит из метода, указывающего “тип” запроса, и пути, указывающего ресурс, с которым нужно взаимодействовать. Также обычно содержит заголовки - пары “ключ-значение”, а в некоторых случаях - тело, например, содержим…</p></div></div><div class="tooltip_templates"><div id="OAuth20_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">Oauth 2.0</a></p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211028200026.png"/><br/>
Последовательность событий для API-клиента выглядит так.</p>
<li>Клиент делает запрос, предоставляя свои учетные данные в процессе HTTP-аутентификации.</li>
<li>API-шлюз делает запрос типа <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">OAuth 2.0 Password Grant</a> к серверу аутентификации.</li>
<li>Сервер аутентификации проверяет учетные данные API-клиента и возвращает токены дос…</li></div></div><div class="tooltip_templates"><div id="AsuswrtMerlin_tooltip_id"><p>Это альтернативная прошивка для роутеров Asus, поддерживается в основном чуваком с ником <strong>Merlin</strong>. Основана на родной прошивке от Асус, что позволяет, в случае чего, откатиться на нее просто через штатный механизм обновления прошивки, а также использовать фишки интеграции с другими устройствами от Asus, в частности, их mesh протоколы.</p>
<p>https://www.asuswrt-merlin.net/</p></div></div><div class="tooltip_templates"><div id="OAuth20_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">Oauth 2.0</a></p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211028200026.png"/><br/>
Последовательность событий для API-клиента выглядит так.</p>
<li>Клиент делает запрос, предоставляя свои учетные данные в процессе HTTP-аутентификации.</li>
<li>API-шлюз делает запрос типа <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">OAuth 2.0 Password Grant</a> к серверу аутентификации.</li>
<li>Сервер аутентификации проверяет учетные данные API-клиента и возвращает токены дос…</li></div></div><div class="tooltip_templates"><div id="Аутентификация_tooltip_id"><p><em>Аутентификация</em> - процедура проверки подлинности. Например:</p>
<li>проверка подлинности пользователя путём сравнения введённого им пароля (для указанного логина) с паролем, сохранённым в базе данных пользовательских логинов;</li>
<li>подтверждение подлинности электронного письма путём проверки цифровой подписи письма по открытому ключу отправителя;</li>
<li>проверка контрольной суммы файла на соответствие сумме, заявленной автором этого файла.</li>
<p>В русском языке термин применяется, в основном…</p></div></div><div class="tooltip_templates"><div id="Авторизация_tooltip_id"><p>Еще одна проблема, которую нужно решить при переводе монолитного приложения на микросервисы - адаптация существующего механизма безопасности. <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Реализация</a> безопасности для микросервисов основывается на токенах типа JWT. Это довольно сильно отличается от монолитного подхода, предусматривающего хранение сеанса в памяти. Трудность состоит в том, что необходимо одновременно поддерживать оба механизма.<br/>
Существует простой способ решения …</p></div></div><div class="tooltip_templates"><div id="Оптимистическаяблокировка_tooltip_id"><p>Перед началом предполагаемой модификации запрашивает значение некоторого выделенного атрибута каждой из строк данных (обычно используется наименование <code>VERSION</code> и целочисленный тип с начальным значением 0). Перед записью модификаций в базу данных перепроверяется значение выделенного атрибута, и если оно изменилось, то транзакция откатывается или применяются различные схемы разрешения коллизий. Если значение выделенного атрибута не изменилось — производится фиксация м…</p></div></div><div class="tooltip_templates"><div id="Пессимистическаяблокировка_tooltip_id"><p><strong>Пессимистическая блокировка</strong> накладывается перед предполагаемой модификацией данных на все строки, которые такая модификация предположительно затрагивает. Во время действия такой блокировки исключена модификация данных из сторонних сессий, данные из блокированных строк доступны согласно уровню изолированности транзакции. По завершению предполагаемой модификации гарантируется непротиворечивая запись результатов.</p>
<p>https://ru.wikipedia.org/wiki/%D0%91%D0%BB…</p></div></div><div class="tooltip_templates"><div id="MyHomeLib_tooltip_id"><p>Программа для организации электронной библиотеки. Можно использовать для архивов lib.rus.ec и flibusta.is, либо для “онлайн” - в этом режиме скачивается только база, а книги скачиваются по запросу.<br/>
К сожалению, почти все изнчальные ресурсы, связанные с программой, отключены, однако существует поддержка энтузиастами. На данный момент актуальную информацию можно найти в недрах топика по ссылке 1, там же могут быть ссылки на исправленные посетителями форума версии (создатель программы н…</p></div></div><div class="tooltip_templates"><div id="Семантическаянумерацияверсий_tooltip_id"><p>Согласно спецификации семантического версионирования, номер версии всегда должен состоять из следующих частей <code>MAJOR.MINOR.PATCH</code>, где каждая из частей инкрементируется в следующих случаях:</p>
<li><code>MAJOR</code> - при внесении в API/пакет несовместимого изменения</li>
<li><code>MINOR</code> - при внесении в API/пакет изменения с сохранением обратной совместимости</li>
<li><code>PATCH</code> - при исправлении ошибки с сохранением обратной совместимости</li>
<p>Иногда добавляется 4 часть с номером билда. Сейчас обычно …</p></div></div><div class="tooltip_templates"><div id="Оптимистическаяблокировка_tooltip_id"><p>Перед началом предполагаемой модификации запрашивает значение некоторого выделенного атрибута каждой из строк данных (обычно используется наименование <code>VERSION</code> и целочисленный тип с начальным значением 0). Перед записью модификаций в базу данных перепроверяется значение выделенного атрибута, и если оно изменилось, то транзакция откатывается или применяются различные схемы разрешения коллизий. Если значение выделенного атрибута не изменилось — производится фиксация м…</p></div></div><div class="tooltip_templates"><div id="Пессимистическаяблокировка_tooltip_id"><p><strong>Пессимистическая блокировка</strong> накладывается перед предполагаемой модификацией данных на все строки, которые такая модификация предположительно затрагивает. Во время действия такой блокировки исключена модификация данных из сторонних сессий, данные из блокированных строк доступны согласно уровню изолированности транзакции. По завершению предполагаемой модификации гарантируется непротиворечивая запись результатов.</p>
<p>https://ru.wikipedia.org/wiki/%D0%91%D0%BB…</p></div></div><div class="tooltip_templates"><div id="Цифровойсад_tooltip_id"><p><em>Цифровой сад</em> - это способ ведения персонального сайта. В каком-то смысле, цифровой сад - это <em>антиблог</em>.</p>
<p>Обычно процесс ведения блога предполагает, что каждый новый пост является законченным <em>на момент публикации</em>. Вокруг этого предположения строится возможная инфраструктура - размещение в хронологическом (или обратно хронологическому) порядке, лента новостей, RSS-фид, календарь постов и т.п. </p>
<p>Цифровой сад, напротив, строится вокруг идеи о периодической доработке уже существую…</p></div></div><div class="tooltip_templates"><div id="ЗаметкапроObsidian_tooltip_id"><p>Когда-то давно, когда деревья были выше, а трава - зеленее, для того, чтобы стать специалистом в какой-либо области было достаточно купить и прочитать книжку. Или даже две. </p>
<p>Но с тех замечательных пор всё изменилось. Новые знания, факты и рецепты появляются каждый день, и это не говоря о новых версиях браузеров и языков программирования. Складывается ощущение, что охватить всё это великолепие можно только добавив в сутки несколько дополнительных часов. А запомнить - так и…</p></div></div><div class="tooltip_templates"><div id="КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id"></div></div><div class="tooltip_templates"><div id="СравнениеSOAимикросервисов_tooltip_id"><p>(<strong>SOA</strong> - service-oriented architecture)<br/>
На высоком уровне - и SOA, и микросервисы - стили проектирования, которые структурируют систему как набор сервисов.</p>
<p>Однако:</p></div></div><div class="tooltip_templates"><div id="Побегизмонолитногоада_tooltip_id"><p>Приложение представляет собой монолит <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">гексагональной архитектуры</a>. Состоит из бизнес-логики, окруженной адаптерами, направленными извне (API, веб-интерфейс), так и вовне (БД, внешние сервисы).</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Преимущества</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Недостатки</a></li>
<p>Недостатки влияют не на <em>функциональные требования</em> (можно реализовать бизнес-требования любым способом). Однако есть *требо…</p></div></div><div class="tooltip_templates"><div id="Модельпредставленийархитектурывида41_tooltip_id"><p>Модель 4+1 определяет 4 разных представления архитектуры ПО. Каждое описывает определенный аспект архитектуры и состоит из конкретного набора элементов и связей между ними.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210827202316.png"/></p>
<li><em>Логическое представление</em> - программные элементы, создаваемые разработчиками. Связи - отношения между классами и пакетами, включая наследование, взаимосвязи и зависимости</li>
<li><em>Представление реализации</em> - результат работы системы сборки. Связи - …</li></div></div><div class="tooltip_templates"><div id="Стратегиидекомпозиции_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li></div></div><div class="tooltip_templates"><div id="Шестиграннаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210828185920.png"/><br/>
<strong>Шестигранная архитектура</strong> - альтернатива <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">многоуровневой</a>. Организует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логическое представление</a> таким образом, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">бизнес-логика</a> оказывается в центре. Вместо уровня представления есть один или несколько <em>входящих адаптеров</em>, которые обрабатывают внешние запросы путём вызова бизнес-логики. Вместо уровня хранения данных испол…</p></div></div><div class="tooltip_templates"><div id="Определениемикросервиснойархитектурыприложения_tooltip_id"><p>Как определить микросервисную архитектуру?<br/>
Здесь мы опишем процесс в виде трёх шагов, однако, нужно понимать, что это не инструкция, и ее не следует выполнять буквально.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829164601.png"/></p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a>. <em>Системная операция</em> - запрос, который приложение должно обработать. Поведение каждой команды определяется в виде абстрактной доменной модели, которая тоже извлекается и…</li></div></div><div class="tooltip_templates"><div id="Многоуровневаяархитектура_tooltip_id"><p>Классический пример архитектурного стиля. Характерна разделением элементов по уровням. Каждый уровень имеет чёткий набор обязанностей. Также ограничиваются зависимости между уровнями. Уровень может зависеть либо от уровня, лежащего непосредственно под ним (чёткое разбиение), либо от любого нижележащего уровня.<br/>
Многоуровневую архитектуру можно применить к любому из <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представлений</a>.<br/>
Классический пример - трёхуровневая архитект…</p></div></div><div class="tooltip_templates"><div id="ОпределениеAPIсервисов_tooltip_id"><p class="admonition-title">API</p>
<p>Можно сказать, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">API</a> сервиса состоит из операций, которые клиент может вызывать, и событий, публикуемых сервисом.</p>
<p>Операция в API может существовать по одной из двух причин: она либо соответствует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">системной операции</a> и вызывается внешними клиентами (или, возможно, другими сервисами), либо поддерживает взаимодействие между сервисами и вызывается только ими. События публикуются в основном для того, чтобы …</p></div></div><div class="tooltip_templates"><div id="Разбиениенасервисы_tooltip_id"><p>Важно понимать: не существует чётких инструкций, как разбивать приложение на сервисы. Однако, существует несколько стратегий декомпозиции, каждая из которых подходит к проблеме с определенной стороны и использует собственную терминологию. Однако, результатом во всех случаях будет архитектура, состоящая из сервисов, которые в основном организованы вокруг бизнес-процессов, а не технических концепций.</p>
<li>[[decompose-by-business-capability-pattern|Разбиение по бизнес-возможност…</li></div></div><div class="tooltip_templates"><div id="Определениесистемныхопераций_tooltip_id"><p>Это первый шаг в проектировании архитектуры приложения. За отправную точку берутся требования к приложению, включая пользовательские истории (user stories) и связанные с ними сценарии использования. <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210830192414.png"/><br/>
Процесс состоит из двух шагов.</p>
<li>Создаем обобщенную (или абстрактную) доменную модель, состоящую из ключевых классов, которые представляют словарь для описания системных операций. Используем, в основном, имена существительные, вз…</li></div></div><div class="tooltip_templates"><div id="Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">В главе 1</a> говорилось, что ключевой идеей <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной архитектуры</a> является идея функциональной декомпозиции. Какое отношение этот подход имеет к понятию архитектуры ПО в целом? Что такое сервис и насколько важен его размер?</p>
<p class="admonition-title">Архитектура ПО</p>
<p>Программная архитектура вычислительной системы - это набор структур, необходимых для ее обсуждения и состоящих из программных элементов, …</p></div></div><div class="tooltip_templates"><div id="Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id"><p>Каждый раз, когда сервисы общаются между собой по синхронному протоколу, снижается доступность всего приложения. С математической точки зрения доступность системной операции является произведением доступности сервисов, которые в нее вовлечены.<br/>
Пусть у нас есть сервис, который вызывает два других сервиса. Если каждый из них имеет доступность 99.5%, то все вместе они будут имет…</p></div></div><div class="tooltip_templates"><div id="Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id"><p>Сервисы могут взаимодействовать путём асинхронного <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">обмена сообщениями</a>.</p>
<p>Рассмотрим модель обмена сообщениями, описанной в книге <a href="https://www.ozon.ru/product/shablony-integratsii-korporativnyh-prilozheniy-signature-series-151531716/">Шаблоны интеграции корпоративных приложений</a>. В этой модели <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message/">сообщения</a> передаются по <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message-channel/">каналам</a>. Отправитель пишет сообщ…</p></div></div><div class="tooltip_templates"><div id="Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id"><p>В случае ситуации нескольких одинаковых получателей возможна ситуация, когда несколько последовательных сообщений будут доставлены в некорректном порядке разным экземплярам получателей.<br/>
Одно из решений - использование <em>сегментированных каналов</em>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210915203724.png"/></p>
<li>Сегментированный канал включает в себя два и более сегмента, каждый из которых ведет себя как канал.</li>
<li>Отправитель указывает в заголовке ключ сегмента. Бро…</li></div></div><div class="tooltip_templates"><div id="Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id"><p>Далее - <strong>IPC (interprocess communication)</strong><br/>
В приложениях микросервисной архитектуры IPC играет более важную роль, чем в монолитных приложениях. Экземпляры сервисов чаще всего являются процессами, запущеными на разных компьютерах, следовательно, должны общаться друг с другом при помощи IPC. Выбор механизма IPC  - важное архитектурное решение, он может повлиять на уровень доступности приложения.</p></div></div><div class="tooltip_templates"><div id="ОбзорIPC_tooltip_id"><p>Существует множество разных технологий IPC. Сервисы могут использовать коммуникационные механизмы на основе запросов/ответов, такие как <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a>, или механизмы коммуникации на основе сообщений, такие как <a class="wikilink" href="amqp-comm-model">AMQP</a> или <a class="wikilink" href="stomp-comm-model">STOMP</a>. Также существует множество форматов сообщений, как текстовые форматы, понятные человеку (JSON или XML), так более эффективные двоичные - Avro или Protocol Buffers.</p>
<p>Стили вз…</p></div></div><div class="tooltip_templates"><div id="Факторывыбораброкерасообщений_tooltip_id"><li><em>Поддерживаемые языки программирования</em>. Больше - лучше. Ну или нужен тот, на котором мы пишем.</li>
<li><em>Поддерживаемые стандарты обмена сообщениями</em>. Поддерживаются ли стандарты вроде <strong>AMQP</strong> или <strong>STOMP</strong>? Используется ли закрытый протокол?</li>
<li><em>Порядок следования сообщений</em>. Сохраняет ли брокер порядок следования сообщений?</li>
<li><em>Гарантии доставки</em>. Какие гарантии доставки даёт брокер?</li>
<li><em>Постоянное хранение</em>. Сохраняются ли сообщения на диск? Могут ли сообщения пер…</li></div></div><div class="tooltip_templates"><div id="Использованиеброкерасообщений_tooltip_id"><p>Приложения, основанные на сообщениях, обычно применяют <em>брокер сообщений</em> - инфраструктурный компонент, через который сервисы общаются друг с другом. Однако, архитектура обмена сообщений может и не иметь брокера, и сервисы взаимодействуют напрямую.</p>
<p>В архитектуре без брокера сервисы общаются напрямую. Одна из реализаций такого подхода - проект <a href="https://zeromq.org/">ZeroMQ</a></p>
<li>Более легковесный сетево…</li></div></div><div class="tooltip_templates"><div id="Дублированиесообщений_tooltip_id"><p>В идеале брокер должен доставлять сообщение ровно один раз. Однако обеспечение этого обычно сильно затратно. Вместо этого большинство брокеров обеспечивает  доставку <em>минимум один раз (at least once)</em>.<br/>
Если логика, обрабатывающая сообщения, является идемпотентной, то это не проблема. В случае, когда логика не является идемпотентной, можно воспользоваться шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a></p></div></div><div class="tooltip_templates"><div id="Реализациястилейвзаимодействия_tooltip_id"><p>Механизмы обмена сообщениями достаточно гибки, чтобы реализовать все <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">стили взаимодействия</a>. Вот как реализуется каждый.</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210911183223.png"/><br/>
Клиент и сервис могут взаимодействовать, отправляя запросы и принимая ответы. Если это происходит синхронно, клиент ожидает немедленного ответа от сервиса, если асинхронно - не ждёт. Обмен сообщениями по природе асинхронен, но клие…</p></div></div><div class="tooltip_templates"><div id="ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id"><p>Рассмотрим шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">удаленный вызов процедур</a>. Существует много протоколов RPI. Рассмотрим REST и gRPC.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a></li>
<p>Оба представляют собой синхронные коммуникационные механизмы и, как следствие, страдают из-за проблем с частичным отказом. Например, сервис может быть недоступен вследствие сбоя, или находиться в процессе обслуживания. Кроме того, сервис может быть перегруженным и отвечать медленно, …</p></div></div><div class="tooltip_templates"><div id="Обнаружениесервисов_tooltip_id"><p>В микросервисной архитектуре, когда большинство сервисов получает адреса динамически, и набор экземпляров может постоянно изменяться, важно использовать механзм обнаружения сервисов. Ядром такого механизма становится <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестр сервисов</a>. Когда экземпляры сервисов запускаются или останавливаются, механизм обнаружения обновляет реестр. Когда клиент хочет обратиться к сервису, он обращается к реестру за списком доступных экземпляров сервиса, и запраши…</p></div></div><div class="tooltip_templates"><div id="Транзакционныйобменсообщениями_tooltip_id"><p>Сервисы часто нужно публиковать сообщения в рамках транзакции, обновляющей базу данных. Если не отправить сообщение одновременно с записью в БД, система может остаться в несогласованном состоянии.<br/>
Предлагается следующий механизм для надёжной отправки сообщений:</p>
<li>Первый шаг - воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Публикация событий (Outbox)</a> для временного сохранения сообщений.</li>
<li>Второй шаг - передаем сообщения, сохраненные на первом шаге, бр…</li></div></div><div class="tooltip_templates"><div id="Повествованияоснованныенахореографии_tooltip_id"><p>Хореография -  способ реализации повествований, когда участники подписываются на события друг друга и реагируют соответствующим образом.<br/>
Сперва рассмотрим пример - повествование createOrder().</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210919120040.png"/></p>
<li>Сервиc <code>Order</code> создает заказ с состоянием <code>APPROVAL_PENDING</code> и публикует событие <code>OrderCreated</code>.</li>
<li>Сервис <code>Consumer</code> потребляет событие <code>OrderCreated</code>, проверяет, может ли заказчик размещать заказы …</li></div></div><div class="tooltip_templates"><div id="Недостаточнаяизолированность_tooltip_id"><p>Изолированность (isolation в аббревиатуре ACID) гарантирует, что результат параллельного выполнения нескольких ACID транзакций будет таким же, как при некоем последовательном выполнении. База Данных дает иллюзию того, что каждая ACID транзакция имеет эксклюзивный доступ к информации.<br/>
В случае с повествованиями мы имеем дело с ситуацией, когда каждая локальная транзакция сразу же фиксируется и обновления становятся доступными другим повествованиям, следовательно, л…</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id"><p>Почти любой запрос, обрабатываемый промышленным приложением, выполняется в рамках транзакции базы данных. Существует императивный (а некоторые фреймворки предоставляют декларативный) API для выполнения кода в рамках транзакции. Таким образом, в монолитных приложениях с единой БД просто управлять транзакциями. Однако, если приложение использует несколько БД и брокеров сообщений, процесс затрудняется. А в микросервисной архитектуре транзакции …</p></div></div><div class="tooltip_templates"><div id="Повествованиянаосновеоркестрации_tooltip_id"><p>Оркестрация как способ реализации повествований предполагает выделение <em>оркестратора</em>, единственной задачей которого является рассылка инструкций участникам. Оркестратор взаимодействует с участниками в стиле <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">“команда/асинхронный ответ”</a>. Чтобы выполнить этап повествования, он шлет участнику командное сообщение, указывая, какую операцию нужно выполнить. После выполнения операции участник возвращает оркестратору сообщение с …</p></div></div><div class="tooltip_templates"><div id="Координацияповествований_tooltip_id"><p>Реализация повествования состоит из логики, которая координирует его этапы. Она отвечает за выбор первого участника при инициализации повестования системной командой, затем выполнение им отведенного ему этапа и т.д. до тех пор, пока не будут выполнены все этапы. Если какой-либо этап завершится неудачно, логика выполняет компенсирующие шаги в нужном порядке.<br/>
Вот возможные способы реализации координирующей логики: <em>Хореография</em> и <em>Оркестрация</em>.</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямиспомощьюповествований_tooltip_id"><p>Транзакции типа <strong>ACID</strong> (Atomicity, Consistency, Isolation, Durability) значительно упрощают жизнь разработчиков. В микросервисной архитектуре ACID транзакии могут использовать даже запросы, выполняемые в рамках одного сервиса. Однако основная трудность состоит в реализации операций, которые обновляют данные, принадлежащие к разным сервисам.</p>
<p>…</p></div></div><div class="tooltip_templates"><div id="ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id"><p>В традиционном ООП доменная модель описывает набор классов и отношения между ними, например <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923193554.png"/><br/>
Этот пример содержит несколько классов, соотносящихся с бизнес-объектами: <code>Consumer</code>, <code>Order</code>, <code>Restaurant</code> и <code>Courier</code>. Как видно, в модели не хватает чётких границ между разными бизнес-объектами. Например, не видно, какие классы входят в бизнес-объект <code>Order</code>.<br/>
Расплывчатые границы могут привести к п…</p></div></div><div class="tooltip_templates"><div id="Шаблоныорганизациибизнеслогики_tooltip_id"><p>Вот <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">шестигранная архитектура</a> типичного сервиса. Ее ядром является <em>бизнес-логика</em>, и чаще всего это самая сложная часть сервиса.<br/>
Существует два основных шаблона организации бизнес-логики:</p>
<li>процедурный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">“Сценарий транзакции”</a></li>
<li>объектно-ориентированный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">“Доменная модель”</a></li>
<p>У шаблона “доменная модель” есть ряд проблем в контексте микросервисной архитектуры. Чтобы разобраться с ними, н…</p></div></div><div class="tooltip_templates"><div id="ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id"><p>DDD, описанное в <a href="https://www.ozon.ru/product/predmetno-orientirovannoe-proektirovanie-ddd-strukturizatsiya-slozhnyh-programmnyh-sistem-147107976/">книге Эрика Эванса Domain-Driven Design</a> - Это более узкая разновидность ООП, предназначенная для разаботки сложной бизнес-логики.<br/>
В DDD есть <em>стратегические шаблоны</em>, например поддомены и концепция изолированного контекста.<br/>
Также в DDD есть <em>тактические шаблоны</em>, которые служат стро…</p></div></div><div class="tooltip_templates"><div id="Доменныесобытия_tooltip_id"><p>В контексте <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">DDD</a> <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">доменное событие</a> - это нечто, произошедшее с <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">агрегатом</a>. Обычно представляет изменение состояния.</p>
<p>Полезность публикации доменных событий в том, что другие стороны взаимодействия (пользователи, внешние приложения или другие компоненты приложения) заинтересованы в информации об изменениях в состоянии агрегата. Например:</p>
<li>Обеспечение согласованности между серв…</li></div></div><div class="tooltip_templates"><div id="Доменнаямодель_tooltip_id"><p>Организует бизнес-логику в виде объектной модели - сети относительно небольших классов. Эти классы обычно напрямую соотносятся с концепциями из проблемной области.<br/>
В этой концепции существенная часть логики из сервисов переносится в доменные объекты</p></div></div><div class="tooltip_templates"><div id="Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id"><p>Сердцем промышленных приложений является бизнес-логика, которая реализует бизнес-правила. Разработка сложной бизнес-логики сопряжена с определенными трудностями.<br/>
В микросервисной архитектуре разрабатывать сложную бизнес-логику сложнее, чем в монолитной, так как она распределена между разными микросервисами. Ключевыми являются две проблемы. Первая - нужно сократить число ссылок в доменной модели, избавившись от тех, которые будут пересек…</p></div></div><div class="tooltip_templates"><div id="Сценарийтранзакции_tooltip_id"><p>Шаблон бизнес-логики, при котором бизнес-логика организуется в виде набора процедурных сценариев, по одному для каждого типа запросов. Другими словами, существуют отдельные классы с  поведением (сценариями), и отдельные классы с данными, совсем или практически совсем без поведения.</p></div></div><div class="tooltip_templates"><div id="Методыагрегатаполностьюполагаютсянасобытия_tooltip_id"><p>Чтобы обработать запрос и обновить агрегат, бизнес-логика вызывает командный метод из его корня. В традиционном подходе такой метод проверяет свои аргументы и обновляет одно или несколько полей агрегата. При порождении событий командные методы должны генерировать события. Результатом вызова командного метода агрегата является последовательность событий, описывающих изменения, которые нужно применить к агрегату, чтобы перевести его в новое состоян…</p></div></div><div class="tooltip_templates"><div id="Событияпредставляютизменениясостояния_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменное событие</a> - это механизм уведомления подписчиков об изменениях, вносимых в агрегаты. События могут содержать минимальную информацию, такую как ID агрегата, или могут быть расширены с помощью данных, нужных потребителю. Факт публикации события и его содержимое определяются тем, что именно нужно потребителю. Но в случае с порождением событий эта ответственность ложится на сам агрегат.<br/>
Каждое изменение состояния агрегата (вклю…</p></div></div><div class="tooltip_templates"><div id="Развитиедоменныхсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Шаблон “порождение событий”</a>, предполагает сохранение событий навсегда. Однако, в этом случае может возникнуть проблема, так как структура событий может меняться со временем. Существует вероятность, что приложению придётся иметь дело с несколькими версиями событий</p>
<p>На концептуальном уровне приложение, основанное на порождении событий, имеет трёхуровневую структуру:</p>
<li>Состоит из одного или нескольких агрегатов</li>
<li>Оп…</li></div></div><div class="tooltip_templates"><div id="Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id"><p>Событийная природа <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">шаблона “порождение событий”</a> делает реализацию повествований на основе географии довольно прямолинейной. При обновлении агрегат генерирует событие.  У другого агрегата может быть обработчик, который обновляет его в результате получения события. Фреймворк для порождения событий делает все обработчики идемпотентными.<br/>
Проблема использования событий для хореографии повествовани…</p></div></div><div class="tooltip_templates"><div id="Порождениеипубликациясобытий_tooltip_id"><p>Шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">порождение событий</a> сохраняет агрегат в виде событий, из которых заетм восстанавливает текущее состояние. Этот подход можно использовать в качестве механизма надежной публикации событий.<br/>
В <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">главе 3</a> описаны механизмы для публикации сообщений в рамках транзакции: <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">опрашивание</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">отслеживание транзакционного жургала</a>. При использовании пор…</p></div></div><div class="tooltip_templates"><div id="Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id"><p>Пусть мы реализовали один или несколько сервисов на основе порождения событий. Однако, чтобы корректно работать друг с другам, им необходимо инициировать <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a> - последовательности локальных транзакций, которые обеспечивают согласованность данных между сервисами, и участвовать в них. Следовательно, нам нужно интегрировать повествования и бизнес-логику на основе порождения событий.</p></div></div><div class="tooltip_templates"><div id="Преимуществапорождениясобытий_tooltip_id"><p>Основное преимущество порождения событий - надежная публикация уведомлений о каждом изменении состояния агрегата. Также событие может хранить ID пользователя, что позволяет вести журнал аудита. Поток событий можно использовать для других задач: уведомление пользователей, аналитика, мониторинг, уведомление других приложений</p>
<p>Можно легко определять состояние агрегата в любой прошлый мо…</p></div></div><div class="tooltip_templates"><div id="Разработкабизнеслогикиспорождениемсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a> - еще один способ структурирования бизнес-логики и сохранения агрегатов.<br/>
Имеет несколько важных преимуществ, например сохраняет историю агрегатов. Также обеспечивается надёжность публикации доменных событий. Есть и недостатки, например, сложность в изучении. Также обращение к хранилищу событий требует использования <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">шаблона CQRS</a>.</p></div></div><div class="tooltip_templates"><div id="Недостаткипорождениясобытий_tooltip_id"><p>Из-за своей необычности модель программирования, основанная на порождении событий, имеет высокий порог вхождения. Также для интеграции порождения событий в приложение потребуется переписать бизнес-логику.</p>
<p>Так как брокер сообщений обычно гарантирует доставку <em>не менее одного раза</em>, необходимо отслеживать и отклонять дубликаты.</p></div></div><div class="tooltip_templates"><div id="Обзорпорождениясобытий_tooltip_id"><p>Порождение событий - это событийный подход к реализации бизнес-логики и сохранению агрегатов. Агрегат хранится в БД в виде цепочки событий. Каждое событие предстваляет изменение его состояния. Бизнес-логика агрегата структурирована вокруг требования о генерации и потреблении этих событий.</p></div></div><div class="tooltip_templates"><div id="Реализацияхранилищасобытий_tooltip_id"><p><em>Хранилище событий</em> - это гибрид базы данных и брокера сообщений. БД - потому что у него еcть API для вставки и извлечения событий агрегата по первичному ключу. Брокер сообщений - потому что у него есть API для подписки на события.</p>
<p>Существует несколько способов реализации хранилища событий. Можно написать всё с нуля. Хранить записи в реляционной БД. Подписчики могут опрашивать таблицу <code>EVENTS</code> на предмет новый событий, однако необходимо гарантировать, что подписчи…</p></div></div><div class="tooltip_templates"><div id="Идемпотентнаяобработкасообщений_tooltip_id"><p>Сервисы часто потребляют сообщения из других приложений или сервисов. Как описывалось <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">в главе 3</a>, при разработке потребителя сообщений важно убедиться в его идемпотентности, поскольку брокер может доставить сообщение более чем один раз.<br/>
Потребитель является идемпотентным, если его можно безопасно вызывать по нескольку раз с одним и тем же сообщением.</p>
<p>М…</p></div></div><div class="tooltip_templates"><div id="Созданиеоркестратораповествования_tooltip_id"><p>Методы, такие как OrderService.CreateOrder() делают две вещи: создают или обновляют агрегат <em>и</em> создают оркестратор повествований. Сервис должен выполнять эти действия так, чтобы второе гарантированно завершалось в случае успешного выполнения первого. Реализация этого зависит от используемого типа хранилища.</p>
<p>Если сервис использует хранилище событий на основе реляционн…</p></div></div><div class="tooltip_templates"><div id="Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id"><p>Порожедние событий можно использовать и для реализации оркестраторов.<br/>
При разработке оркестратора повествований нужно решить три ключевые проблемы:</p>
<li>Как будет храниться оркестратор?</li>
<li>Как атомарно изменять состояние оркестратора и слать командные сообщения?</li>
<li>Как убедиться в том, что оркестратор обрабатывает ответы один раз?</li>
<p>Жизненный цикл оркестратора: сначала созда…</p></div></div><div class="tooltip_templates"><div id="Реализацияучастникаповествования_tooltip_id"><p>Нужно решить две проблемы, а именно: обеспечить идемпотентность обработки команд и атомарную отправку ответного сообщения.</p>
<p>Воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a>. Участник повествования записывает ID сообщения в события, которые генерируются при его обработке. Прежде чем обновлять агрегат, участник сверяет ID сообщения в событиях и убеждается в том, что он его еще не обра…</p></div></div><div class="tooltip_templates"><div id="Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id"><p>При порождении событий агрегат сохраняется в <em>хранилище событий</em> в виде последовательности событий.<br/>
Вот пример агрегата <code>Order</code>: порождение событий поещает каждый агрегат <code>Order</code> в таблицу <code>EVENTS</code>, используя одну или несколько строк. Каждая строка - это доменное событие.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210927192345.png"/><br/>
Создавая или обновляя агрегат, приложение вставляет в таблицу <code>EVENTS</code> событие, которое тот сгенерировал. Приложение загружает агрегат из …</p></div></div><div class="tooltip_templates"><div id="Улучшениепроизводительностиспомощьюснимков_tooltip_id"><p>В случае, когда агрегат достаточно долговечен, и его состояние часто меняется, со временем у него накапливается довольно много событий, что приводит к замедлению его загрузки и свёртки.<br/>
Эту проблему решают периодическим сохранением снимков состояния агрегата.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210929203331.png"/><br/>
Приложение восстанавливает состояние агрегата, загружая его последний снимок и только те события, которые произошли с момента его создания.<br/>
Если у агрегат…</p></div></div><div class="tooltip_templates"><div id="Проблемытрадиционногосохраненияданных_tooltip_id"><p>Традиционный подход к сохранению данных подразумевает привязывание классов к таблицам БД, полей этих классов - к столбцам, а экземпляров - к строкам. Так хранят данные большинство промышленных приложений. Однако у него есть несколько недостатков.</p>
<p>Эта проблема заключается в концептуальном несоответствии между табличной реляционной схемой и графовой структурой развитой доменной модели.</p>
<p>В традиц…</p></div></div><div class="tooltip_templates"><div id="ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id"><p>Рассмотрим в качестве примера запрос <code>findOrder()</code>. Он принимает <code>orderId</code> в качестве параметра и возвращает объект <code>orderDetails</code> с информацией о заказе. К примеру, операция вызывается неким клиентским модулем для представления <code>Order Status</code> - это основная информация о состоянии заказа, включая статус платежа, статус выполнения заявки с т.з. ресторана, а также местоположении и предполагаемым временем доставки, если заказ уже в пути.<br/>
![[Pasted ima…</p></div></div><div class="tooltip_templates"><div id="ДостоинстваCQRS_tooltip_id"><p>Так как для получения данных используются свои экземпляры БД, нет нужды делать JOIN-ы в памяти или порождать большое количество сетевых запросов.</p>
<p>В рамках этого шаблона можно применять специализированные БД для эффективной реализации специфических запросов, таких как геопоиск.</p></div></div><div class="tooltip_templates"><div id="Выборхранилищаданных_tooltip_id"><p>Основная задача БД и модели данных заключается в эффективной реализации запросов модуля представления. Основной фактор при выборе БД - как раз характеристики этих запросов. Второй фактор - эффективность операций обновления.</p>
<p>В зависимости от ситуации есть выбор между SQL и NoSQL решениями. NoSQL отлично подходят в силу лучшей производительности, масштабируемости и гибкой модели данных. Однако, если есть необходимость построения отчётов, сложной …</p></div></div><div class="tooltip_templates"><div id="НедостаткиCQRS_tooltip_id"><p>Разработчикам приходится писать дополнительные запрашивающие сервисы, которые отвечают за обновление представлений и обращение к ним. Также усложняется также администрирование и обслуживание дополнительных, часто разнообразных, хранилищ.</p>
<p>Как можно понять, между публикацией события командной стороной и его обработкой сервисом запросов проходит некоторое время. Клиентское приложение, которое обновляет агрегат и сразу же обраща…</p></div></div><div class="tooltip_templates"><div id="ПрименениешаблонаCQRS_tooltip_id"><p>Многие промышленные приложения используют СУРБД в качестве транзакционной системы записей, оставляя полнотекстовые запросы таким системам как Elasticsearch или Solr, либо одновременно записывая данные в обе БД, либо периодически копируя данные из СУРБД в поисковую систему. Такая архитектура использует и транзакционные свойства СУРБД, и возможности полнотекстового поиска.<br/>
Обобщенной версией этой архитектуры является <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">CQRS</a>. Идея в том, чтобы запросы выполн…</p></div></div><div class="tooltip_templates"><div id="ДобавлениеиобновлениеCQRSпредставлений_tooltip_id"><p>CQRS-представления добавляются и обновляются на протяжении жизенного цикла приложения.<br/>
Добавление и обновление представлений сами по себе довольно просты. При создании нового представления разрабатывается модуль стороны запросов, подготавливается хранилище данных и разворачивается сервис. Обработчики пропускают через себя все события, благодаря чему представление рано или поздно актуализируется. При обновлении нужно внести изменения и перестроить набо…</p></div></div><div class="tooltip_templates"><div id="ПроектированиеCQRSпредставлений_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/><br/>
Модуль CQRS-представления обладает API, состоящим из одного или нескольких запросов. Для реализации запросов используется БД, которая обновляется засчет подписки на события от одного или нескольких сервисов.</p></div></div><div class="tooltip_templates"><div id="Структурамодулядоступакданным_tooltip_id"><p>Обработчики событий и модуль API запросов не обращаются к хранилищу данных напрямую. Вместо этого задействуется специальный модуль, который состоит из объекта доступа к данным (Data Access Object, DAO) и его вспомогательных классов.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/></p>
<p>Если события, на которые подписано представление, публикуются агрегатами одного типа, никаких проблем с конкурентностиью не возникает - события обрабатываются последо…</p></div></div><div class="tooltip_templates"><div id="Реализациязапросоввмикросервиснойархитектуре_tooltip_id"><p>В <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">монолитной</a> архитектуре реализация запросов довольно прямолинейна, так как монолитное приложение использует единую БД. Однако, для <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной</a> архитектуры написание запросов сопряжено с трудностями, так как теперь данные разбросаны по разным сервисам и разным БД.<br/>
Существует два шаблона для написания запросов в микросервисной архитектуре.</p>
<li>[[api-composition-pattern| Об…</li></div></div><div class="tooltip_templates"><div id="АрхитектураAPIшлюза_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016110810.png"/><br/>
API-шлюз имеет двухуровневую модульную ахитектуру.<br/>
Она состоит из двух частей - общего уровня и API-модулей. Каждый уровень реализует API конкретного клиента. На общем уровне реализованы общие возможности и граничные функции.<br/>
В примере 3 API-модуля:</p>
<li><em>Мобильный API</em> - для мобильного клиента</li>
<li><em>браузерный API</em> - для JavaScript-приложения</li>
<li><em>публичный API</em> - для сторонних разработчиков</li>
<p>API-модуль либо прокидывает операцию дальше к серв…</p></div></div><div class="tooltip_templates"><div id="ТрудностипроектированияAPIшлюза_tooltip_id"><p>При проектировании API-шлюза могут возникнуть некоторые трудности, а именно:</p>
<p>Так как через шлюз поступают все запросы приложения, большое значение имеют его производительность и возможности масштабирования. Ключевое решение, которое влияет на эти показатели, заключается в выборе между синхронным и асинхронным вводом-выводом.<br/>
В <em>синхронной</em> модели каждый запрос обрабатывается отдельным потоком. Это простая модель, однак…</p></div></div><div class="tooltip_templates"><div id="РеализацияAPIшлюза_tooltip_id"><p>API-шлюз можно реализовать двумя способами.</p>
<li>Используя готовый продукт или сервис. Этот вариант практически не требует разработки, но он менее гибок. Так, например, готовые API-шлюзы обычно не поддерживают объединение API.</li>
<li>Путём разработки собственного API-шлюза.</li>
<p>Есть масса вариантов, автор упоминает 3:<br/>
- <strong>AWS API Gateway</strong>. Набор ресурсов REST, каждый из которых поддерживает один или несколько методов. В конфигурации нужно указать, …</p></div></div><div class="tooltip_templates"><div id="МодельвладениявAPIшлюзе_tooltip_id"><p>Важный вопрос при внедрении API-шлюза - кто несет ответственность за разработку API-шлюза и его операций? Если выделить для этого отдельную команду, это может стать потенциальным узким местом - если, например, разработчику мобильного приложения нужно получить доступ к определенному сервису, он должен обратиться к команде API-шлюза и подождать, пока они реализуют нужный API.<br/>
Другой подход: API-модуль отдается на откуп клиентским разработчикам, а команда API-шлюза отв…</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p>Подход, при котором клиенты выполняют множество запросов к сервисам для отображения информации, имеет <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">определенные недостатки</a>. Поэтому лучше сделать так, чтобы клиент делал один запрос к <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюзу</a>, сервису, который служит единой точкой входа для запросов к приложению извне.<br/>
Исходя из этого шлюзу разумно делегировать выполнение следующих функций.</p>
<p>Некоторые API-вызовы реализуются путем направления …</p></div></div><div class="tooltip_templates"><div id="ШаблонывнешнихAPI_tooltip_id"><p>У монолитного сервиса API для внешних клиентов чаще всего и сам монолитный. Однако в микросервисной архитектуре единого API чаще всего нет. Поэтому необходимо решить, каким образом организовать внешний API с учётом разнообразия клиентов, их задач и скоростей доступа.</p></div></div><div class="tooltip_templates"><div id="ПроблемыспроектированиемвнешнихAPI_tooltip_id"><p>Внешние API приложения могут использовать клиенты 4 типов:</p>
<li>Веб-приложения с браузерными UI для заказчиков, ресторанов и администраторов</li>
<li>JavaScript-приложение в браузере</li>
<li>Мобильные приложения</li>
<li>Приложения, написанные сторонними разработчиками</li>
<p>Один из вариантов проектирования API заключается в том, чтобы дать клиентам обращаться к сервисам напрямую. Однако на практике такое делают редко из-за следующих недостатков.</p>
<li>Для извлечения нужных данных клиен…</li></div></div><div class="tooltip_templates"><div id="Трудноститестированиямикросервисов_tooltip_id"><p>Микросервисное приложение - распределенная система, и межпроцессное взаимодействие играет одну из ключевых ролей.<br/>
Очень важно, чтобы разработчики писали тесты, которые проверяют, как он взаимодействует со своими зависимостями и клиентами.<br/>
<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Как говорилось</a>, сервисы могут общаться между собой, применяя разнообразные стили и механизмы IPC. Вот, к примеру, схема взаимодействия некоторых сервисов.<br/>
![[Pasted image 20211022193646....</p></div></div><div class="tooltip_templates"><div id="Написаниемодульныхтестовдлясервиса_tooltip_id"><p>Модульные тесты (unit tests) находятся на самом нижнем уровне пирамиды тестирования. Они ориентированы на технологии и могут использоваться в разработке. Модульный тест позволяет убедиться в правильной работе <em>модуля</em> - обычно под модулем понимают класс, так что тесты проверяют, ведет ли себя класс так, как ожидается.<br/>
Существует два типа модульных тестов:</p>
<li><em>изолированный</em> - тестирует отдельно взятый класс, заменяя зависимости объектами-макетами;</li>
<li>*общит…</li></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть1_tooltip_id"><p>Из-за своей сложности микросервисный подход требует внедрения написания автоматических тестов. Некоторые аспекты тестирования микросервисов трудно организовать, так как необходимо убедиться в том, что они могут корректно взаимодействовать между собой, но при этом минимизировать количество медленных, сложных и ненадежных сквозных тестов.<br/>
В этой главе описываются модульные тесты (unit tests). Другие типы тестов - в [[ch-10-testing-microservices-part-2|следующе…</p></div></div><div class="tooltip_templates"><div id="Обзорметодиктестирования_tooltip_id"><p class="admonition-title">Определение</p>
<p>Test Case (тестовый случай, вариант тестирования) - это формально описанный алгоритм тестирования программы, специально созданный для определения возникновения в программе определённой ситуации, определённых выходных данных. <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<p>Иными словами, целью теста является проверка поведения тестируе…</p>
<li id="fn:1">
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Разработкакомпонентныхтестов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Шаблон “компонентный тест сервиса”</a>. <br/>
Компонентные тесты близки к приемочным тестам (acceptance tests), поэтому сперва определим приемочные тесты.</p>
<p>Приемочные тесты относятся к бизнес-аспектам программного компонента. Они описывают предпочтительное поведение, которое наблюдают клиенты компонента, игнорируя внутреннюю реализацию. Формируются на основе сценариев, например, история <code>Place Order</code><br/>
```<br/>
К…</p></div></div><div class="tooltip_templates"><div id="Написаниесквозныхendtoendтестов_tooltip_id"><p>Сквозные тесты тестируют приложение целиком. Они находятся на вершине пирамиды, так как они меделнные и ненадежные, а на их разработку уходит много времени.</p>
<p>Лучше всего, чтобы сквозные тесты были основаны на <em>пользовательских путешествиях</em>🤔, которые описывают перемещение пользователя по системе. Например, проверку создания, пересмотра и отмены заказа можно объединить в один тест.</p>
<p>Сквозные тест…</p></div></div><div class="tooltip_templates"><div id="Написаниеинтеграционныхтестов_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211023125019.png"/><br/>
Интеграционные тесты находятся на пирамиде тестов на один уровень выше <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">юнит-тестов</a>. Они помогают убедиться в том, что сервис правильно взаимодействует с инфраструктурой и другими сервисами. Есть две стратегии, упрощающие код таких тестов.<br/>
Первая стратегия заключается в тестировании каждого адаптера сервиса, возможно, вместе со вспомогательными классами.<br/>
Вторая стратегия состоит в исп…</p></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть2_tooltip_id"><p>Вспомним <em>пирамиду тестов</em>:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/pyramid-of-tests.png"/><br/>
Поднимаемся выше по этой пирамиде.</p></div></div><div class="tooltip_templates"><div id="Проектированиеконфигурируемыхсервисов_tooltip_id"><p>Нет никакого смысла сохранять значения конфигурационных свойств прямо в коде сервиса, так как в этом случае его пришлось бы повторно собирать для каждой отдельной среды. Кроме того, конфиденциальная информация, такая как учетные данные, должна безопасно храниться в хранилище секретных ключей, таком как <a href="https://www.vaultproject.io/">Hashicorp Vault</a> или [AWS Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-par…</p></div></div><div class="tooltip_templates"><div id="Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id"><p>Сервис можно считать готовым к развертыванию только в том случае, когда ему присущи три критически важные качественные характеристики:</p>
<li>Безопасность </li>
<li>Конфигурируемость</li>
<li>Наблюдаемость</li></div></div><div class="tooltip_templates"><div id="Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id"><p>Любой сервис приложения должен поддерживать множество функций для обеспечения <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">безопасности</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">конфигурируемости</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">наблюдаемости</a>. Также сервис отвечает за свое <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">обнаружение</a> и реализацию <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранителей</a>. Чтобы не разрабатывать всё это отдельно для каждого сервиса, необхо…</p></div></div><div class="tooltip_templates"><div id="Проектированиенаблюдаемыхсервисов_tooltip_id"><p>Чтобы сделать сервисы более простыми для управления и диагностики, разработчик обязан использовать определенные шаблоны проектирования.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211101195345.png"/><br/>
 Эти шаблоны предоставляют информацию о поведении и работоспособности сервиса, позволяют системе мониторинга отслеживать и визуализировать состояние сервиса и генерировать оповещение при возникновении проблемы.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">API проверки работоспособности</a> - предоставляет…</li></div></div><div class="tooltip_templates"><div id="Разработкабезопасныхсервисов_tooltip_id"><p>Разработчик в первую очередь несет ответственность за то, как реализованы четыре аспекта безопасности.</p>
<li><em>Аутентификация</em>. Проверяет подлинность программы или человека, запрашивающего доступ.</li>
<li><em>Авторизация</em>. Проверяет, позволено ли субъекту выполнять запрошенную операцию.</li>
<li><em>Аудит</em>. Отслеживает операции, выполняемые субъектом, чтобы обнаруживать проблемы безопасности.</li>
<li><em>Безопасное межпроцессное взаимодействие</em>.</li></div></div><div class="tooltip_templates"><div id="Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id"><p>В микросервисной архитектуре каждый запрос клиента обрабатывается API-шлюзом и минимум одним сервисом. Чтобы обеспечить безопасность в микросервисной архитектуре, нужно определиться с тем, кто отвечает за аутентификацию пользователя, а кто - за авторизацию.</p>
<p>Лучше всего сделать так, чтобы клиент аутентифицировался API-шлюзом. <br/>
Это - шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">токен доступа</a>. <br/>
Для API-клиентов пос…</p></div></div><div class="tooltip_templates"><div id="ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">Oauth 2.0</a></p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211028200026.png"/><br/>
Последовательность событий для API-клиента выглядит так.</p>
<li>Клиент делает запрос, предоставляя свои учетные данные в процессе HTTP-аутентификации.</li>
<li>API-шлюз делает запрос типа <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">OAuth 2.0 Password Grant</a> к серверу аутентификации.</li>
<li>Сервер аутентификации проверяет учетные данные API-клиента и возвращает токены дос…</li></div></div><div class="tooltip_templates"><div id="Развертываниемикросервисов_tooltip_id"><p><em>Развертывание (deployment)</em> - это сочетание двух взаимосвязанных концепций - процесса и архитектуры. <em>Процесс развертывания</em> заключается в доставке кода в промышленную среду; <em>архитектура развертывания</em> определяет структуру среды, в которой этот код будет выполняться.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211105193720.png"/><br/>
Промышленная среда должна поддерживать четыре ключевые возможности</p>
<li><em>Интерфейс управления сервисами</em> позволяет создавать, обновлять и конфигурировать сервисы.</li>
<li>*…</li></div></div><div class="tooltip_templates"><div id="Аутентификацияиавторизация_tooltip_id"><p>Еще одна проблема, которую нужно решить при переводе монолитного приложения на микросервисы - адаптация существующего механизма безопасности. <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Реализация</a> безопасности для микросервисов основывается на токенах типа JWT. Это довольно сильно отличается от монолитного подхода, предусматривающего хранение сеанса в памяти. Трудность состоит в том, что необходимо одновременно поддерживать оба механизма.<br/>
Существует простой способ решения …</p></div></div><div class="tooltip_templates"><div id="Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id"><p>Предположим, что мы извлекли из монолита сервис <code>Kitchen</code>. Из-за этого придется перевести в монолитном коде такие операции как <code>createOrder()</code> и <code>cancelOrder()</code> на <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a>, чтобы сущности <code>Ticket</code> и <code>Order</code> остались согласованными.<br/>
Однако участие монолита в повествованиях не всегда проходит гладко. Например, повествования должны использовать компенсирующие транзакции для отмены изменений, однако, внедрение ком…</p></div></div><div class="tooltip_templates"><div id="Проектированиеинтеграционногослоя_tooltip_id"><p>Проектирование интеграционного слоя нужно начинать с определения того, какие API он будет предоставлять доменной логике. Существует несколько стилей интерфейсов, их выбор зависит от того, запрашиваются данные или обновляются. Если данные запрашиваются, это API лучше инкапсулировать в виде интерфейса репозитория. Если обновляются - в виде интерфейса сервиса (<code>service</code>).</p>
<p>В…</p></div></div><div class="tooltip_templates"><div id="Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id"><p>Сервисы редко бывают автономными. Обычно им приходится взаимодействовать с монолитом, как в одну сторону (сервису нужно обратиться к данным монолита или вызвать его операции), так и в другую (монолиту могут понадобиться данные и/или операции сервиса).<br/>
Одним из важных моментов является поддержание согласованности данных между сервисом и монолитом. В частности, при извлечении сервиса мы разделили то, что прежде было ACID-транзакцией. Для с…</p></div></div><div class="tooltip_templates"><div id="Реализацияновыхвозможностейввидесервисов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/law-of-holes/">Закон ямы</a> гласит “если вы оказались в яме, перестаньте копать”. Иными словами, если если монолитный проект уже большой и сложный, пора перестать добавлять в него усложняющие новые функции. Вместо этого новые функции следует реализовывать в виде сервисов.</p>
<p>Архитектура приложения после реализации новой возможности в виде сервиса.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106150706.png"/><br/>
Помимо монолита и нового сер…</p></div></div><div class="tooltip_templates"><div id="Извлечениебизнесвозможностейвсервисы_tooltip_id"><p>Для извлечения функций в сервисы необходимо брать вертикальный срез монолита, который состоит из:</p>
<li>входящих адаптеров, реализующих конечные точки API;</li>
<li>доменной логики;</li>
<li>исходящих адаптеров, таких как логика доступа к БД;</li>
<li>схемы базы данных монолита.<br/>
Вышеуказанный код извлекается из монолита и помещается в отдельный сервис.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106165113.png"/><br/>
Для извлечения сервиса может понадобиться разорвать зависимости и, возможно, разделить сущ…</li></div></div><div class="tooltip_templates"><div id="Процесспереходанамикросервисы_tooltip_id"><p>Как перейти на микросервисную архитектуру? Существуют стратегии, которые помогут выбраться из монолитного ада не переписывая всё с нуля. <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Удушающее приложение</a> - это новый проект, состоящий из микросервисов, которые являются реализацией новой функциональности или извлекаются из монолита. По мере реализации всё большего числа возможностей этот проект уменьшает и в конце концов убивает монолит. Важное преимущество по сравнению с пе…</p></div></div><div class="tooltip_templates"><div id="Стратегиипереходасмонолитанамикросервисы_tooltip_id"><p>Существует три основные стратегии для удушения монолита и постепенной замены его микросервисами.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Новые возможности в виде сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Разбиение монолита путём оформления функциональности в виде сервисов</a></li>
<p>Первая стратегия предотвращает дальнейшее развитие монолита и быстро продемонстрир…</p></div></div><div class="tooltip_templates"><div id="Переходнамикросервисы_tooltip_id"><p>Как известно, микросервисная архитектура обладает рядом <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">преимуществ</a>. Однако переход на микросервисы потребует ресурсов. В итоге такой переход будет одобрен, только если это поможет решить существенные бизнес-проблемы, например:</p>
<li><em>Медленная доставка</em>. В приложении сложно разобраться, затрудняются его обслуживание и тестирование, что снижает продуктивность разработчиков. В и…</li></div></div><div class="tooltip_templates"><div id="Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id"><p>Типичное промышленное приложение включает следующие слои:</p>
<li><em>Логика представления</em> - состоит из модулей, которые обрабатывают HTTP-запросы и генерируют HTML-страницы с пользовательским интерфейсом</li>
<li><em>Бизнес-логика</em> - состоит из модулей, реализующих бизнес-правила.</li>
<li><em>Логика доступа к данным</em> - состоит из модулей для доступа к инфраструктурным сервисам, таким как БД и брокеры сообщений.</li>
<p>Бизнес логика обычно обладает обобщенным API с одн…</p></div></div><div class="tooltip_templates"><div id="КнижкаМикросервисыШаблоныразработкиирефакторинга_tooltip_id"></div></div><div class="tooltip_templates"><div id="СравнениеSOAимикросервисов_tooltip_id"><p>(<strong>SOA</strong> - service-oriented architecture)<br/>
На высоком уровне - и SOA, и микросервисы - стили проектирования, которые структурируют систему как набор сервисов.</p>
<p>Однако:</p></div></div><div class="tooltip_templates"><div id="Побегизмонолитногоада_tooltip_id"><p>Приложение представляет собой монолит <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">гексагональной архитектуры</a>. Состоит из бизнес-логики, окруженной адаптерами, направленными извне (API, веб-интерфейс), так и вовне (БД, внешние сервисы).</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Преимущества</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">Недостатки</a></li>
<p>Недостатки влияют не на <em>функциональные требования</em> (можно реализовать бизнес-требования любым способом). Однако есть *требо…</p></div></div><div class="tooltip_templates"><div id="Модельпредставленийархитектурывида41_tooltip_id"><p>Модель 4+1 определяет 4 разных представления архитектуры ПО. Каждое описывает определенный аспект архитектуры и состоит из конкретного набора элементов и связей между ними.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210827202316.png"/></p>
<li><em>Логическое представление</em> - программные элементы, создаваемые разработчиками. Связи - отношения между классами и пакетами, включая наследование, взаимосвязи и зависимости</li>
<li><em>Представление реализации</em> - результат работы системы сборки. Связи - …</li></div></div><div class="tooltip_templates"><div id="Стратегиидекомпозиции_tooltip_id"><li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-what-is-microservice-architecture/">Что представляет собой микросервисная архитектура</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-how-to-define-microservice-architecture/">Определение микросервисной архитектуры приложения</a></li></div></div><div class="tooltip_templates"><div id="Шестиграннаяархитектура_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210828185920.png"/><br/>
<strong>Шестигранная архитектура</strong> - альтернатива <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">многоуровневой</a>. Организует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">логическое представление</a> таким образом, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-multilayer-architecture/">бизнес-логика</a> оказывается в центре. Вместо уровня представления есть один или несколько <em>входящих адаптеров</em>, которые обрабатывают внешние запросы путём вызова бизнес-логики. Вместо уровня хранения данных испол…</p></div></div><div class="tooltip_templates"><div id="Определениемикросервиснойархитектурыприложения_tooltip_id"><p>Как определить микросервисную архитектуру?<br/>
Здесь мы опишем процесс в виде трёх шагов, однако, нужно понимать, что это не инструкция, и ее не следует выполнять буквально.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210829164601.png"/></p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">Определение системных операций</a>. <em>Системная операция</em> - запрос, который приложение должно обработать. Поведение каждой команды определяется в виде абстрактной доменной модели, которая тоже извлекается и…</li></div></div><div class="tooltip_templates"><div id="Многоуровневаяархитектура_tooltip_id"><p>Классический пример архитектурного стиля. Характерна разделением элементов по уровням. Каждый уровень имеет чёткий набор обязанностей. Также ограничиваются зависимости между уровнями. Уровень может зависеть либо от уровня, лежащего непосредственно под ним (чёткое разбиение), либо от любого нижележащего уровня.<br/>
Многоуровневую архитектуру можно применить к любому из <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-4-plus-1-view-model-of-architecture/">представлений</a>.<br/>
Классический пример - трёхуровневая архитект…</p></div></div><div class="tooltip_templates"><div id="ОпределениеAPIсервисов_tooltip_id"><p class="admonition-title">API</p>
<p>Можно сказать, что <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9E%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/api/">API</a> сервиса состоит из операций, которые клиент может вызывать, и событий, публикуемых сервисом.</p>
<p>Операция в API может существовать по одной из двух причин: она либо соответствует <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-system-operation-definition/">системной операции</a> и вызывается внешними клиентами (или, возможно, другими сервисами), либо поддерживает взаимодействие между сервисами и вызывается только ими. События публикуются в основном для того, чтобы …</p></div></div><div class="tooltip_templates"><div id="Разбиениенасервисы_tooltip_id"><p>Важно понимать: не существует чётких инструкций, как разбивать приложение на сервисы. Однако, существует несколько стратегий декомпозиции, каждая из которых подходит к проблеме с определенной стороны и использует собственную терминологию. Однако, результатом во всех случаях будет архитектура, состоящая из сервисов, которые в основном организованы вокруг бизнес-процессов, а не технических концепций.</p>
<li>[[decompose-by-business-capability-pattern|Разбиение по бизнес-возможност…</li></div></div><div class="tooltip_templates"><div id="Определениесистемныхопераций_tooltip_id"><p>Это первый шаг в проектировании архитектуры приложения. За отправную точку берутся требования к приложению, включая пользовательские истории (user stories) и связанные с ними сценарии использования. <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210830192414.png"/><br/>
Процесс состоит из двух шагов.</p>
<li>Создаем обобщенную (или абстрактную) доменную модель, состоящую из ключевых классов, которые представляют словарь для описания системных операций. Используем, в основном, имена существительные, вз…</li></div></div><div class="tooltip_templates"><div id="Чтопредставляетсобоймикросервиснаяархитектура_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2001/ch-1-monolith/">В главе 1</a> говорилось, что ключевой идеей <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной архитектуры</a> является идея функциональной декомпозиции. Какое отношение этот подход имеет к понятию архитектуры ПО в целом? Что такое сервис и насколько важен его размер?</p>
<p class="admonition-title">Архитектура ПО</p>
<p>Программная архитектура вычислительной системы - это набор структур, необходимых для ее обсуждения и состоящих из программных элементов, …</p></div></div><div class="tooltip_templates"><div id="Использованиеасинхронногообменасообщениямидляулучшениядоступности_tooltip_id"><p>Каждый раз, когда сервисы общаются между собой по синхронному протоколу, снижается доступность всего приложения. С математической точки зрения доступность системной операции является произведением доступности сервисов, которые в нее вовлечены.<br/>
Пусть у нас есть сервис, который вызывает два других сервиса. Если каждый из них имеет доступность 99.5%, то все вместе они будут имет…</p></div></div><div class="tooltip_templates"><div id="Взаимодействиеспомощьюасинхронногообменасообщениями_tooltip_id"><p>Сервисы могут взаимодействовать путём асинхронного <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">обмена сообщениями</a>.</p>
<p>Рассмотрим модель обмена сообщениями, описанной в книге <a href="https://www.ozon.ru/product/shablony-integratsii-korporativnyh-prilozheniy-signature-series-151531716/">Шаблоны интеграции корпоративных приложений</a>. В этой модели <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message/">сообщения</a> передаются по <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/message-channel/">каналам</a>. Отправитель пишет сообщ…</p></div></div><div class="tooltip_templates"><div id="Конкурирующиеполучателиипорядокследованиясообщений_tooltip_id"><p>В случае ситуации нескольких одинаковых получателей возможна ситуация, когда несколько последовательных сообщений будут доставлены в некорректном порядке разным экземплярам получателей.<br/>
Одно из решений - использование <em>сегментированных каналов</em>.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210915203724.png"/></p>
<li>Сегментированный канал включает в себя два и более сегмента, каждый из которых ведет себя как канал.</li>
<li>Отправитель указывает в заголовке ключ сегмента. Бро…</li></div></div><div class="tooltip_templates"><div id="Межпроцессноевзаимодействиевмикросервиснойархитектуре_tooltip_id"><p>Далее - <strong>IPC (interprocess communication)</strong><br/>
В приложениях микросервисной архитектуры IPC играет более важную роль, чем в монолитных приложениях. Экземпляры сервисов чаще всего являются процессами, запущеными на разных компьютерах, следовательно, должны общаться друг с другом при помощи IPC. Выбор механизма IPC  - важное архитектурное решение, он может повлиять на уровень доступности приложения.</p></div></div><div class="tooltip_templates"><div id="ОбзорIPC_tooltip_id"><p>Существует множество разных технологий IPC. Сервисы могут использовать коммуникационные механизмы на основе запросов/ответов, такие как <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a> или <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a>, или механизмы коммуникации на основе сообщений, такие как <a class="wikilink" href="amqp-comm-model">AMQP</a> или <a class="wikilink" href="stomp-comm-model">STOMP</a>. Также существует множество форматов сообщений, как текстовые форматы, понятные человеку (JSON или XML), так более эффективные двоичные - Avro или Protocol Buffers.</p>
<p>Стили вз…</p></div></div><div class="tooltip_templates"><div id="Факторывыбораброкерасообщений_tooltip_id"><li><em>Поддерживаемые языки программирования</em>. Больше - лучше. Ну или нужен тот, на котором мы пишем.</li>
<li><em>Поддерживаемые стандарты обмена сообщениями</em>. Поддерживаются ли стандарты вроде <strong>AMQP</strong> или <strong>STOMP</strong>? Используется ли закрытый протокол?</li>
<li><em>Порядок следования сообщений</em>. Сохраняет ли брокер порядок следования сообщений?</li>
<li><em>Гарантии доставки</em>. Какие гарантии доставки даёт брокер?</li>
<li><em>Постоянное хранение</em>. Сохраняются ли сообщения на диск? Могут ли сообщения пер…</li></div></div><div class="tooltip_templates"><div id="Использованиеброкерасообщений_tooltip_id"><p>Приложения, основанные на сообщениях, обычно применяют <em>брокер сообщений</em> - инфраструктурный компонент, через который сервисы общаются друг с другом. Однако, архитектура обмена сообщений может и не иметь брокера, и сервисы взаимодействуют напрямую.</p>
<p>В архитектуре без брокера сервисы общаются напрямую. Одна из реализаций такого подхода - проект <a href="https://zeromq.org/">ZeroMQ</a></p>
<li>Более легковесный сетево…</li></div></div><div class="tooltip_templates"><div id="Дублированиесообщений_tooltip_id"><p>В идеале брокер должен доставлять сообщение ровно один раз. Однако обеспечение этого обычно сильно затратно. Вместо этого большинство брокеров обеспечивает  доставку <em>минимум один раз (at least once)</em>.<br/>
Если логика, обрабатывающая сообщения, является идемпотентной, то это не проблема. В случае, когда логика не является идемпотентной, можно воспользоваться шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a></p></div></div><div class="tooltip_templates"><div id="Реализациястилейвзаимодействия_tooltip_id"><p>Механизмы обмена сообщениями достаточно гибки, чтобы реализовать все <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/messaging-pattern/">стили взаимодействия</a>. Вот как реализуется каждый.</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210911183223.png"/><br/>
Клиент и сервис могут взаимодействовать, отправляя запросы и принимая ответы. Если это происходит синхронно, клиент ожидает немедленного ответа от сервиса, если асинхронно - не ждёт. Обмен сообщениями по природе асинхронен, но клие…</p></div></div><div class="tooltip_templates"><div id="ВзаимодействиенаосновеудаленноговызовапроцедурRPI_tooltip_id"><p>Рассмотрим шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/rpi-pattern/">удаленный вызов процедур</a>. Существует много протоколов RPI. Рассмотрим REST и gRPC.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/REST/REST/">REST</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/grpc-comm-model/">gRPC</a></li>
<p>Оба представляют собой синхронные коммуникационные механизмы и, как следствие, страдают из-за проблем с частичным отказом. Например, сервис может быть недоступен вследствие сбоя, или находиться в процессе обслуживания. Кроме того, сервис может быть перегруженным и отвечать медленно, …</p></div></div><div class="tooltip_templates"><div id="Обнаружениесервисов_tooltip_id"><p>В микросервисной архитектуре, когда большинство сервисов получает адреса динамически, и набор экземпляров может постоянно изменяться, важно использовать механзм обнаружения сервисов. Ядром такого механизма становится <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/service-registry-pattern/">реестр сервисов</a>. Когда экземпляры сервисов запускаются или останавливаются, механизм обнаружения обновляет реестр. Когда клиент хочет обратиться к сервису, он обращается к реестру за списком доступных экземпляров сервиса, и запраши…</p></div></div><div class="tooltip_templates"><div id="Транзакционныйобменсообщениями_tooltip_id"><p>Сервисы часто нужно публиковать сообщения в рамках транзакции, обновляющей базу данных. Если не отправить сообщение одновременно с записью в БД, система может остаться в несогласованном состоянии.<br/>
Предлагается следующий механизм для надёжной отправки сообщений:</p>
<li>Первый шаг - воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transactional-outbox-pattern/">Публикация событий (Outbox)</a> для временного сохранения сообщений.</li>
<li>Второй шаг - передаем сообщения, сохраненные на первом шаге, бр…</li></div></div><div class="tooltip_templates"><div id="Повествованияоснованныенахореографии_tooltip_id"><p>Хореография -  способ реализации повествований, когда участники подписываются на события друг друга и реагируют соответствующим образом.<br/>
Сперва рассмотрим пример - повествование createOrder().</p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210919120040.png"/></p>
<li>Сервиc <code>Order</code> создает заказ с состоянием <code>APPROVAL_PENDING</code> и публикует событие <code>OrderCreated</code>.</li>
<li>Сервис <code>Consumer</code> потребляет событие <code>OrderCreated</code>, проверяет, может ли заказчик размещать заказы …</li></div></div><div class="tooltip_templates"><div id="Недостаточнаяизолированность_tooltip_id"><p>Изолированность (isolation в аббревиатуре ACID) гарантирует, что результат параллельного выполнения нескольких ACID транзакций будет таким же, как при некоем последовательном выполнении. База Данных дает иллюзию того, что каждая ACID транзакция имеет эксклюзивный доступ к информации.<br/>
В случае с повествованиями мы имеем дело с ситуацией, когда каждая локальная транзакция сразу же фиксируется и обновления становятся доступными другим повествованиям, следовательно, л…</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямивмикросервиснойархитектуре_tooltip_id"><p>Почти любой запрос, обрабатываемый промышленным приложением, выполняется в рамках транзакции базы данных. Существует императивный (а некоторые фреймворки предоставляют декларативный) API для выполнения кода в рамках транзакции. Таким образом, в монолитных приложениях с единой БД просто управлять транзакциями. Однако, если приложение использует несколько БД и брокеров сообщений, процесс затрудняется. А в микросервисной архитектуре транзакции …</p></div></div><div class="tooltip_templates"><div id="Повествованиянаосновеоркестрации_tooltip_id"><p>Оркестрация как способ реализации повествований предполагает выделение <em>оркестратора</em>, единственной задачей которого является рассылка инструкций участникам. Оркестратор взаимодействует с участниками в стиле <a class="wikilink" href="https://garden.stalker-home.xyz/Microservices/Messages/request-async-response-messaging/">“команда/асинхронный ответ”</a>. Чтобы выполнить этап повествования, он шлет участнику командное сообщение, указывая, какую операцию нужно выполнить. После выполнения операции участник возвращает оркестратору сообщение с …</p></div></div><div class="tooltip_templates"><div id="Координацияповествований_tooltip_id"><p>Реализация повествования состоит из логики, которая координирует его этапы. Она отвечает за выбор первого участника при инициализации повестования системной командой, затем выполнение им отведенного ему этапа и т.д. до тех пор, пока не будут выполнены все этапы. Если какой-либо этап завершится неудачно, логика выполняет компенсирующие шаги в нужном порядке.<br/>
Вот возможные способы реализации координирующей логики: <em>Хореография</em> и <em>Оркестрация</em>.</p></div></div><div class="tooltip_templates"><div id="Управлениетранзакциямиспомощьюповествований_tooltip_id"><p>Транзакции типа <strong>ACID</strong> (Atomicity, Consistency, Isolation, Durability) значительно упрощают жизнь разработчиков. В микросервисной архитектуре ACID транзакии могут использовать даже запросы, выполняемые в рамках одного сервиса. Однако основная трудность состоит в реализации операций, которые обновляют данные, принадлежащие к разным сервисам.</p>
<p>…</p></div></div><div class="tooltip_templates"><div id="ПроектированиедоменноймоделиспомощьюшаблонаАгрегатизDDD_tooltip_id"><p>В традиционном ООП доменная модель описывает набор классов и отношения между ними, например <br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210923193554.png"/><br/>
Этот пример содержит несколько классов, соотносящихся с бизнес-объектами: <code>Consumer</code>, <code>Order</code>, <code>Restaurant</code> и <code>Courier</code>. Как видно, в модели не хватает чётких границ между разными бизнес-объектами. Например, не видно, какие классы входят в бизнес-объект <code>Order</code>.<br/>
Расплывчатые границы могут привести к п…</p></div></div><div class="tooltip_templates"><div id="Шаблоныорганизациибизнеслогики_tooltip_id"><p>Вот <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2002/ch-2-hexagonal-architecture/">шестигранная архитектура</a> типичного сервиса. Ее ядром является <em>бизнес-логика</em>, и чаще всего это самая сложная часть сервиса.<br/>
Существует два основных шаблона организации бизнес-логики:</p>
<li>процедурный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-transaction-script/">“Сценарий транзакции”</a></li>
<li>объектно-ориентированный <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-model/">“Доменная модель”</a></li>
<p>У шаблона “доменная модель” есть ряд проблем в контексте микросервисной архитектуры. Чтобы разобраться с ними, н…</p></div></div><div class="tooltip_templates"><div id="ОпредметноориентированномпроектированииDomainDrivenDesign_tooltip_id"><p>DDD, описанное в <a href="https://www.ozon.ru/product/predmetno-orientirovannoe-proektirovanie-ddd-strukturizatsiya-slozhnyh-programmnyh-sistem-147107976/">книге Эрика Эванса Domain-Driven Design</a> - Это более узкая разновидность ООП, предназначенная для разаботки сложной бизнес-логики.<br/>
В DDD есть <em>стратегические шаблоны</em>, например поддомены и концепция изолированного контекста.<br/>
Также в DDD есть <em>тактические шаблоны</em>, которые служат стро…</p></div></div><div class="tooltip_templates"><div id="Доменныесобытия_tooltip_id"><p>В контексте <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-driven-design/">DDD</a> <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/domain-event-pattern/">доменное событие</a> - это нечто, произошедшее с <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/aggregate-pattern/">агрегатом</a>. Обычно представляет изменение состояния.</p>
<p>Полезность публикации доменных событий в том, что другие стороны взаимодействия (пользователи, внешние приложения или другие компоненты приложения) заинтересованы в информации об изменениях в состоянии агрегата. Например:</p>
<li>Обеспечение согласованности между серв…</li></div></div><div class="tooltip_templates"><div id="Доменнаямодель_tooltip_id"><p>Организует бизнес-логику в виде объектной модели - сети относительно небольших классов. Эти классы обычно напрямую соотносятся с концепциями из проблемной области.<br/>
В этой концепции существенная часть логики из сервисов переносится в доменные объекты</p></div></div><div class="tooltip_templates"><div id="Проектированиебизнеслогикивмикросервиснойархитектуре_tooltip_id"><p>Сердцем промышленных приложений является бизнес-логика, которая реализует бизнес-правила. Разработка сложной бизнес-логики сопряжена с определенными трудностями.<br/>
В микросервисной архитектуре разрабатывать сложную бизнес-логику сложнее, чем в монолитной, так как она распределена между разными микросервисами. Ключевыми являются две проблемы. Первая - нужно сократить число ссылок в доменной модели, избавившись от тех, которые будут пересек…</p></div></div><div class="tooltip_templates"><div id="Сценарийтранзакции_tooltip_id"><p>Шаблон бизнес-логики, при котором бизнес-логика организуется в виде набора процедурных сценариев, по одному для каждого типа запросов. Другими словами, существуют отдельные классы с  поведением (сценариями), и отдельные классы с данными, совсем или практически совсем без поведения.</p></div></div><div class="tooltip_templates"><div id="Методыагрегатаполностьюполагаютсянасобытия_tooltip_id"><p>Чтобы обработать запрос и обновить агрегат, бизнес-логика вызывает командный метод из его корня. В традиционном подходе такой метод проверяет свои аргументы и обновляет одно или несколько полей агрегата. При порождении событий командные методы должны генерировать события. Результатом вызова командного метода агрегата является последовательность событий, описывающих изменения, которые нужно применить к агрегату, чтобы перевести его в новое состоян…</p></div></div><div class="tooltip_templates"><div id="Событияпредставляютизменениясостояния_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2005/ch-5-domain-events/">Доменное событие</a> - это механизм уведомления подписчиков об изменениях, вносимых в агрегаты. События могут содержать минимальную информацию, такую как ID агрегата, или могут быть расширены с помощью данных, нужных потребителю. Факт публикации события и его содержимое определяются тем, что именно нужно потребителю. Но в случае с порождением событий эта ответственность ложится на сам агрегат.<br/>
Каждое изменение состояния агрегата (вклю…</p></div></div><div class="tooltip_templates"><div id="Развитиедоменныхсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Шаблон “порождение событий”</a>, предполагает сохранение событий навсегда. Однако, в этом случае может возникнуть проблема, так как структура событий может меняться со временем. Существует вероятность, что приложению придётся иметь дело с несколькими версиями событий</p>
<p>На концептуальном уровне приложение, основанное на порождении событий, имеет трёхуровневую структуру:</p>
<li>Состоит из одного или нескольких агрегатов</li>
<li>Оп…</li></div></div><div class="tooltip_templates"><div id="Реализацияповествованийнаосновехореографииспомощьюпорождениясобытий_tooltip_id"><p>Событийная природа <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">шаблона “порождение событий”</a> делает реализацию повествований на основе географии довольно прямолинейной. При обновлении агрегат генерирует событие.  У другого агрегата может быть обработчик, который обновляет его в результате получения события. Фреймворк для порождения событий делает все обработчики идемпотентными.<br/>
Проблема использования событий для хореографии повествовани…</p></div></div><div class="tooltip_templates"><div id="Порождениеипубликациясобытий_tooltip_id"><p>Шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">порождение событий</a> сохраняет агрегат в виде событий, из которых заетм восстанавливает текущее состояние. Этот подход можно использовать в качестве механизма надежной публикации событий.<br/>
В <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-transactional-messaging/">главе 3</a> описаны механизмы для публикации сообщений в рамках транзакции: <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/polling-publisher-pattern/">опрашивание</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/transaction-log-tailing-pattern/">отслеживание транзакционного жургала</a>. При использовании пор…</p></div></div><div class="tooltip_templates"><div id="Совместноеиспользованиеповествованийипорождениясобытий_tooltip_id"><p>Пусть мы реализовали один или несколько сервисов на основе порождения событий. Однако, чтобы корректно работать друг с другам, им необходимо инициировать <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a> - последовательности локальных транзакций, которые обеспечивают согласованность данных между сервисами, и участвовать в них. Следовательно, нам нужно интегрировать повествования и бизнес-логику на основе порождения событий.</p></div></div><div class="tooltip_templates"><div id="Преимуществапорождениясобытий_tooltip_id"><p>Основное преимущество порождения событий - надежная публикация уведомлений о каждом изменении состояния агрегата. Также событие может хранить ID пользователя, что позволяет вести журнал аудита. Поток событий можно использовать для других задач: уведомление пользователей, аналитика, мониторинг, уведомление других приложений</p>
<p>Можно легко определять состояние агрегата в любой прошлый мо…</p></div></div><div class="tooltip_templates"><div id="Разработкабизнеслогикиспорождениемсобытий_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/event-sourcing-pattern/">Порождение событий</a> - еще один способ структурирования бизнес-логики и сохранения агрегатов.<br/>
Имеет несколько важных преимуществ, например сохраняет историю агрегатов. Также обеспечивается надёжность публикации доменных событий. Есть и недостатки, например, сложность в изучении. Также обращение к хранилищу событий требует использования <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">шаблона CQRS</a>.</p></div></div><div class="tooltip_templates"><div id="Недостаткипорождениясобытий_tooltip_id"><p>Из-за своей необычности модель программирования, основанная на порождении событий, имеет высокий порог вхождения. Также для интеграции порождения событий в приложение потребуется переписать бизнес-логику.</p>
<p>Так как брокер сообщений обычно гарантирует доставку <em>не менее одного раза</em>, необходимо отслеживать и отклонять дубликаты.</p></div></div><div class="tooltip_templates"><div id="Обзорпорождениясобытий_tooltip_id"><p>Порождение событий - это событийный подход к реализации бизнес-логики и сохранению агрегатов. Агрегат хранится в БД в виде цепочки событий. Каждое событие предстваляет изменение его состояния. Бизнес-логика агрегата структурирована вокруг требования о генерации и потреблении этих событий.</p></div></div><div class="tooltip_templates"><div id="Реализацияхранилищасобытий_tooltip_id"><p><em>Хранилище событий</em> - это гибрид базы данных и брокера сообщений. БД - потому что у него еcть API для вставки и извлечения событий агрегата по первичному ключу. Брокер сообщений - потому что у него есть API для подписки на события.</p>
<p>Существует несколько способов реализации хранилища событий. Можно написать всё с нуля. Хранить записи в реляционной БД. Подписчики могут опрашивать таблицу <code>EVENTS</code> на предмет новый событий, однако необходимо гарантировать, что подписчи…</p></div></div><div class="tooltip_templates"><div id="Идемпотентнаяобработкасообщений_tooltip_id"><p>Сервисы часто потребляют сообщения из других приложений или сервисов. Как описывалось <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-message-duplicates/">в главе 3</a>, при разработке потребителя сообщений важно убедиться в его идемпотентности, поскольку брокер может доставить сообщение более чем один раз.<br/>
Потребитель является идемпотентным, если его можно безопасно вызывать по нескольку раз с одним и тем же сообщением.</p>
<p>М…</p></div></div><div class="tooltip_templates"><div id="Созданиеоркестратораповествования_tooltip_id"><p>Методы, такие как OrderService.CreateOrder() делают две вещи: создают или обновляют агрегат <em>и</em> создают оркестратор повествований. Сервис должен выполнять эти действия так, чтобы второе гарантированно завершалось в случае успешного выполнения первого. Реализация этого зависит от используемого типа хранилища.</p>
<p>Если сервис использует хранилище событий на основе реляционн…</p></div></div><div class="tooltip_templates"><div id="Реализацияоркестраторовповествованийспомощьюпорождениясобытий_tooltip_id"><p>Порожедние событий можно использовать и для реализации оркестраторов.<br/>
При разработке оркестратора повествований нужно решить три ключевые проблемы:</p>
<li>Как будет храниться оркестратор?</li>
<li>Как атомарно изменять состояние оркестратора и слать командные сообщения?</li>
<li>Как убедиться в том, что оркестратор обрабатывает ответы один раз?</li>
<p>Жизненный цикл оркестратора: сначала созда…</p></div></div><div class="tooltip_templates"><div id="Реализацияучастникаповествования_tooltip_id"><p>Нужно решить две проблемы, а именно: обеспечить идемпотентность обработки команд и атомарную отправку ответного сообщения.</p>
<p>Воспользуемся шаблоном <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/idempotent-consumer-pattern/">идемпотентный потребитель</a>. Участник повествования записывает ID сообщения в события, которые генерируются при его обработке. Прежде чем обновлять агрегат, участник сверяет ID сообщения в событиях и убеждается в том, что он его еще не обра…</p></div></div><div class="tooltip_templates"><div id="Сохранениеагрегатовспомощьюпорождениясобытий_tooltip_id"><p>При порождении событий агрегат сохраняется в <em>хранилище событий</em> в виде последовательности событий.<br/>
Вот пример агрегата <code>Order</code>: порождение событий поещает каждый агрегат <code>Order</code> в таблицу <code>EVENTS</code>, используя одну или несколько строк. Каждая строка - это доменное событие.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210927192345.png"/><br/>
Создавая или обновляя агрегат, приложение вставляет в таблицу <code>EVENTS</code> событие, которое тот сгенерировал. Приложение загружает агрегат из …</p></div></div><div class="tooltip_templates"><div id="Улучшениепроизводительностиспомощьюснимков_tooltip_id"><p>В случае, когда агрегат достаточно долговечен, и его состояние часто меняется, со временем у него накапливается довольно много событий, что приводит к замедлению его загрузки и свёртки.<br/>
Эту проблему решают периодическим сохранением снимков состояния агрегата.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020210929203331.png"/><br/>
Приложение восстанавливает состояние агрегата, загружая его последний снимок и только те события, которые произошли с момента его создания.<br/>
Если у агрегат…</p></div></div><div class="tooltip_templates"><div id="Проблемытрадиционногосохраненияданных_tooltip_id"><p>Традиционный подход к сохранению данных подразумевает привязывание классов к таблицам БД, полей этих классов - к столбцам, а экземпляров - к строкам. Так хранят данные большинство промышленных приложений. Однако у него есть несколько недостатков.</p>
<p>Эта проблема заключается в концептуальном несоответствии между табличной реляционной схемой и графовой структурой развитой доменной модели.</p>
<p>В традиц…</p></div></div><div class="tooltip_templates"><div id="ВыполнениезапросовспомощьюобъединенияAPI_tooltip_id"><p>Рассмотрим в качестве примера запрос <code>findOrder()</code>. Он принимает <code>orderId</code> в качестве параметра и возвращает объект <code>orderDetails</code> с информацией о заказе. К примеру, операция вызывается неким клиентским модулем для представления <code>Order Status</code> - это основная информация о состоянии заказа, включая статус платежа, статус выполнения заявки с т.з. ресторана, а также местоположении и предполагаемым временем доставки, если заказ уже в пути.<br/>
![[Pasted ima…</p></div></div><div class="tooltip_templates"><div id="ДостоинстваCQRS_tooltip_id"><p>Так как для получения данных используются свои экземпляры БД, нет нужды делать JOIN-ы в памяти или порождать большое количество сетевых запросов.</p>
<p>В рамках этого шаблона можно применять специализированные БД для эффективной реализации специфических запросов, таких как геопоиск.</p></div></div><div class="tooltip_templates"><div id="Выборхранилищаданных_tooltip_id"><p>Основная задача БД и модели данных заключается в эффективной реализации запросов модуля представления. Основной фактор при выборе БД - как раз характеристики этих запросов. Второй фактор - эффективность операций обновления.</p>
<p>В зависимости от ситуации есть выбор между SQL и NoSQL решениями. NoSQL отлично подходят в силу лучшей производительности, масштабируемости и гибкой модели данных. Однако, если есть необходимость построения отчётов, сложной …</p></div></div><div class="tooltip_templates"><div id="НедостаткиCQRS_tooltip_id"><p>Разработчикам приходится писать дополнительные запрашивающие сервисы, которые отвечают за обновление представлений и обращение к ним. Также усложняется также администрирование и обслуживание дополнительных, часто разнообразных, хранилищ.</p>
<p>Как можно понять, между публикацией события командной стороной и его обработкой сервисом запросов проходит некоторое время. Клиентское приложение, которое обновляет агрегат и сразу же обраща…</p></div></div><div class="tooltip_templates"><div id="ПрименениешаблонаCQRS_tooltip_id"><p>Многие промышленные приложения используют СУРБД в качестве транзакционной системы записей, оставляя полнотекстовые запросы таким системам как Elasticsearch или Solr, либо одновременно записывая данные в обе БД, либо периодически копируя данные из СУРБД в поисковую систему. Такая архитектура использует и транзакционные свойства СУРБД, и возможности полнотекстового поиска.<br/>
Обобщенной версией этой архитектуры является <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Request%20Patterns/cqrs-pattern/">CQRS</a>. Идея в том, чтобы запросы выполн…</p></div></div><div class="tooltip_templates"><div id="ДобавлениеиобновлениеCQRSпредставлений_tooltip_id"><p>CQRS-представления добавляются и обновляются на протяжении жизенного цикла приложения.<br/>
Добавление и обновление представлений сами по себе довольно просты. При создании нового представления разрабатывается модуль стороны запросов, подготавливается хранилище данных и разворачивается сервис. Обработчики пропускают через себя все события, благодаря чему представление рано или поздно актуализируется. При обновлении нужно внести изменения и перестроить набо…</p></div></div><div class="tooltip_templates"><div id="ПроектированиеCQRSпредставлений_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/><br/>
Модуль CQRS-представления обладает API, состоящим из одного или нескольких запросов. Для реализации запросов используется БД, которая обновляется засчет подписки на события от одного или нескольких сервисов.</p></div></div><div class="tooltip_templates"><div id="Структурамодулядоступакданным_tooltip_id"><p>Обработчики событий и модуль API запросов не обращаются к хранилищу данных напрямую. Вместо этого задействуется специальный модуль, который состоит из объекта доступа к данным (Data Access Object, DAO) и его вспомогательных классов.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211006204123.png"/></p>
<p>Если события, на которые подписано представление, публикуются агрегатами одного типа, никаких проблем с конкурентностиью не возникает - события обрабатываются последо…</p></div></div><div class="tooltip_templates"><div id="Реализациязапросоввмикросервиснойархитектуре_tooltip_id"><p>В <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/monolithic-architecture-pattern/">монолитной</a> архитектуре реализация запросов довольно прямолинейна, так как монолитное приложение использует единую БД. Однако, для <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">микросервисной</a> архитектуры написание запросов сопряжено с трудностями, так как теперь данные разбросаны по разным сервисам и разным БД.<br/>
Существует два шаблона для написания запросов в микросервисной архитектуре.</p>
<li>[[api-composition-pattern| Об…</li></div></div><div class="tooltip_templates"><div id="АрхитектураAPIшлюза_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211016110810.png"/><br/>
API-шлюз имеет двухуровневую модульную ахитектуру.<br/>
Она состоит из двух частей - общего уровня и API-модулей. Каждый уровень реализует API конкретного клиента. На общем уровне реализованы общие возможности и граничные функции.<br/>
В примере 3 API-модуля:</p>
<li><em>Мобильный API</em> - для мобильного клиента</li>
<li><em>браузерный API</em> - для JavaScript-приложения</li>
<li><em>публичный API</em> - для сторонних разработчиков</li>
<p>API-модуль либо прокидывает операцию дальше к серв…</p></div></div><div class="tooltip_templates"><div id="ТрудностипроектированияAPIшлюза_tooltip_id"><p>При проектировании API-шлюза могут возникнуть некоторые трудности, а именно:</p>
<p>Так как через шлюз поступают все запросы приложения, большое значение имеют его производительность и возможности масштабирования. Ключевое решение, которое влияет на эти показатели, заключается в выборе между синхронным и асинхронным вводом-выводом.<br/>
В <em>синхронной</em> модели каждый запрос обрабатывается отдельным потоком. Это простая модель, однак…</p></div></div><div class="tooltip_templates"><div id="РеализацияAPIшлюза_tooltip_id"><p>API-шлюз можно реализовать двумя способами.</p>
<li>Используя готовый продукт или сервис. Этот вариант практически не требует разработки, но он менее гибок. Так, например, готовые API-шлюзы обычно не поддерживают объединение API.</li>
<li>Путём разработки собственного API-шлюза.</li>
<p>Есть масса вариантов, автор упоминает 3:<br/>
- <strong>AWS API Gateway</strong>. Набор ресурсов REST, каждый из которых поддерживает один или несколько методов. В конфигурации нужно указать, …</p></div></div><div class="tooltip_templates"><div id="МодельвладениявAPIшлюзе_tooltip_id"><p>Важный вопрос при внедрении API-шлюза - кто несет ответственность за разработку API-шлюза и его операций? Если выделить для этого отдельную команду, это может стать потенциальным узким местом - если, например, разработчику мобильного приложения нужно получить доступ к определенному сервису, он должен обратиться к команде API-шлюза и подождать, пока они реализуют нужный API.<br/>
Другой подход: API-модуль отдается на откуп клиентским разработчикам, а команда API-шлюза отв…</p></div></div><div class="tooltip_templates"><div id="ШаблонAPIшлюз_tooltip_id"><p>Подход, при котором клиенты выполняют множество запросов к сервисам для отображения информации, имеет <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2008/ch-8-external-api-problems/">определенные недостатки</a>. Поэтому лучше сделать так, чтобы клиент делал один запрос к <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/api-gateway-pattern/">API-шлюзу</a>, сервису, который служит единой точкой входа для запросов к приложению извне.<br/>
Исходя из этого шлюзу разумно делегировать выполнение следующих функций.</p>
<p>Некоторые API-вызовы реализуются путем направления …</p></div></div><div class="tooltip_templates"><div id="ШаблонывнешнихAPI_tooltip_id"><p>У монолитного сервиса API для внешних клиентов чаще всего и сам монолитный. Однако в микросервисной архитектуре единого API чаще всего нет. Поэтому необходимо решить, каким образом организовать внешний API с учётом разнообразия клиентов, их задач и скоростей доступа.</p></div></div><div class="tooltip_templates"><div id="ПроблемыспроектированиемвнешнихAPI_tooltip_id"><p>Внешние API приложения могут использовать клиенты 4 типов:</p>
<li>Веб-приложения с браузерными UI для заказчиков, ресторанов и администраторов</li>
<li>JavaScript-приложение в браузере</li>
<li>Мобильные приложения</li>
<li>Приложения, написанные сторонними разработчиками</li>
<p>Один из вариантов проектирования API заключается в том, чтобы дать клиентам обращаться к сервисам напрямую. Однако на практике такое делают редко из-за следующих недостатков.</p>
<li>Для извлечения нужных данных клиен…</li></div></div><div class="tooltip_templates"><div id="Трудноститестированиямикросервисов_tooltip_id"><p>Микросервисное приложение - распределенная система, и межпроцессное взаимодействие играет одну из ключевых ролей.<br/>
Очень важно, чтобы разработчики писали тесты, которые проверяют, как он взаимодействует со своими зависимостями и клиентами.<br/>
<a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-interprocess-communication/">Как говорилось</a>, сервисы могут общаться между собой, применяя разнообразные стили и механизмы IPC. Вот, к примеру, схема взаимодействия некоторых сервисов.<br/>
![[Pasted image 20211022193646....</p></div></div><div class="tooltip_templates"><div id="Написаниемодульныхтестовдлясервиса_tooltip_id"><p>Модульные тесты (unit tests) находятся на самом нижнем уровне пирамиды тестирования. Они ориентированы на технологии и могут использоваться в разработке. Модульный тест позволяет убедиться в правильной работе <em>модуля</em> - обычно под модулем понимают класс, так что тесты проверяют, ведет ли себя класс так, как ожидается.<br/>
Существует два типа модульных тестов:</p>
<li><em>изолированный</em> - тестирует отдельно взятый класс, заменяя зависимости объектами-макетами;</li>
<li>*общит…</li></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть1_tooltip_id"><p>Из-за своей сложности микросервисный подход требует внедрения написания автоматических тестов. Некоторые аспекты тестирования микросервисов трудно организовать, так как необходимо убедиться в том, что они могут корректно взаимодействовать между собой, но при этом минимизировать количество медленных, сложных и ненадежных сквозных тестов.<br/>
В этой главе описываются модульные тесты (unit tests). Другие типы тестов - в [[ch-10-testing-microservices-part-2|следующе…</p></div></div><div class="tooltip_templates"><div id="Обзорметодиктестирования_tooltip_id"><p class="admonition-title">Определение</p>
<p>Test Case (тестовый случай, вариант тестирования) - это формально описанный алгоритм тестирования программы, специально созданный для определения возникновения в программе определённой ситуации, определённых выходных данных. <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<p>Иными словами, целью теста является проверка поведения тестируе…</p>
<li id="fn:1">
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<p>https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82_%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p></div></div><div class="tooltip_templates"><div id="Разработкакомпонентныхтестов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Testing%20Patterns/service-component-test-pattern/">Шаблон “компонентный тест сервиса”</a>. <br/>
Компонентные тесты близки к приемочным тестам (acceptance tests), поэтому сперва определим приемочные тесты.</p>
<p>Приемочные тесты относятся к бизнес-аспектам программного компонента. Они описывают предпочтительное поведение, которое наблюдают клиенты компонента, игнорируя внутреннюю реализацию. Формируются на основе сценариев, например, история <code>Place Order</code><br/>
```<br/>
К…</p></div></div><div class="tooltip_templates"><div id="Написаниесквозныхendtoendтестов_tooltip_id"><p>Сквозные тесты тестируют приложение целиком. Они находятся на вершине пирамиды, так как они меделнные и ненадежные, а на их разработку уходит много времени.</p>
<p>Лучше всего, чтобы сквозные тесты были основаны на <em>пользовательских путешествиях</em>🤔, которые описывают перемещение пользователя по системе. Например, проверку создания, пересмотра и отмены заказа можно объединить в один тест.</p>
<p>Сквозные тест…</p></div></div><div class="tooltip_templates"><div id="Написаниеинтеграционныхтестов_tooltip_id"><p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211023125019.png"/><br/>
Интеграционные тесты находятся на пирамиде тестов на один уровень выше <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2009/ch-9-service-unit-tests-implementation/">юнит-тестов</a>. Они помогают убедиться в том, что сервис правильно взаимодействует с инфраструктурой и другими сервисами. Есть две стратегии, упрощающие код таких тестов.<br/>
Первая стратегия заключается в тестировании каждого адаптера сервиса, возможно, вместе со вспомогательными классами.<br/>
Вторая стратегия состоит в исп…</p></div></div><div class="tooltip_templates"><div id="Тестированиемикросервисовчасть2_tooltip_id"><p>Вспомним <em>пирамиду тестов</em>:<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/pyramid-of-tests.png"/><br/>
Поднимаемся выше по этой пирамиде.</p></div></div><div class="tooltip_templates"><div id="Проектированиеконфигурируемыхсервисов_tooltip_id"><p>Нет никакого смысла сохранять значения конфигурационных свойств прямо в коде сервиса, так как в этом случае его пришлось бы повторно собирать для каждой отдельной среды. Кроме того, конфиденциальная информация, такая как учетные данные, должна безопасно храниться в хранилище секретных ключей, таком как <a href="https://www.vaultproject.io/">Hashicorp Vault</a> или [AWS Parameter Store](https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-par…</p></div></div><div class="tooltip_templates"><div id="Разработкасервисовготовыхкпромышленномуиспользованию_tooltip_id"><p>Сервис можно считать готовым к развертыванию только в том случае, когда ему присущи три критически важные качественные характеристики:</p>
<li>Безопасность </li>
<li>Конфигурируемость</li>
<li>Наблюдаемость</li></div></div><div class="tooltip_templates"><div id="Разработкасервисовспомощьюшаблонамикросервисногошасси_tooltip_id"><p>Любой сервис приложения должен поддерживать множество функций для обеспечения <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-secure-services-implementation/">безопасности</a>, <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-configurable-services-design/">конфигурируемости</a> и <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-observable-services-design/">наблюдаемости</a>. Также сервис отвечает за свое <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2003/ch-3-service-discovery/">обнаружение</a> и реализацию <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Communication%20Patterns/circuit-breaker-pattern/">предохранителей</a>. Чтобы не разрабатывать всё это отдельно для каждого сервиса, необхо…</p></div></div><div class="tooltip_templates"><div id="Проектированиенаблюдаемыхсервисов_tooltip_id"><p>Чтобы сделать сервисы более простыми для управления и диагностики, разработчик обязан использовать определенные шаблоны проектирования.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211101195345.png"/><br/>
 Эти шаблоны предоставляют информацию о поведении и работоспособности сервиса, позволяют системе мониторинга отслеживать и визуализировать состояние сервиса и генерировать оповещение при возникновении проблемы.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Observability%20Patterns/health-check-api-pattern/">API проверки работоспособности</a> - предоставляет…</li></div></div><div class="tooltip_templates"><div id="Разработкабезопасныхсервисов_tooltip_id"><p>Разработчик в первую очередь несет ответственность за то, как реализованы четыре аспекта безопасности.</p>
<li><em>Аутентификация</em>. Проверяет подлинность программы или человека, запрашивающего доступ.</li>
<li><em>Авторизация</em>. Проверяет, позволено ли субъекту выполнять запрошенную операцию.</li>
<li><em>Аудит</em>. Отслеживает операции, выполняемые субъектом, чтобы обнаруживать проблемы безопасности.</li>
<li><em>Безопасное межпроцессное взаимодействие</em>.</li></div></div><div class="tooltip_templates"><div id="Обеспечениебезопасностивмикросервиснойархитектуре_tooltip_id"><p>В микросервисной архитектуре каждый запрос клиента обрабатывается API-шлюзом и минимум одним сервисом. Чтобы обеспечить безопасность в микросервисной архитектуре, нужно определиться с тем, кто отвечает за аутентификацию пользователя, а кто - за авторизацию.</p>
<p>Лучше всего сделать так, чтобы клиент аутентифицировался API-шлюзом. <br/>
Это - шаблон <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Security%20Patterns/access-token-pattern/">токен доступа</a>. <br/>
Для API-клиентов пос…</p></div></div><div class="tooltip_templates"><div id="ИспользованиеOAuth20вмикросервиснойархитектуре_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82/%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B/oauth-20/">Oauth 2.0</a></p>
<p><img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211028200026.png"/><br/>
Последовательность событий для API-клиента выглядит так.</p>
<li>Клиент делает запрос, предоставляя свои учетные данные в процессе HTTP-аутентификации.</li>
<li>API-шлюз делает запрос типа <a href="https://www.oauth.com/oauth2-servers/access-tokens/password-grant/">OAuth 2.0 Password Grant</a> к серверу аутентификации.</li>
<li>Сервер аутентификации проверяет учетные данные API-клиента и возвращает токены дос…</li></div></div><div class="tooltip_templates"><div id="Развертываниемикросервисов_tooltip_id"><p><em>Развертывание (deployment)</em> - это сочетание двух взаимосвязанных концепций - процесса и архитектуры. <em>Процесс развертывания</em> заключается в доставке кода в промышленную среду; <em>архитектура развертывания</em> определяет структуру среды, в которой этот код будет выполняться.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211105193720.png"/><br/>
Промышленная среда должна поддерживать четыре ключевые возможности</p>
<li><em>Интерфейс управления сервисами</em> позволяет создавать, обновлять и конфигурировать сервисы.</li>
<li>*…</li></div></div><div class="tooltip_templates"><div id="Аутентификацияиавторизация_tooltip_id"><p>Еще одна проблема, которую нужно решить при переводе монолитного приложения на микросервисы - адаптация существующего механизма безопасности. <a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2011/ch-11-security-in-microservices/">Реализация</a> безопасности для микросервисов основывается на токенах типа JWT. Это довольно сильно отличается от монолитного подхода, предусматривающего хранение сеанса в памяти. Трудность состоит в том, что необходимо одновременно поддерживать оба механизма.<br/>
Существует простой способ решения …</p></div></div><div class="tooltip_templates"><div id="Обеспечениесогласованностиданныхмеждусервисомимонолитом_tooltip_id"><p>Предположим, что мы извлекли из монолита сервис <code>Kitchen</code>. Из-за этого придется перевести в монолитном коде такие операции как <code>createOrder()</code> и <code>cancelOrder()</code> на <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Data%20Management%20Patterns/saga-pattern/">повествования</a>, чтобы сущности <code>Ticket</code> и <code>Order</code> остались согласованными.<br/>
Однако участие монолита в повествованиях не всегда проходит гладко. Например, повествования должны использовать компенсирующие транзакции для отмены изменений, однако, внедрение ком…</p></div></div><div class="tooltip_templates"><div id="Проектированиеинтеграционногослоя_tooltip_id"><p>Проектирование интеграционного слоя нужно начинать с определения того, какие API он будет предоставлять доменной логике. Существует несколько стилей интерфейсов, их выбор зависит от того, запрашиваются данные или обновляются. Если данные запрашиваются, это API лучше инкапсулировать в виде интерфейса репозитория. Если обновляются - в виде интерфейса сервиса (<code>service</code>).</p>
<p>В…</p></div></div><div class="tooltip_templates"><div id="Проектированиевзаимодействиямеждусервисомимонолитом_tooltip_id"><p>Сервисы редко бывают автономными. Обычно им приходится взаимодействовать с монолитом, как в одну сторону (сервису нужно обратиться к данным монолита или вызвать его операции), так и в другую (монолиту могут понадобиться данные и/или операции сервиса).<br/>
Одним из важных моментов является поддержание согласованности данных между сервисом и монолитом. В частности, при извлечении сервиса мы разделили то, что прежде было ACID-транзакцией. Для с…</p></div></div><div class="tooltip_templates"><div id="Реализацияновыхвозможностейввидесервисов_tooltip_id"><p><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%A6%D0%B8%D1%82%D0%B0%D1%82%D1%8B/law-of-holes/">Закон ямы</a> гласит “если вы оказались в яме, перестаньте копать”. Иными словами, если если монолитный проект уже большой и сложный, пора перестать добавлять в него усложняющие новые функции. Вместо этого новые функции следует реализовывать в виде сервисов.</p>
<p>Архитектура приложения после реализации новой возможности в виде сервиса.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106150706.png"/><br/>
Помимо монолита и нового сер…</p></div></div><div class="tooltip_templates"><div id="Извлечениебизнесвозможностейвсервисы_tooltip_id"><p>Для извлечения функций в сервисы необходимо брать вертикальный срез монолита, который состоит из:</p>
<li>входящих адаптеров, реализующих конечные точки API;</li>
<li>доменной логики;</li>
<li>исходящих адаптеров, таких как логика доступа к БД;</li>
<li>схемы базы данных монолита.<br/>
Вышеуказанный код извлекается из монолита и помещается в отдельный сервис.<br/>
<img class="wikilink" src="https://garden.stalker-home.xyz/images/Pasted%20image%2020211106165113.png"/><br/>
Для извлечения сервиса может понадобиться разорвать зависимости и, возможно, разделить сущ…</li></div></div><div class="tooltip_templates"><div id="Процесспереходанамикросервисы_tooltip_id"><p>Как перейти на микросервисную архитектуру? Существуют стратегии, которые помогут выбраться из монолитного ада не переписывая всё с нуля. <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Refactoring%20Patterns/strangler-application-pattern/">Удушающее приложение</a> - это новый проект, состоящий из микросервисов, которые являются реализацией новой функциональности или извлекаются из монолита. По мере реализации всё большего числа возможностей этот проект уменьшает и в конце концов убивает монолит. Важное преимущество по сравнению с пе…</p></div></div><div class="tooltip_templates"><div id="Стратегиипереходасмонолитанамикросервисы_tooltip_id"><p>Существует три основные стратегии для удушения монолита и постепенной замены его микросервисами.</p>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-new-features-as-services/">Новые возможности в виде сервисов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-views-and-sublayers-split/">Разделение уровня представления и внутренних компонентов</a></li>
<li><a class="wikilink" href="https://garden.stalker-home.xyz/%D0%9A%D0%BD%D0%B8%D0%B3%D0%B8/Chris%20Richardson%20-%20Microservices%20Patterns/chapter%2013/ch-13-old-features-as-services/">Разбиение монолита путём оформления функциональности в виде сервисов</a></li>
<p>Первая стратегия предотвращает дальнейшее развитие монолита и быстро продемонстрир…</p></div></div><div class="tooltip_templates"><div id="Переходнамикросервисы_tooltip_id"><p>Как известно, микросервисная архитектура обладает рядом <a class="wikilink" href="https://garden.stalker-home.xyz/Design%20Patterns/Microservice%20Architecture%20Patterns/Application%20Architecture%20Patterns/microservice-architecture-pattern/">преимуществ</a>. Однако переход на микросервисы потребует ресурсов. В итоге такой переход будет одобрен, только если это поможет решить существенные бизнес-проблемы, например:</p>
<li><em>Медленная доставка</em>. В приложении сложно разобраться, затрудняются его обслуживание и тестирование, что снижает продуктивность разработчиков. В и…</li></div></div><div class="tooltip_templates"><div id="Разделениеуровняпредставленияивнутреннихкомпонентов_tooltip_id"><p>Типичное промышленное приложение включает следующие слои:</p>
<li><em>Логика представления</em> - состоит из модулей, которые обрабатывают HTTP-запросы и генерируют HTML-страницы с пользовательским интерфейсом</li>
<li><em>Бизнес-логика</em> - состоит из модулей, реализующих бизнес-правила.</li>
<li><em>Логика доступа к данным</em> - состоит из модулей для доступа к инфраструктурным сервисам, таким как БД и брокеры сообщений.</li>
<p>Бизнес логика обычно обладает обобщенным API с одн…</p></div></div><div class="tooltip_templates"><div id="CAPтеорема_tooltip_id"><p>Эрик Брюэр (Eric Brewer) сформулировал CAP-теорему:</p>
<p class="admonition-title">CAP-теорема</p>
<p>в любой реализации распределённых вычислений возможно обеспечить не более двух из трёх следующих свойств:</p>
<li><em>согласованность данных (consistency)</em> — во всех вычислительных узлах в один момент времени данные не противоречат друг другу;</li>
<li><em>доступность (availability)</em> — любой запрос к распределённой системе завершается корректным откликом, однако без гарантии, что ответы всех узлов системы совпадают;</li>
<li>*у…</li></div></div><div class="tooltip_templates"><div id="ЗаконКонвея_tooltip_id"><p>Мелвин Конвей (Melvin Conway) сформулировал</p>
<p class="admonition-title">Закон Конвея</p>
<p>Организация, проектирующая системы, обречена воспроизводить архитектуру, имитирующую структуру собственных коммуникаций</p>
<p>https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BA%D0%BE%D0%BD_%D0%9A%D0%BE%D0%BD%D0%B2%D0%B5%D1%8F</p></div></div><div class="tooltip_templates"><div id="Законямы_tooltip_id"><p class="admonition-title">Закон ямы</p>
<p>Если вы оказались в яме, перестаньте копать.</p>
<p>https://en.wikipedia.org/wiki/Law_of_holes</p></div></div></body>
</html>